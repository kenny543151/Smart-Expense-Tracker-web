var oI=Object.defineProperty;var lI=(n,t,e)=>t in n?oI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var dt=(n,t,e)=>lI(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Ow(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bm={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function cI(){if(yE)return qc;yE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return qc.Fragment=t,qc.jsx=e,qc.jsxs=e,qc}var _E;function uI(){return _E||(_E=1,bm.exports=cI()),bm.exports}var J=uI(),Em={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function hI(){if(vE)return Gt;vE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function R(U,nt,ut){this.props=U,this.context=nt,this.refs=x,this.updater=ut||E}R.prototype.isReactComponent={},R.prototype.setState=function(U,nt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,nt,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=R.prototype;function N(U,nt,ut){this.props=U,this.context=nt,this.refs=x,this.updater=ut||E}var j=N.prototype=new O;j.constructor=N,w(j,R.prototype),j.isPureReactComponent=!0;var $=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function M(U,nt,ut,ct,vt,Vt){return ut=Vt.ref,{$$typeof:n,type:U,key:nt,ref:ut!==void 0?ut:null,props:Vt}}function C(U,nt){return M(U.type,nt,void 0,void 0,void 0,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var nt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ut){return nt[ut]})}var L=/\/+/g;function z(U,nt){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):nt.toString(36)}function P(){}function $t(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(P,P):(U.status="pending",U.then(function(nt){U.status==="pending"&&(U.status="fulfilled",U.value=nt)},function(nt){U.status==="pending"&&(U.status="rejected",U.reason=nt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ct(U,nt,ut,ct,vt){var Vt=typeof U;(Vt==="undefined"||Vt==="boolean")&&(U=null);var Rt=!1;if(U===null)Rt=!0;else switch(Vt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(U.$$typeof){case n:case t:Rt=!0;break;case m:return Rt=U._init,Ct(Rt(U._payload),nt,ut,ct,vt)}}if(Rt)return vt=vt(U),Rt=ct===""?"."+z(U,0):ct,$(vt)?(ut="",Rt!=null&&(ut=Rt.replace(L,"$&/")+"/"),Ct(vt,nt,ut,"",function(Xn){return Xn})):vt!=null&&(D(vt)&&(vt=C(vt,ut+(vt.key==null||U&&U.key===vt.key?"":(""+vt.key).replace(L,"$&/")+"/")+Rt)),nt.push(vt)),1;Rt=0;var Ne=ct===""?".":ct+":";if($(U))for(var he=0;he<U.length;he++)ct=U[he],Vt=Ne+z(ct,he),Rt+=Ct(ct,nt,ut,Vt,vt);else if(he=v(U),typeof he=="function")for(U=he.call(U),he=0;!(ct=U.next()).done;)ct=ct.value,Vt=Ne+z(ct,he++),Rt+=Ct(ct,nt,ut,Vt,vt);else if(Vt==="object"){if(typeof U.then=="function")return Ct($t(U),nt,ut,ct,vt);throw nt=String(U),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function W(U,nt,ut){if(U==null)return U;var ct=[],vt=0;return Ct(U,ct,"","",function(Vt){return nt.call(ut,Vt,vt++)}),ct}function lt(U){if(U._status===-1){var nt=U._result;nt=nt(),nt.then(function(ut){(U._status===0||U._status===-1)&&(U._status=1,U._result=ut)},function(ut){(U._status===0||U._status===-1)&&(U._status=2,U._result=ut)}),U._status===-1&&(U._status=0,U._result=nt)}if(U._status===1)return U._result.default;throw U._result}var pt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Et(){}return Gt.Children={map:W,forEach:function(U,nt,ut){W(U,function(){nt.apply(this,arguments)},ut)},count:function(U){var nt=0;return W(U,function(){nt++}),nt},toArray:function(U){return W(U,function(nt){return nt})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Gt.Component=R,Gt.Fragment=e,Gt.Profiler=s,Gt.PureComponent=N,Gt.StrictMode=i,Gt.Suspense=f,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return F.H.useMemoCache(U)}},Gt.cache=function(U){return function(){return U.apply(null,arguments)}},Gt.cloneElement=function(U,nt,ut){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ct=w({},U.props),vt=U.key,Vt=void 0;if(nt!=null)for(Rt in nt.ref!==void 0&&(Vt=void 0),nt.key!==void 0&&(vt=""+nt.key),nt)!tt.call(nt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&nt.ref===void 0||(ct[Rt]=nt[Rt]);var Rt=arguments.length-2;if(Rt===1)ct.children=ut;else if(1<Rt){for(var Ne=Array(Rt),he=0;he<Rt;he++)Ne[he]=arguments[he+2];ct.children=Ne}return M(U.type,vt,void 0,void 0,Vt,ct)},Gt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Gt.createElement=function(U,nt,ut){var ct,vt={},Vt=null;if(nt!=null)for(ct in nt.key!==void 0&&(Vt=""+nt.key),nt)tt.call(nt,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(vt[ct]=nt[ct]);var Rt=arguments.length-2;if(Rt===1)vt.children=ut;else if(1<Rt){for(var Ne=Array(Rt),he=0;he<Rt;he++)Ne[he]=arguments[he+2];vt.children=Ne}if(U&&U.defaultProps)for(ct in Rt=U.defaultProps,Rt)vt[ct]===void 0&&(vt[ct]=Rt[ct]);return M(U,Vt,void 0,void 0,null,vt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(U){return{$$typeof:u,render:U}},Gt.isValidElement=D,Gt.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:lt}},Gt.memo=function(U,nt){return{$$typeof:d,type:U,compare:nt===void 0?null:nt}},Gt.startTransition=function(U){var nt=F.T,ut={};F.T=ut;try{var ct=U(),vt=F.S;vt!==null&&vt(ut,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Et,pt)}catch(Vt){pt(Vt)}finally{F.T=nt}},Gt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Gt.use=function(U){return F.H.use(U)},Gt.useActionState=function(U,nt,ut){return F.H.useActionState(U,nt,ut)},Gt.useCallback=function(U,nt){return F.H.useCallback(U,nt)},Gt.useContext=function(U){return F.H.useContext(U)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(U,nt){return F.H.useDeferredValue(U,nt)},Gt.useEffect=function(U,nt,ut){var ct=F.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ct.useEffect(U,nt)},Gt.useId=function(){return F.H.useId()},Gt.useImperativeHandle=function(U,nt,ut){return F.H.useImperativeHandle(U,nt,ut)},Gt.useInsertionEffect=function(U,nt){return F.H.useInsertionEffect(U,nt)},Gt.useLayoutEffect=function(U,nt){return F.H.useLayoutEffect(U,nt)},Gt.useMemo=function(U,nt){return F.H.useMemo(U,nt)},Gt.useOptimistic=function(U,nt){return F.H.useOptimistic(U,nt)},Gt.useReducer=function(U,nt,ut){return F.H.useReducer(U,nt,ut)},Gt.useRef=function(U){return F.H.useRef(U)},Gt.useState=function(U){return F.H.useState(U)},Gt.useSyncExternalStore=function(U,nt,ut){return F.H.useSyncExternalStore(U,nt,ut)},Gt.useTransition=function(){return F.H.useTransition()},Gt.version="19.1.0",Gt}var bE;function Yy(){return bE||(bE=1,Em.exports=hI()),Em.exports}var X=Yy();const fI=Ow(X);var Tm={exports:{}},Yc={},Sm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function dI(){return EE||(EE=1,function(n){function t(W,lt){var pt=W.length;W.push(lt);t:for(;0<pt;){var Et=pt-1>>>1,U=W[Et];if(0<s(U,lt))W[Et]=lt,W[pt]=U,pt=Et;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var lt=W[0],pt=W.pop();if(pt!==lt){W[0]=pt;t:for(var Et=0,U=W.length,nt=U>>>1;Et<nt;){var ut=2*(Et+1)-1,ct=W[ut],vt=ut+1,Vt=W[vt];if(0>s(ct,pt))vt<U&&0>s(Vt,ct)?(W[Et]=Vt,W[vt]=pt,Et=vt):(W[Et]=ct,W[ut]=pt,Et=ut);else if(vt<U&&0>s(Vt,pt))W[Et]=Vt,W[vt]=pt,Et=vt;else break t}}return lt}function s(W,lt){var pt=W.sortIndex-lt.sortIndex;return pt!==0?pt:W.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],m=1,_=null,v=3,E=!1,w=!1,x=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var lt=e(d);lt!==null;){if(lt.callback===null)i(d);else if(lt.startTime<=W)i(d),lt.sortIndex=lt.expirationTime,t(f,lt);else break;lt=e(d)}}function F(W){if(x=!1,$(W),!w)if(e(f)!==null)w=!0,tt||(tt=!0,z());else{var lt=e(d);lt!==null&&Ct(F,lt.startTime-W)}}var tt=!1,M=-1,C=5,D=-1;function k(){return R?!0:!(n.unstable_now()-D<C)}function L(){if(R=!1,tt){var W=n.unstable_now();D=W;var lt=!0;try{t:{w=!1,x&&(x=!1,N(M),M=-1),E=!0;var pt=v;try{e:{for($(W),_=e(f);_!==null&&!(_.expirationTime>W&&k());){var Et=_.callback;if(typeof Et=="function"){_.callback=null,v=_.priorityLevel;var U=Et(_.expirationTime<=W);if(W=n.unstable_now(),typeof U=="function"){_.callback=U,$(W),lt=!0;break e}_===e(f)&&i(f),$(W)}else i(f);_=e(f)}if(_!==null)lt=!0;else{var nt=e(d);nt!==null&&Ct(F,nt.startTime-W),lt=!1}}break t}finally{_=null,v=pt,E=!1}lt=void 0}}finally{lt?z():tt=!1}}}var z;if(typeof j=="function")z=function(){j(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$t=P.port2;P.port1.onmessage=L,z=function(){$t.postMessage(null)}}else z=function(){O(L,0)};function Ct(W,lt){M=O(function(){W(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var lt=3;break;default:lt=v}var pt=v;v=lt;try{return W()}finally{v=pt}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pt=v;v=W;try{return lt()}finally{v=pt}},n.unstable_scheduleCallback=function(W,lt,pt){var Et=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Et+pt:Et):pt=Et,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pt+U,W={id:m++,callback:lt,priorityLevel:W,startTime:pt,expirationTime:U,sortIndex:-1},pt>Et?(W.sortIndex=pt,t(d,W),e(f)===null&&W===e(d)&&(x?(N(M),M=-1):x=!0,Ct(F,pt-Et))):(W.sortIndex=U,t(f,W),w||E||(w=!0,tt||(tt=!0,z()))),W},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(W){var lt=v;return function(){var pt=v;v=lt;try{return W.apply(this,arguments)}finally{v=pt}}}}(wm)),wm}var TE;function gI(){return TE||(TE=1,Sm.exports=dI()),Sm.exports}var xm={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function pI(){if(SE)return Rn;SE=1;var n=Yy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,m)},Rn.flushSync=function(f){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=m,i.d.f()}},Rn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Rn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Rn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Rn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Rn.requestFormReset=function(f){i.d.r(f)},Rn.unstable_batchedUpdates=function(f,d){return f(d)},Rn.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},Rn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Rn.version="19.1.0",Rn}var wE;function mI(){if(wE)return xm.exports;wE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xm.exports=pI(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function yI(){if(xE)return Yc;xE=1;var n=gI(),t=Yy(),e=mI();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,h=a;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return u(p),r;if(y===h)return u(p),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=p,h=y;else{for(var S=!1,A=p.child;A;){if(A===c){S=!0,c=p,h=y;break}if(A===h){S=!0,h=p,c=y;break}A=A.sibling}if(!S){for(A=y.child;A;){if(A===c){S=!0,c=y,h=p;break}if(A===h){S=!0,h=y,c=p;break}A=A.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function d(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=d(r),a!==null)return a;r=r.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function $t(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case R:return"Profiler";case x:return"StrictMode";case F:return"Suspense";case tt:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case j:return(r.displayName||"Context")+".Provider";case N:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return a=r.displayName||null,a!==null?a:$t(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return $t(r(a))}catch{}}return null}var Ct=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Et=[],U=-1;function nt(r){return{current:r}}function ut(r){0>U||(r.current=Et[U],Et[U]=null,U--)}function ct(r,a){U++,Et[U]=r.current,r.current=a}var vt=nt(null),Vt=nt(null),Rt=nt(null),Ne=nt(null);function he(r,a){switch(ct(Rt,a),ct(Vt,r),ct(vt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Yb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Yb(a),r=Gb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ut(vt),ct(vt,r)}function Xn(){ut(vt),ut(Vt),ut(Rt)}function Qn(r){r.memoizedState!==null&&ct(Ne,r);var a=vt.current,c=Gb(a,r.type);a!==c&&(ct(Vt,r),ct(vt,c))}function $e(r){Vt.current===r&&(ut(vt),ut(Vt)),Ne.current===r&&(ut(Ne),zc._currentValue=pt)}var ps=Object.prototype.hasOwnProperty,Yt=n.unstable_scheduleCallback,Be=n.unstable_cancelCallback,ms=n.unstable_shouldYield,ur=n.unstable_requestPaint,xn=n.unstable_now,mo=n.unstable_getCurrentPriorityLevel,hr=n.unstable_ImmediatePriority,Le=n.unstable_UserBlockingPriority,ys=n.unstable_NormalPriority,Hl=n.unstable_LowPriority,fr=n.unstable_IdlePriority,_s=n.log,yo=n.unstable_setDisableYieldValue,Ce=null,fe=null;function Ln(r){if(typeof _s=="function"&&yo(r),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Ce,r)}catch{}}var Je=Math.clz32?Math.clz32:vs,_o=Math.log,ql=Math.LN2;function vs(r){return r>>>=0,r===0?32:31-(_o(r)/ql|0)|0}var bs=256,Es=4194304;function Zn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function dr(r,a,c){var h=r.pendingLanes;if(h===0)return 0;var p=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var A=h&134217727;return A!==0?(h=A&~y,h!==0?p=Zn(h):(S&=A,S!==0?p=Zn(S):c||(c=A&~r,c!==0&&(p=Zn(c))))):(A=h&~y,A!==0?p=Zn(A):S!==0?p=Zn(S):c||(c=h&~r,c!==0&&(p=Zn(c)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:p}function Ts(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function da(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(){var r=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),r}function ot(){var r=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),r}function ht(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function gt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wt(r,a,c,h,p,y){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,G=r.hiddenUpdates;for(c=S&~c;0<c;){var et=31-Je(c),st=1<<et;A[et]=0,V[et]=-1;var K=G[et];if(K!==null)for(G[et]=null,et=0;et<K.length;et++){var Q=K[et];Q!==null&&(Q.lane&=-536870913)}c&=~st}h!==0&&Dt(r,h,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~a))}function Dt(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-Je(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194090}function Tt(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var h=31-Je(c),p=1<<h;p&a|r[h]&a&&(r[h]|=a),c&=~p}}function yt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function St(){var r=lt.p;return r!==0?r:(r=window.event,r===void 0?32:hE(r.type))}function ie(r,a){var c=lt.p;try{return lt.p=r,a()}finally{lt.p=c}}var Bt=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Bt,zt="__reactProps$"+Bt,jt="__reactContainer$"+Bt,se="__reactEvents$"+Bt,Fn="__reactListeners$"+Bt,tn="__reactHandles$"+Bt,Fe="__reactResources$"+Bt,Ai="__reactMarker$"+Bt;function Ri(r){delete r[Pt],delete r[zt],delete r[se],delete r[Fn],delete r[tn]}function hi(r){var a=r[Pt];if(a)return a;for(var c=r.parentNode;c;){if(a=c[jt]||c[Pt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Xb(r);r!==null;){if(c=r[Pt])return c;r=Xb(r)}return a}r=c,c=r.parentNode}return null}function Fi(r){if(r=r[Pt]||r[jt]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function ji(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Vn(r){var a=r[Fe];return a||(a=r[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function je(r){r[Ai]=!0}var Yl=new Set,vo={};function Ci(r,a){Ss(r,a),Ss(r+"Capture",a)}function Ss(r,a){for(vo[r]=a,r=0;r<a.length;r++)Yl.add(a[r])}var oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},ga={};function ch(r){return ps.call(ga,r)?!0:ps.call(lh,r)?!1:oh.test(r)?ga[r]=!0:(lh[r]=!0,!1)}function gr(r,a,c){if(ch(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Hi(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function mn(r,a,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+h)}}var pa,uh;function ws(r){if(pa===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);pa=a&&a[1]||"",uh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+r+uh}var bo=!1;function Eo(r,a){if(!r||bo)return"";bo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Q){var K=Q}Reflect.construct(r,[],st)}else{try{st.call()}catch(Q){K=Q}r.call(st.prototype)}}else{try{throw Error()}catch(Q){K=Q}(st=r())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],A=y[1];if(S&&A){var V=S.split(`
`),G=A.split(`
`);for(p=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(h===V.length||p===G.length)for(h=V.length-1,p=G.length-1;1<=h&&0<=p&&V[h]!==G[p];)p--;for(;1<=h&&0<=p;h--,p--)if(V[h]!==G[p]){if(h!==1||p!==1)do if(h--,p--,0>p||V[h]!==G[p]){var et=`
`+V[h].replace(" at new "," at ");return r.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",r.displayName)),et}while(1<=h&&0<=p);break}}}finally{bo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ws(c):""}function Gl(r){switch(r.tag){case 26:case 27:case 5:return ws(r.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return Eo(r.type,!1);case 11:return Eo(r.type.render,!1);case 1:return Eo(r.type,!0);case 31:return ws("Activity");default:return""}}function To(r){try{var a="";do a+=Gl(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $l(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wg(r){var a=$l(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),h=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function So(r){r._valueTracker||(r._valueTracker=wg(r))}function Kl(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return r&&(h=$l(r)?r.checked?"true":"false":r.value),r=h,r!==c?(a.setValue(r),!0):!1}function ma(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var xg=/[\n"\\]/g;function Ke(r){return r.replace(xg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(r,a,c,h,p,y,S,A){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Un(a)):r.value!==""+Un(a)&&(r.value=""+Un(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?pr(r,S,Un(a)):c!=null?pr(r,S,Un(c)):h!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Un(A):r.removeAttribute("name")}function ya(r,a,c,h,p,y,S,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+Un(c):"",a=a!=null?""+Un(a):c,A||a===r.value||(r.value=a),r.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=A?r.checked:!!h,r.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function pr(r,a,c){a==="number"&&ma(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function xs(r,a,c,h){if(r=r.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=a.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&h&&(r[c].defaultSelected=!0)}else{for(c=""+Un(c),a=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function ve(r,a,c){if(a!=null&&(a=""+Un(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Un(c):""}function _a(r,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(Ct(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Un(a),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function fi(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(r,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,c):typeof c!="number"||c===0||va.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Wl(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&c[p]!==h&&hh(r,p,h)}else for(var y in a)a.hasOwnProperty(y)&&hh(r,y,a[y])}function Xl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(r){return Rg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var As=null;function di(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rs=null,Cs=null;function Ql(r){var a=Fi(r);if(a&&(r=a.stateNode)){var c=r[zt]||null;t:switch(r=a.stateNode,a.type){case"input":if(Jn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ke(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==r&&h.form===r.form){var p=h[zt]||null;if(!p)throw Error(i(90));Jn(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===r.form&&Kl(h)}break t;case"textarea":ve(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&xs(r,!!c.multiple,a,!1)}}}var qi=!1;function fh(r,a,c){if(qi)return r(a,c);qi=!0;try{var h=r(a);return h}finally{if(qi=!1,(Rs!==null||Cs!==null)&&(af(),Rs&&(a=Rs,r=Cs,Cs=Rs=null,Ql(a),r)))for(a=0;a<r.length;a++)Ql(r[a])}}function ba(r,a){var c=r.stateNode;if(c===null)return null;var h=c[zt]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Ii)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{gi=!1}var Yi=null,mr=null,Is=null;function Zl(){if(Is)return Is;var r,a=mr,c=a.length,h,p="value"in Yi?Yi.value:Yi.textContent,y=p.length;for(r=0;r<c&&a[r]===p[r];r++);var S=c-r;for(h=1;h<=S&&a[c-h]===p[y-h];h++);return Is=p.slice(r,1<h?1-h:void 0)}function Gi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function $i(){return!0}function Jl(){return!1}function cn(r){function a(c,h,p,y,S){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(c=r[A],this[A]=c?c(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$i:Jl,this.isPropagationStopped=Jl,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),a}var ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=cn(ge),Ta=m({},ge,{view:0,detail:0}),dh=cn(Ta),Ao,Ro,Ki,Sa=m({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ki&&(Ki&&r.type==="mousemove"?(Ao=r.screenX-Ki.screenX,Ro=r.screenY-Ki.screenY):Ro=Ao=0,Ki=r),Ao)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),pi=cn(Sa),gh=m({},Sa,{dataTransfer:0}),Cg=cn(gh),wa=m({},Ta,{relatedTarget:0}),Co=cn(wa),tc=m({},ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=cn(tc),ph=m({},ge,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Do=cn(ph),Ig=m({},ge,{data:0}),ec=cn(Ig),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=yh[r])?!!a[r]:!1}function Aa(){return nc}var _h=m({},Ta,{key:function(r){if(r.key){var a=xa[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Gi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(r){return r.type==="keypress"?Gi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Mo=cn(_h),vh=m({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=cn(vh),Ds=m({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),bh=cn(Ds),Eh=m({},ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Th=cn(Eh),Sh=m({},Sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oo=cn(Sh),zn=m({},ge,{newState:0,oldState:0}),wh=cn(zn),xh=[9,13,27,32],Wi=Ii&&"CompositionEvent"in window,g=null;Ii&&"documentMode"in document&&(g=document.documentMode);var b=Ii&&"TextEvent"in window&&!g,T=Ii&&(!Wi||g&&8<g&&11>=g),I=" ",q=!1;function Z(r,a){switch(r){case"keyup":return xh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var re=!1;function en(r,a){switch(r){case"compositionend":return ft(a);case"keypress":return a.which!==32?null:(q=!0,I);case"textInput":return r=a.data,r===I&&q?null:r;default:return null}}function ae(r,a){if(re)return r==="compositionend"||!Wi&&Z(r,a)?(r=Zl(),Is=mr=Yi=null,re=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!un[r.type]:a==="textarea"}function Ms(r,a,c,h){Rs?Cs?Cs.push(h):Cs=[h]:Rs=h,a=ff(a,"onChange"),0<a.length&&(c=new xo("onChange","change",null,c,h),r.push({event:c,listeners:a}))}var yn=null,Xi=null;function sc(r){Bb(r,0)}function Ah(r){var a=ji(r);if(Kl(a))return r}function ov(r,a){if(r==="change")return a}var lv=!1;if(Ii){var Dg;if(Ii){var Mg="oninput"in document;if(!Mg){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),Mg=typeof cv.oninput=="function"}Dg=Mg}else Dg=!1;lv=Dg&&(!document.documentMode||9<document.documentMode)}function uv(){yn&&(yn.detachEvent("onpropertychange",hv),Xi=yn=null)}function hv(r){if(r.propertyName==="value"&&Ah(Xi)){var a=[];Ms(a,Xi,r,di(r)),fh(sc,a)}}function VR(r,a,c){r==="focusin"?(uv(),yn=a,Xi=c,yn.attachEvent("onpropertychange",hv)):r==="focusout"&&uv()}function UR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ah(Xi)}function zR(r,a){if(r==="click")return Ah(a)}function BR(r,a){if(r==="input"||r==="change")return Ah(a)}function FR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ti=typeof Object.is=="function"?Object.is:FR;function rc(r,a){if(ti(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!ps.call(a,p)||!ti(r[p],a[p]))return!1}return!0}function fv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dv(r,a){var c=fv(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=a&&h>=a)return{node:c,offset:a-r};r=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=fv(c)}}function gv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?gv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function pv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=ma(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=ma(r.document)}return a}function Og(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var jR=Ii&&"documentMode"in document&&11>=document.documentMode,ko=null,kg=null,ac=null,Pg=!1;function mv(r,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pg||ko==null||ko!==ma(h)||(h=ko,"selectionStart"in h&&Og(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ac&&rc(ac,h)||(ac=h,h=ff(kg,"onSelect"),0<h.length&&(a=new xo("onSelect","select",null,a,c),r.push({event:a,listeners:h}),a.target=ko)))}function Ra(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Po={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Ng={},yv={};Ii&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Ca(r){if(Ng[r])return Ng[r];if(!Po[r])return r;var a=Po[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in yv)return Ng[r]=a[c];return r}var _v=Ca("animationend"),vv=Ca("animationiteration"),bv=Ca("animationstart"),HR=Ca("transitionrun"),qR=Ca("transitionstart"),YR=Ca("transitioncancel"),Ev=Ca("transitionend"),Tv=new Map,Lg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lg.push("scrollEnd");function Di(r,a){Tv.set(r,a),Ci(a,[r])}var Sv=new WeakMap;function mi(r,a){if(typeof r=="object"&&r!==null){var c=Sv.get(r);return c!==void 0?c:(a={value:r,source:a,stack:To(a)},Sv.set(r,a),a)}return{value:r,source:a,stack:To(a)}}var yi=[],No=0,Vg=0;function Rh(){for(var r=No,a=Vg=No=0;a<r;){var c=yi[a];yi[a++]=null;var h=yi[a];yi[a++]=null;var p=yi[a];yi[a++]=null;var y=yi[a];if(yi[a++]=null,h!==null&&p!==null){var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}y!==0&&wv(c,p,y)}}function Ch(r,a,c,h){yi[No++]=r,yi[No++]=a,yi[No++]=c,yi[No++]=h,Vg|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Ug(r,a,c,h){return Ch(r,a,c,h),Ih(r)}function Lo(r,a){return Ch(r,null,null,a),Ih(r)}function wv(r,a,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var p=!1,y=r.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&a!==null&&(p=31-Je(c),r=y.hiddenUpdates,h=r[p],h===null?r[p]=[a]:h.push(a),a.lane=c|536870912),y):null}function Ih(r){if(50<Mc)throw Mc=0,qp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Vo={};function GR(r,a,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(r,a,c,h){return new GR(r,a,c,h)}function zg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Os(r,a){var c=r.alternate;return c===null?(c=ei(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function xv(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Dh(r,a,c,h,p,y){var S=0;if(h=r,typeof r=="function")zg(r)&&(S=1);else if(typeof r=="string")S=KC(r,c,vt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case D:return r=ei(31,c,a,p),r.elementType=D,r.lanes=y,r;case w:return Ia(c.children,p,y,a);case x:S=8,p|=24;break;case R:return r=ei(12,c,a,p|2),r.elementType=R,r.lanes=y,r;case F:return r=ei(13,c,a,p),r.elementType=F,r.lanes=y,r;case tt:return r=ei(19,c,a,p),r.elementType=tt,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case j:S=10;break t;case N:S=9;break t;case $:S=11;break t;case M:S=14;break t;case C:S=16,h=null;break t}S=29,c=Error(i(130,r===null?"null":typeof r,"")),h=null}return a=ei(S,c,a,p),a.elementType=r,a.type=h,a.lanes=y,a}function Ia(r,a,c,h){return r=ei(7,r,h,a),r.lanes=c,r}function Bg(r,a,c){return r=ei(6,r,null,a),r.lanes=c,r}function Fg(r,a,c){return a=ei(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Uo=[],zo=0,Mh=null,Oh=0,_i=[],vi=0,Da=null,ks=1,Ps="";function Ma(r,a){Uo[zo++]=Oh,Uo[zo++]=Mh,Mh=r,Oh=a}function Av(r,a,c){_i[vi++]=ks,_i[vi++]=Ps,_i[vi++]=Da,Da=r;var h=ks;r=Ps;var p=32-Je(h)-1;h&=~(1<<p),c+=1;var y=32-Je(a)+p;if(30<y){var S=p-p%5;y=(h&(1<<S)-1).toString(32),h>>=S,p-=S,ks=1<<32-Je(a)+p|c<<p|h,Ps=y+r}else ks=1<<y|c<<p|h,Ps=r}function jg(r){r.return!==null&&(Ma(r,1),Av(r,1,0))}function Hg(r){for(;r===Mh;)Mh=Uo[--zo],Uo[zo]=null,Oh=Uo[--zo],Uo[zo]=null;for(;r===Da;)Da=_i[--vi],_i[vi]=null,Ps=_i[--vi],_i[vi]=null,ks=_i[--vi],_i[vi]=null}var Bn=null,Ve=null,de=!1,Oa=null,Qi=!1,qg=Error(i(519));function ka(r){var a=Error(i(418,""));throw cc(mi(a,r)),qg}function Rv(r){var a=r.stateNode,c=r.type,h=r.memoizedProps;switch(a[Pt]=r,a[zt]=h,c){case"dialog":Zt("cancel",a),Zt("close",a);break;case"iframe":case"object":case"embed":Zt("load",a);break;case"video":case"audio":for(c=0;c<kc.length;c++)Zt(kc[c],a);break;case"source":Zt("error",a);break;case"img":case"image":case"link":Zt("error",a),Zt("load",a);break;case"details":Zt("toggle",a);break;case"input":Zt("invalid",a),ya(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),So(a);break;case"select":Zt("invalid",a);break;case"textarea":Zt("invalid",a),_a(a,h.value,h.defaultValue,h.children),So(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||qb(a.textContent,c)?(h.popover!=null&&(Zt("beforetoggle",a),Zt("toggle",a)),h.onScroll!=null&&Zt("scroll",a),h.onScrollEnd!=null&&Zt("scrollend",a),h.onClick!=null&&(a.onclick=df),a=!0):a=!1,a||ka(r)}function Cv(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:Bn=Bn.return}}function oc(r){if(r!==Bn)return!1;if(!de)return Cv(r),de=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||am(r.type,r.memoizedProps)),c=!c),c&&Ve&&ka(r),Cv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Ve=Oi(r.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Ve=null}}else a===27?(a=Ve,Or(r.type)?(r=um,um=null,Ve=r):Ve=a):Ve=Bn?Oi(r.stateNode.nextSibling):null;return!0}function lc(){Ve=Bn=null,de=!1}function Iv(){var r=Oa;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),Oa=null),r}function cc(r){Oa===null?Oa=[r]:Oa.push(r)}var Yg=nt(null),Pa=null,Ns=null;function yr(r,a,c){ct(Yg,a._currentValue),a._currentValue=c}function Ls(r){r._currentValue=Yg.current,ut(Yg)}function Gg(r,a,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===c)break;r=r.return}}function $g(r,a,c,h){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;t:for(;y!==null;){var A=y;y=p;for(var V=0;V<a.length;V++)if(A.context===a[V]){y.lanes|=c,A=y.alternate,A!==null&&(A.lanes|=c),Gg(y.return,c,r),h||(S=null);break t}y=A.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=c,y=S.alternate,y!==null&&(y.lanes|=c),Gg(S,c,r),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===r){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function uc(r,a,c,h){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var A=p.type;ti(p.pendingProps.value,S.value)||(r!==null?r.push(A):r=[A])}}else if(p===Ne.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(zc):r=[zc])}p=p.return}r!==null&&$g(a,r,c,h),a.flags|=262144}function kh(r){for(r=r.firstContext;r!==null;){if(!ti(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){Pa=r,Ns=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function An(r){return Dv(Pa,r)}function Ph(r,a){return Pa===null&&Na(r),Dv(r,a)}function Dv(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Ns===null){if(r===null)throw Error(i(308));Ns=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ns=Ns.next=a;return c}var $R=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},KR=n.unstable_scheduleCallback,WR=n.unstable_NormalPriority,sn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kg(){return{controller:new $R,data:new Map,refCount:0}}function hc(r){r.refCount--,r.refCount===0&&KR(WR,function(){r.controller.abort()})}var fc=null,Wg=0,Bo=0,Fo=null;function XR(r,a){if(fc===null){var c=fc=[];Wg=0,Bo=Qp(),Fo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Wg++,a.then(Mv,Mv),a}function Mv(){if(--Wg===0&&fc!==null){Fo!==null&&(Fo.status="fulfilled");var r=fc;fc=null,Bo=0,Fo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function QR(r,a){var c=[],h={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),h}var Ov=W.S;W.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&XR(r,a),Ov!==null&&Ov(r,a)};var La=nt(null);function Xg(){var r=La.current;return r!==null?r:we.pooledCache}function Nh(r,a){a===null?ct(La,La.current):ct(La,a.pool)}function kv(){var r=Xg();return r===null?null:{parent:sn._currentValue,pool:r}}var dc=Error(i(460)),Pv=Error(i(474)),Lh=Error(i(542)),Qg={then:function(){}};function Nv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vh(){}function Lv(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Vh,Vh),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Uv(r),r;default:if(typeof a.status=="string")a.then(Vh,Vh);else{if(r=we,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Uv(r),r}throw gc=a,dc}}var gc=null;function Vv(){if(gc===null)throw Error(i(459));var r=gc;return gc=null,r}function Uv(r){if(r===dc||r===Lh)throw Error(i(483))}var _r=!1;function Zg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function vr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function br(r,a,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(me&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=Ih(r),wv(r,null,c),a}return Ch(r,h,a,c),Ih(r)}function pc(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Tt(r,c)}}function tp(r,a){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?p=y=a:y=y.next=a}else p=y=a;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var ep=!1;function mc(){if(ep){var r=Fo;if(r!==null)throw r}}function yc(r,a,c,h){ep=!1;var p=r.updateQueue;_r=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var V=A,G=V.next;V.next=null,S===null?y=G:S.next=G,S=V;var et=r.alternate;et!==null&&(et=et.updateQueue,A=et.lastBaseUpdate,A!==S&&(A===null?et.firstBaseUpdate=G:A.next=G,et.lastBaseUpdate=V))}if(y!==null){var st=p.baseState;S=0,et=G=V=null,A=y;do{var K=A.lane&-536870913,Q=K!==A.lane;if(Q?(oe&K)===K:(h&K)===K){K!==0&&K===Bo&&(ep=!0),et!==null&&(et=et.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Ut=r,Mt=A;K=a;var Te=c;switch(Mt.tag){case 1:if(Ut=Mt.payload,typeof Ut=="function"){st=Ut.call(Te,st,K);break t}st=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Mt.payload,K=typeof Ut=="function"?Ut.call(Te,st,K):Ut,K==null)break t;st=m({},st,K);break t;case 2:_r=!0}}K=A.callback,K!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},et===null?(G=et=Q,V=st):et=et.next=Q,S|=K;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);et===null&&(V=st),p.baseState=V,p.firstBaseUpdate=G,p.lastBaseUpdate=et,y===null&&(p.shared.lanes=0),Cr|=S,r.lanes=S,r.memoizedState=st}}function zv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Bv(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)zv(c[r],a)}var jo=nt(null),Uh=nt(0);function Fv(r,a){r=Hs,ct(Uh,r),ct(jo,a),Hs=r|a.baseLanes}function np(){ct(Uh,Hs),ct(jo,jo.current)}function ip(){Hs=Uh.current,ut(jo),ut(Uh)}var Er=0,Kt=null,be=null,We=null,zh=!1,Ho=!1,Va=!1,Bh=0,_c=0,qo=null,ZR=0;function He(){throw Error(i(321))}function sp(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!ti(r[c],a[c]))return!1;return!0}function rp(r,a,c,h,p,y){return Er=y,Kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=r===null||r.memoizedState===null?w0:x0,Va=!1,y=c(h,p),Va=!1,Ho&&(y=Hv(a,c,h,p)),jv(r),y}function jv(r){W.H=Gh;var a=be!==null&&be.next!==null;if(Er=0,We=be=Kt=null,zh=!1,_c=0,qo=null,a)throw Error(i(300));r===null||hn||(r=r.dependencies,r!==null&&kh(r)&&(hn=!0))}function Hv(r,a,c,h){Kt=r;var p=0;do{if(Ho&&(qo=null),_c=0,Ho=!1,25<=p)throw Error(i(301));if(p+=1,We=be=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=rC,y=a(c,h)}while(Ho);return y}function JR(){var r=W.H,a=r.useState()[0];return a=typeof a.then=="function"?vc(a):a,r=r.useState()[0],(be!==null?be.memoizedState:null)!==r&&(Kt.flags|=1024),a}function ap(){var r=Bh!==0;return Bh=0,r}function op(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function lp(r){if(zh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}zh=!1}Er=0,We=be=Kt=null,Ho=!1,_c=Bh=0,qo=null}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Kt.memoizedState=We=r:We=We.next=r,We}function Xe(){if(be===null){var r=Kt.alternate;r=r!==null?r.memoizedState:null}else r=be.next;var a=We===null?Kt.memoizedState:We.next;if(a!==null)We=a,be=r;else{if(r===null)throw Kt.alternate===null?Error(i(467)):Error(i(310));be=r,r={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},We===null?Kt.memoizedState=We=r:We=We.next=r}return We}function cp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(r){var a=_c;return _c+=1,qo===null&&(qo=[]),r=Lv(qo,r,a),a=Kt,(We===null?a.memoizedState:We.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?w0:x0),r}function Fh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vc(r);if(r.$$typeof===j)return An(r)}throw Error(i(438,String(r)))}function up(r){var a=null,c=Kt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Kt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=cp(),Kt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),h=0;h<r;h++)c[h]=k;return a.index++,c}function Vs(r,a){return typeof a=="function"?a(r):a}function jh(r){var a=Xe();return hp(a,be,r)}function hp(r,a,c){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var p=r.baseQueue,y=h.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}a.baseQueue=p=y,h.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var A=S=null,V=null,G=a,et=!1;do{var st=G.lane&-536870913;if(st!==G.lane?(oe&st)===st:(Er&st)===st){var K=G.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),st===Bo&&(et=!0);else if((Er&K)===K){G=G.next,K===Bo&&(et=!0);continue}else st={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(A=V=st,S=y):V=V.next=st,Kt.lanes|=K,Cr|=K;st=G.action,Va&&c(y,st),y=G.hasEagerState?G.eagerState:c(y,st)}else K={lane:st,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(A=V=K,S=y):V=V.next=K,Kt.lanes|=st,Cr|=st;G=G.next}while(G!==null&&G!==a);if(V===null?S=y:V.next=A,!ti(y,r.memoizedState)&&(hn=!0,et&&(c=Fo,c!==null)))throw c;r.memoizedState=y,r.baseState=S,r.baseQueue=V,h.lastRenderedState=y}return p===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function fp(r){var a=Xe(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var h=c.dispatch,p=c.pending,y=a.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do y=r(y,S.action),S=S.next;while(S!==p);ti(y,a.memoizedState)||(hn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function qv(r,a,c){var h=Kt,p=Xe(),y=de;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var S=!ti((be||p).memoizedState,c);S&&(p.memoizedState=c,hn=!0),p=p.queue;var A=$v.bind(null,h,p,r);if(bc(2048,8,A,[r]),p.getSnapshot!==a||S||We!==null&&We.memoizedState.tag&1){if(h.flags|=2048,Yo(9,Hh(),Gv.bind(null,h,p,c,a),null),we===null)throw Error(i(349));y||(Er&124)!==0||Yv(h,a,c)}return c}function Yv(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Kt.updateQueue,a===null?(a=cp(),Kt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Gv(r,a,c,h){a.value=c,a.getSnapshot=h,Kv(a)&&Wv(r)}function $v(r,a,c){return c(function(){Kv(a)&&Wv(r)})}function Kv(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!ti(r,c)}catch{return!0}}function Wv(r){var a=Lo(r,2);a!==null&&ai(a,r,2)}function dp(r){var a=jn();if(typeof r=="function"){var c=r;if(r=c(),Va){Ln(!0);try{c()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:r},a}function Xv(r,a,c,h){return r.baseState=c,hp(r,be,typeof h=="function"?h:Vs)}function tC(r,a,c,h,p){if(Yh(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};W.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,Qv(a,y)):(y.next=c.next,a.pending=c.next=y)}}function Qv(r,a){var c=a.action,h=a.payload,p=r.state;if(a.isTransition){var y=W.T,S={};W.T=S;try{var A=c(p,h),V=W.S;V!==null&&V(S,A),Zv(r,a,A)}catch(G){gp(r,a,G)}finally{W.T=y}}else try{y=c(p,h),Zv(r,a,y)}catch(G){gp(r,a,G)}}function Zv(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Jv(r,a,h)},function(h){return gp(r,a,h)}):Jv(r,a,c)}function Jv(r,a,c){a.status="fulfilled",a.value=c,t0(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,Qv(r,c)))}function gp(r,a,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,t0(a),a=a.next;while(a!==h)}r.action=null}function t0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function e0(r,a){return a}function n0(r,a){if(de){var c=we.formState;if(c!==null){t:{var h=Kt;if(de){if(Ve){e:{for(var p=Ve,y=Qi;p.nodeType!==8;){if(!y){p=null;break e}if(p=Oi(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Ve=Oi(p.nextSibling),h=p.data==="F!";break t}}ka(h)}h=!1}h&&(a=c[0])}}return c=jn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:a},c.queue=h,c=E0.bind(null,Kt,h),h.dispatch=c,h=dp(!1),y=vp.bind(null,Kt,!1,h.queue),h=jn(),p={state:a,dispatch:null,action:r,pending:null},h.queue=p,c=tC.bind(null,Kt,p,y,c),p.dispatch=c,h.memoizedState=r,[a,c,!1]}function i0(r){var a=Xe();return s0(a,be,r)}function s0(r,a,c){if(a=hp(r,a,e0)[0],r=jh(Vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=vc(a)}catch(S){throw S===dc?Lh:S}else h=a;a=Xe();var p=a.queue,y=p.dispatch;return c!==a.memoizedState&&(Kt.flags|=2048,Yo(9,Hh(),eC.bind(null,p,c),null)),[h,y,r]}function eC(r,a){r.action=a}function r0(r){var a=Xe(),c=be;if(c!==null)return s0(a,c,r);Xe(),a=a.memoizedState,c=Xe();var h=c.queue.dispatch;return c.memoizedState=r,[a,h,!1]}function Yo(r,a,c,h){return r={tag:r,create:c,deps:h,inst:a,next:null},a=Kt.updateQueue,a===null&&(a=cp(),Kt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,a.lastEffect=r),r}function Hh(){return{destroy:void 0,resource:void 0}}function a0(){return Xe().memoizedState}function qh(r,a,c,h){var p=jn();h=h===void 0?null:h,Kt.flags|=r,p.memoizedState=Yo(1|a,Hh(),c,h)}function bc(r,a,c,h){var p=Xe();h=h===void 0?null:h;var y=p.memoizedState.inst;be!==null&&h!==null&&sp(h,be.memoizedState.deps)?p.memoizedState=Yo(a,y,c,h):(Kt.flags|=r,p.memoizedState=Yo(1|a,y,c,h))}function o0(r,a){qh(8390656,8,r,a)}function l0(r,a){bc(2048,8,r,a)}function c0(r,a){return bc(4,2,r,a)}function u0(r,a){return bc(4,4,r,a)}function h0(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function f0(r,a,c){c=c!=null?c.concat([r]):null,bc(4,4,h0.bind(null,a,r),c)}function pp(){}function d0(r,a){var c=Xe();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&sp(a,h[1])?h[0]:(c.memoizedState=[r,a],r)}function g0(r,a){var c=Xe();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&sp(a,h[1]))return h[0];if(h=r(),Va){Ln(!0);try{r()}finally{Ln(!1)}}return c.memoizedState=[h,a],h}function mp(r,a,c){return c===void 0||(Er&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=yb(),Kt.lanes|=r,Cr|=r,c)}function p0(r,a,c,h){return ti(c,a)?c:jo.current!==null?(r=mp(r,c,h),ti(r,a)||(hn=!0),r):(Er&42)===0?(hn=!0,r.memoizedState=c):(r=yb(),Kt.lanes|=r,Cr|=r,a)}function m0(r,a,c,h,p){var y=lt.p;lt.p=y!==0&&8>y?y:8;var S=W.T,A={};W.T=A,vp(r,!1,a,c);try{var V=p(),G=W.S;if(G!==null&&G(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var et=QR(V,h);Ec(r,a,et,ri(r))}else Ec(r,a,h,ri(r))}catch(st){Ec(r,a,{then:function(){},status:"rejected",reason:st},ri())}finally{lt.p=y,W.T=S}}function nC(){}function yp(r,a,c,h){if(r.tag!==5)throw Error(i(476));var p=y0(r).queue;m0(r,p,a,pt,c===null?nC:function(){return _0(r),c(h)})}function y0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:pt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function _0(r){var a=y0(r).next.queue;Ec(r,a,{},ri())}function _p(){return An(zc)}function v0(){return Xe().memoizedState}function b0(){return Xe().memoizedState}function iC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ri();r=vr(c);var h=br(a,r,c);h!==null&&(ai(h,a,c),pc(h,a,c)),a={cache:Kg()},r.payload=a;return}a=a.return}}function sC(r,a,c){var h=ri();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Yh(r)?T0(a,c):(c=Ug(r,a,c,h),c!==null&&(ai(c,r,h),S0(c,a,h)))}function E0(r,a,c){var h=ri();Ec(r,a,c,h)}function Ec(r,a,c,h){var p={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yh(r))T0(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,A=y(S,c);if(p.hasEagerState=!0,p.eagerState=A,ti(A,S))return Ch(r,a,p,0),we===null&&Rh(),!1}catch{}finally{}if(c=Ug(r,a,p,h),c!==null)return ai(c,r,h),S0(c,a,h),!0}return!1}function vp(r,a,c,h){if(h={lane:2,revertLane:Qp(),action:h,hasEagerState:!1,eagerState:null,next:null},Yh(r)){if(a)throw Error(i(479))}else a=Ug(r,c,h,2),a!==null&&ai(a,r,2)}function Yh(r){var a=r.alternate;return r===Kt||a!==null&&a===Kt}function T0(r,a){Ho=zh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function S0(r,a,c){if((c&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Tt(r,c)}}var Gh={readContext:An,use:Fh,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He},w0={readContext:An,use:Fh,useCallback:function(r,a){return jn().memoizedState=[r,a===void 0?null:a],r},useContext:An,useEffect:o0,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,qh(4194308,4,h0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return qh(4194308,4,r,a)},useInsertionEffect:function(r,a){qh(4,2,r,a)},useMemo:function(r,a){var c=jn();a=a===void 0?null:a;var h=r();if(Va){Ln(!0);try{r()}finally{Ln(!1)}}return c.memoizedState=[h,a],h},useReducer:function(r,a,c){var h=jn();if(c!==void 0){var p=c(a);if(Va){Ln(!0);try{c(a)}finally{Ln(!1)}}}else p=a;return h.memoizedState=h.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},h.queue=r,r=r.dispatch=sC.bind(null,Kt,r),[h.memoizedState,r]},useRef:function(r){var a=jn();return r={current:r},a.memoizedState=r},useState:function(r){r=dp(r);var a=r.queue,c=E0.bind(null,Kt,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:pp,useDeferredValue:function(r,a){var c=jn();return mp(c,r,a)},useTransition:function(){var r=dp(!1);return r=m0.bind(null,Kt,r.queue,!0,!1),jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var h=Kt,p=jn();if(de){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),we===null)throw Error(i(349));(oe&124)!==0||Yv(h,a,c)}p.memoizedState=c;var y={value:c,getSnapshot:a};return p.queue=y,o0($v.bind(null,h,y,r),[r]),h.flags|=2048,Yo(9,Hh(),Gv.bind(null,h,y,c,a),null),c},useId:function(){var r=jn(),a=we.identifierPrefix;if(de){var c=Ps,h=ks;c=(h&~(1<<32-Je(h)-1)).toString(32)+c,a="«"+a+"R"+c,c=Bh++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=ZR++,a="«"+a+"r"+c.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:_p,useFormState:n0,useActionState:n0,useOptimistic:function(r){var a=jn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=vp.bind(null,Kt,!0,c),c.dispatch=a,[r,a]},useMemoCache:up,useCacheRefresh:function(){return jn().memoizedState=iC.bind(null,Kt)}},x0={readContext:An,use:Fh,useCallback:d0,useContext:An,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:g0,useReducer:jh,useRef:a0,useState:function(){return jh(Vs)},useDebugValue:pp,useDeferredValue:function(r,a){var c=Xe();return p0(c,be.memoizedState,r,a)},useTransition:function(){var r=jh(Vs)[0],a=Xe().memoizedState;return[typeof r=="boolean"?r:vc(r),a]},useSyncExternalStore:qv,useId:v0,useHostTransitionStatus:_p,useFormState:i0,useActionState:i0,useOptimistic:function(r,a){var c=Xe();return Xv(c,be,r,a)},useMemoCache:up,useCacheRefresh:b0},rC={readContext:An,use:Fh,useCallback:d0,useContext:An,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:g0,useReducer:fp,useRef:a0,useState:function(){return fp(Vs)},useDebugValue:pp,useDeferredValue:function(r,a){var c=Xe();return be===null?mp(c,r,a):p0(c,be.memoizedState,r,a)},useTransition:function(){var r=fp(Vs)[0],a=Xe().memoizedState;return[typeof r=="boolean"?r:vc(r),a]},useSyncExternalStore:qv,useId:v0,useHostTransitionStatus:_p,useFormState:r0,useActionState:r0,useOptimistic:function(r,a){var c=Xe();return be!==null?Xv(c,be,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:up,useCacheRefresh:b0},Go=null,Tc=0;function $h(r){var a=Tc;return Tc+=1,Go===null&&(Go=[]),Lv(Go,r,a)}function Sc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Kh(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function A0(r){var a=r._init;return a(r._payload)}function R0(r){function a(H,B){if(r){var Y=H.deletions;Y===null?(H.deletions=[B],H.flags|=16):Y.push(B)}}function c(H,B){if(!r)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function h(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function p(H,B){return H=Os(H,B),H.index=0,H.sibling=null,H}function y(H,B,Y){return H.index=Y,r?(Y=H.alternate,Y!==null?(Y=Y.index,Y<B?(H.flags|=67108866,B):Y):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function S(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,B,Y,it){return B===null||B.tag!==6?(B=Bg(Y,H.mode,it),B.return=H,B):(B=p(B,Y),B.return=H,B)}function V(H,B,Y,it){var bt=Y.type;return bt===w?et(H,B,Y.props.children,it,Y.key):B!==null&&(B.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===C&&A0(bt)===B.type)?(B=p(B,Y.props),Sc(B,Y),B.return=H,B):(B=Dh(Y.type,Y.key,Y.props,null,H.mode,it),Sc(B,Y),B.return=H,B)}function G(H,B,Y,it){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Fg(Y,H.mode,it),B.return=H,B):(B=p(B,Y.children||[]),B.return=H,B)}function et(H,B,Y,it,bt){return B===null||B.tag!==7?(B=Ia(Y,H.mode,it,bt),B.return=H,B):(B=p(B,Y),B.return=H,B)}function st(H,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Bg(""+B,H.mode,Y),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return Y=Dh(B.type,B.key,B.props,null,H.mode,Y),Sc(Y,B),Y.return=H,Y;case E:return B=Fg(B,H.mode,Y),B.return=H,B;case C:var it=B._init;return B=it(B._payload),st(H,B,Y)}if(Ct(B)||z(B))return B=Ia(B,H.mode,Y,null),B.return=H,B;if(typeof B.then=="function")return st(H,$h(B),Y);if(B.$$typeof===j)return st(H,Ph(H,B),Y);Kh(H,B)}return null}function K(H,B,Y,it){var bt=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return bt!==null?null:A(H,B,""+Y,it);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===bt?V(H,B,Y,it):null;case E:return Y.key===bt?G(H,B,Y,it):null;case C:return bt=Y._init,Y=bt(Y._payload),K(H,B,Y,it)}if(Ct(Y)||z(Y))return bt!==null?null:et(H,B,Y,it,null);if(typeof Y.then=="function")return K(H,B,$h(Y),it);if(Y.$$typeof===j)return K(H,B,Ph(H,Y),it);Kh(H,Y)}return null}function Q(H,B,Y,it,bt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return H=H.get(Y)||null,A(B,H,""+it,bt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case v:return H=H.get(it.key===null?Y:it.key)||null,V(B,H,it,bt);case E:return H=H.get(it.key===null?Y:it.key)||null,G(B,H,it,bt);case C:var Xt=it._init;return it=Xt(it._payload),Q(H,B,Y,it,bt)}if(Ct(it)||z(it))return H=H.get(Y)||null,et(B,H,it,bt,null);if(typeof it.then=="function")return Q(H,B,Y,$h(it),bt);if(it.$$typeof===j)return Q(H,B,Y,Ph(B,it),bt);Kh(B,it)}return null}function Ut(H,B,Y,it){for(var bt=null,Xt=null,At=B,Ot=B=0,dn=null;At!==null&&Ot<Y.length;Ot++){At.index>Ot?(dn=At,At=null):dn=At.sibling;var ce=K(H,At,Y[Ot],it);if(ce===null){At===null&&(At=dn);break}r&&At&&ce.alternate===null&&a(H,At),B=y(ce,B,Ot),Xt===null?bt=ce:Xt.sibling=ce,Xt=ce,At=dn}if(Ot===Y.length)return c(H,At),de&&Ma(H,Ot),bt;if(At===null){for(;Ot<Y.length;Ot++)At=st(H,Y[Ot],it),At!==null&&(B=y(At,B,Ot),Xt===null?bt=At:Xt.sibling=At,Xt=At);return de&&Ma(H,Ot),bt}for(At=h(At);Ot<Y.length;Ot++)dn=Q(At,H,Ot,Y[Ot],it),dn!==null&&(r&&dn.alternate!==null&&At.delete(dn.key===null?Ot:dn.key),B=y(dn,B,Ot),Xt===null?bt=dn:Xt.sibling=dn,Xt=dn);return r&&At.forEach(function(Vr){return a(H,Vr)}),de&&Ma(H,Ot),bt}function Mt(H,B,Y,it){if(Y==null)throw Error(i(151));for(var bt=null,Xt=null,At=B,Ot=B=0,dn=null,ce=Y.next();At!==null&&!ce.done;Ot++,ce=Y.next()){At.index>Ot?(dn=At,At=null):dn=At.sibling;var Vr=K(H,At,ce.value,it);if(Vr===null){At===null&&(At=dn);break}r&&At&&Vr.alternate===null&&a(H,At),B=y(Vr,B,Ot),Xt===null?bt=Vr:Xt.sibling=Vr,Xt=Vr,At=dn}if(ce.done)return c(H,At),de&&Ma(H,Ot),bt;if(At===null){for(;!ce.done;Ot++,ce=Y.next())ce=st(H,ce.value,it),ce!==null&&(B=y(ce,B,Ot),Xt===null?bt=ce:Xt.sibling=ce,Xt=ce);return de&&Ma(H,Ot),bt}for(At=h(At);!ce.done;Ot++,ce=Y.next())ce=Q(At,H,Ot,ce.value,it),ce!==null&&(r&&ce.alternate!==null&&At.delete(ce.key===null?Ot:ce.key),B=y(ce,B,Ot),Xt===null?bt=ce:Xt.sibling=ce,Xt=ce);return r&&At.forEach(function(aI){return a(H,aI)}),de&&Ma(H,Ot),bt}function Te(H,B,Y,it){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:t:{for(var bt=Y.key;B!==null;){if(B.key===bt){if(bt=Y.type,bt===w){if(B.tag===7){c(H,B.sibling),it=p(B,Y.props.children),it.return=H,H=it;break t}}else if(B.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===C&&A0(bt)===B.type){c(H,B.sibling),it=p(B,Y.props),Sc(it,Y),it.return=H,H=it;break t}c(H,B);break}else a(H,B);B=B.sibling}Y.type===w?(it=Ia(Y.props.children,H.mode,it,Y.key),it.return=H,H=it):(it=Dh(Y.type,Y.key,Y.props,null,H.mode,it),Sc(it,Y),it.return=H,H=it)}return S(H);case E:t:{for(bt=Y.key;B!==null;){if(B.key===bt)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){c(H,B.sibling),it=p(B,Y.children||[]),it.return=H,H=it;break t}else{c(H,B);break}else a(H,B);B=B.sibling}it=Fg(Y,H.mode,it),it.return=H,H=it}return S(H);case C:return bt=Y._init,Y=bt(Y._payload),Te(H,B,Y,it)}if(Ct(Y))return Ut(H,B,Y,it);if(z(Y)){if(bt=z(Y),typeof bt!="function")throw Error(i(150));return Y=bt.call(Y),Mt(H,B,Y,it)}if(typeof Y.then=="function")return Te(H,B,$h(Y),it);if(Y.$$typeof===j)return Te(H,B,Ph(H,Y),it);Kh(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(c(H,B.sibling),it=p(B,Y),it.return=H,H=it):(c(H,B),it=Bg(Y,H.mode,it),it.return=H,H=it),S(H)):c(H,B)}return function(H,B,Y,it){try{Tc=0;var bt=Te(H,B,Y,it);return Go=null,bt}catch(At){if(At===dc||At===Lh)throw At;var Xt=ei(29,At,null,H.mode);return Xt.lanes=it,Xt.return=H,Xt}finally{}}}var $o=R0(!0),C0=R0(!1),bi=nt(null),Zi=null;function Tr(r){var a=r.alternate;ct(rn,rn.current&1),ct(bi,r),Zi===null&&(a===null||jo.current!==null||a.memoizedState!==null)&&(Zi=r)}function I0(r){if(r.tag===22){if(ct(rn,rn.current),ct(bi,r),Zi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Zi=r)}}else Sr()}function Sr(){ct(rn,rn.current),ct(bi,bi.current)}function Us(r){ut(bi),Zi===r&&(Zi=null),ut(rn)}var rn=nt(0);function Wh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||cm(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function bp(r,a,c,h){a=r.memoizedState,c=c(h,a),c=c==null?a:m({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ep={enqueueSetState:function(r,a,c){r=r._reactInternals;var h=ri(),p=vr(h);p.payload=a,c!=null&&(p.callback=c),a=br(r,p,h),a!==null&&(ai(a,r,h),pc(a,r,h))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var h=ri(),p=vr(h);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=br(r,p,h),a!==null&&(ai(a,r,h),pc(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ri(),h=vr(c);h.tag=2,a!=null&&(h.callback=a),a=br(r,h,c),a!==null&&(ai(a,r,c),pc(a,r,c))}};function D0(r,a,c,h,p,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,S):a.prototype&&a.prototype.isPureReactComponent?!rc(c,h)||!rc(p,y):!0}function M0(r,a,c,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==r&&Ep.enqueueReplaceState(a,a.state,null)}function Ua(r,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(r=r.defaultProps){c===a&&(c=m({},c));for(var p in r)c[p]===void 0&&(c[p]=r[p])}return c}var Xh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function O0(r){Xh(r)}function k0(r){console.error(r)}function P0(r){Xh(r)}function Qh(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function N0(r,a,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Tp(r,a,c){return c=vr(c),c.tag=3,c.payload={element:null},c.callback=function(){Qh(r,a)},c}function L0(r){return r=vr(r),r.tag=3,r}function V0(r,a,c,h){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;r.payload=function(){return p(y)},r.callback=function(){N0(a,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){N0(a,c,h),typeof p!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var A=h.stack;this.componentDidCatch(h.value,{componentStack:A!==null?A:""})})}function aC(r,a,c,h,p){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&uc(a,c,p,!0),c=bi.current,c!==null){switch(c.tag){case 13:return Zi===null?Gp():c.alternate===null&&Ue===0&&(Ue=3),c.flags&=-257,c.flags|=65536,c.lanes=p,h===Qg?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Kp(r,h,p)),!1;case 22:return c.flags|=65536,h===Qg?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Kp(r,h,p)),!1}throw Error(i(435,c.tag))}return Kp(r,h,p),Gp(),!1}if(de)return a=bi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==qg&&(r=Error(i(422),{cause:h}),cc(mi(r,c)))):(h!==qg&&(a=Error(i(423),{cause:h}),cc(mi(a,c))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,h=mi(h,c),p=Tp(r.stateNode,h,p),tp(r,p),Ue!==4&&(Ue=2)),!1;var y=Error(i(520),{cause:h});if(y=mi(y,c),Dc===null?Dc=[y]:Dc.push(y),Ue!==4&&(Ue=2),a===null)return!0;h=mi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=p&-p,c.lanes|=r,r=Tp(c.stateNode,h,r),tp(c,r),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ir===null||!Ir.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=L0(p),V0(p,r,c,h),tp(c,p),!1}c=c.return}while(c!==null);return!1}var U0=Error(i(461)),hn=!1;function _n(r,a,c,h){a.child=r===null?C0(a,null,c,h):$o(a,r.child,c,h)}function z0(r,a,c,h,p){c=c.render;var y=a.ref;if("ref"in h){var S={};for(var A in h)A!=="ref"&&(S[A]=h[A])}else S=h;return Na(a),h=rp(r,a,c,S,y,p),A=ap(),r!==null&&!hn?(op(r,a,p),zs(r,a,p)):(de&&A&&jg(a),a.flags|=1,_n(r,a,h,p),a.child)}function B0(r,a,c,h,p){if(r===null){var y=c.type;return typeof y=="function"&&!zg(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,F0(r,a,y,h,p)):(r=Dh(c.type,null,h,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Dp(r,p)){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:rc,c(S,h)&&r.ref===a.ref)return zs(r,a,p)}return a.flags|=1,r=Os(y,h),r.ref=a.ref,r.return=a,a.child=r}function F0(r,a,c,h,p){if(r!==null){var y=r.memoizedProps;if(rc(y,h)&&r.ref===a.ref)if(hn=!1,a.pendingProps=h=y,Dp(r,p))(r.flags&131072)!==0&&(hn=!0);else return a.lanes=r.lanes,zs(r,a,p)}return Sp(r,a,c,h,p)}function j0(r,a,c){var h=a.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|c:c,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return H0(r,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nh(a,y!==null?y.cachePool:null),y!==null?Fv(a,y):np(),I0(a);else return a.lanes=a.childLanes=536870912,H0(r,a,y!==null?y.baseLanes|c:c,c)}else y!==null?(Nh(a,y.cachePool),Fv(a,y),Sr(),a.memoizedState=null):(r!==null&&Nh(a,null),np(),Sr());return _n(r,a,p,c),a.child}function H0(r,a,c,h){var p=Xg();return p=p===null?null:{parent:sn._currentValue,pool:p},a.memoizedState={baseLanes:c,cachePool:p},r!==null&&Nh(a,null),np(),I0(a),r!==null&&uc(r,a,h,!0),null}function Zh(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function Sp(r,a,c,h,p){return Na(a),c=rp(r,a,c,h,void 0,p),h=ap(),r!==null&&!hn?(op(r,a,p),zs(r,a,p)):(de&&h&&jg(a),a.flags|=1,_n(r,a,c,p),a.child)}function q0(r,a,c,h,p,y){return Na(a),a.updateQueue=null,c=Hv(a,h,c,p),jv(r),h=ap(),r!==null&&!hn?(op(r,a,y),zs(r,a,y)):(de&&h&&jg(a),a.flags|=1,_n(r,a,c,y),a.child)}function Y0(r,a,c,h,p){if(Na(a),a.stateNode===null){var y=Vo,S=c.contextType;typeof S=="object"&&S!==null&&(y=An(S)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ep,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Zg(a),S=c.contextType,y.context=typeof S=="object"&&S!==null?An(S):Vo,y.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(bp(a,c,S,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Ep.enqueueReplaceState(y,y.state,null),yc(a,h,y,p),mc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){y=a.stateNode;var A=a.memoizedProps,V=Ua(c,A);y.props=V;var G=y.context,et=c.contextType;S=Vo,typeof et=="object"&&et!==null&&(S=An(et));var st=c.getDerivedStateFromProps;et=typeof st=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,et||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||G!==S)&&M0(a,y,h,S),_r=!1;var K=a.memoizedState;y.state=K,yc(a,h,y,p),mc(),G=a.memoizedState,A||K!==G||_r?(typeof st=="function"&&(bp(a,c,st,h),G=a.memoizedState),(V=_r||D0(a,c,V,h,K,G,S))?(et||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=G),y.props=h,y.state=G,y.context=S,h=V):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Jg(r,a),S=a.memoizedProps,et=Ua(c,S),y.props=et,st=a.pendingProps,K=y.context,G=c.contextType,V=Vo,typeof G=="object"&&G!==null&&(V=An(G)),A=c.getDerivedStateFromProps,(G=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==st||K!==V)&&M0(a,y,h,V),_r=!1,K=a.memoizedState,y.state=K,yc(a,h,y,p),mc();var Q=a.memoizedState;S!==st||K!==Q||_r||r!==null&&r.dependencies!==null&&kh(r.dependencies)?(typeof A=="function"&&(bp(a,c,A,h),Q=a.memoizedState),(et=_r||D0(a,c,et,h,K,Q,V)||r!==null&&r.dependencies!==null&&kh(r.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Q,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Q,V)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Q),y.props=h,y.state=Q,y.context=V,h=et):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),h=!1)}return y=h,Zh(r,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&h?(a.child=$o(a,r.child,null,p),a.child=$o(a,null,c,p)):_n(r,a,c,p),a.memoizedState=y.state,r=a.child):r=zs(r,a,p),r}function G0(r,a,c,h){return lc(),a.flags|=256,_n(r,a,c,h),a.child}var wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(r){return{baseLanes:r,cachePool:kv()}}function Ap(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Ei),r}function $0(r,a,c){var h=a.pendingProps,p=!1,y=(a.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(de){if(p?Tr(a):Sr(),de){var A=Ve,V;if(V=A){t:{for(V=A,A=Qi;V.nodeType!==8;){if(!A){A=null;break t}if(V=Oi(V.nextSibling),V===null){A=null;break t}}A=V}A!==null?(a.memoizedState={dehydrated:A,treeContext:Da!==null?{id:ks,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},V=ei(18,null,null,0),V.stateNode=A,V.return=a,a.child=V,Bn=a,Ve=null,V=!0):V=!1}V||ka(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return cm(A)?a.lanes=32:a.lanes=536870912,null;Us(a)}return A=h.children,h=h.fallback,p?(Sr(),p=a.mode,A=Jh({mode:"hidden",children:A},p),h=Ia(h,p,c,null),A.return=a,h.return=a,A.sibling=h,a.child=A,p=a.child,p.memoizedState=xp(c),p.childLanes=Ap(r,S,c),a.memoizedState=wp,h):(Tr(a),Rp(a,A))}if(V=r.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(y)a.flags&256?(Tr(a),a.flags&=-257,a=Cp(r,a,c)):a.memoizedState!==null?(Sr(),a.child=r.child,a.flags|=128,a=null):(Sr(),p=h.fallback,A=a.mode,h=Jh({mode:"visible",children:h.children},A),p=Ia(p,A,c,null),p.flags|=2,h.return=a,p.return=a,h.sibling=p,a.child=h,$o(a,r.child,null,c),h=a.child,h.memoizedState=xp(c),h.childLanes=Ap(r,S,c),a.memoizedState=wp,a=p);else if(Tr(a),cm(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var G=S.dgst;S=G,h=Error(i(419)),h.stack="",h.digest=S,cc({value:h,source:null,stack:null}),a=Cp(r,a,c)}else if(hn||uc(r,a,c,!1),S=(c&r.childLanes)!==0,hn||S){if(S=we,S!==null&&(h=c&-c,h=(h&42)!==0?1:yt(h),h=(h&(S.suspendedLanes|c))!==0?0:h,h!==0&&h!==V.retryLane))throw V.retryLane=h,Lo(r,h),ai(S,r,h),U0;A.data==="$?"||Gp(),a=Cp(r,a,c)}else A.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=V.treeContext,Ve=Oi(A.nextSibling),Bn=a,de=!0,Oa=null,Qi=!1,r!==null&&(_i[vi++]=ks,_i[vi++]=Ps,_i[vi++]=Da,ks=r.id,Ps=r.overflow,Da=a),a=Rp(a,h.children),a.flags|=4096);return a}return p?(Sr(),p=h.fallback,A=a.mode,V=r.child,G=V.sibling,h=Os(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,G!==null?p=Os(G,p):(p=Ia(p,A,c,null),p.flags|=2),p.return=a,h.return=a,h.sibling=p,a.child=h,h=p,p=a.child,A=r.child.memoizedState,A===null?A=xp(c):(V=A.cachePool,V!==null?(G=sn._currentValue,V=V.parent!==G?{parent:G,pool:G}:V):V=kv(),A={baseLanes:A.baseLanes|c,cachePool:V}),p.memoizedState=A,p.childLanes=Ap(r,S,c),a.memoizedState=wp,h):(Tr(a),c=r.child,r=c.sibling,c=Os(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=c,a.memoizedState=null,c)}function Rp(r,a){return a=Jh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Jh(r,a){return r=ei(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Cp(r,a,c){return $o(a,r.child,null,c),r=Rp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function K0(r,a,c){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),Gg(r.return,a,c)}function Ip(r,a,c,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=p)}function W0(r,a,c){var h=a.pendingProps,p=h.revealOrder,y=h.tail;if(_n(r,a,h.children,c),h=rn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&K0(r,c,a);else if(r.tag===19)K0(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(ct(rn,h),p){case"forwards":for(c=a.child,p=null;c!==null;)r=c.alternate,r!==null&&Wh(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),Ip(a,!1,p,c,y);break;case"backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Wh(r)===null){a.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}Ip(a,!0,c,null,y);break;case"together":Ip(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function zs(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),Cr|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(uc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=Os(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Os(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Dp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&kh(r)))}function oC(r,a,c){switch(a.tag){case 3:he(a,a.stateNode.containerInfo),yr(a,sn,r.memoizedState.cache),lc();break;case 27:case 5:Qn(a);break;case 4:he(a,a.stateNode.containerInfo);break;case 10:yr(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Tr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?$0(r,a,c):(Tr(a),r=zs(r,a,c),r!==null?r.sibling:null);Tr(a);break;case 19:var p=(r.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(uc(r,a,c,!1),h=(c&a.childLanes)!==0),p){if(h)return W0(r,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(rn,rn.current),h)break;return null;case 22:case 23:return a.lanes=0,j0(r,a,c);case 24:yr(a,sn,r.memoizedState.cache)}return zs(r,a,c)}function X0(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)hn=!0;else{if(!Dp(r,c)&&(a.flags&128)===0)return hn=!1,oC(r,a,c);hn=(r.flags&131072)!==0}else hn=!1,de&&(a.flags&1048576)!==0&&Av(a,Oh,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var h=a.elementType,p=h._init;if(h=p(h._payload),a.type=h,typeof h=="function")zg(h)?(r=Ua(h,r),a.tag=1,a=Y0(null,a,h,r,c)):(a.tag=0,a=Sp(null,a,h,r,c));else{if(h!=null){if(p=h.$$typeof,p===$){a.tag=11,a=z0(null,a,h,r,c);break t}else if(p===M){a.tag=14,a=B0(null,a,h,r,c);break t}}throw a=$t(h)||h,Error(i(306,a,""))}}return a;case 0:return Sp(r,a,a.type,a.pendingProps,c);case 1:return h=a.type,p=Ua(h,a.pendingProps),Y0(r,a,h,p,c);case 3:t:{if(he(a,a.stateNode.containerInfo),r===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;p=y.element,Jg(r,a),yc(a,h,null,c);var S=a.memoizedState;if(h=S.cache,yr(a,sn,h),h!==y.cache&&$g(a,[sn],c,!0),mc(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=G0(r,a,h,c);break t}else if(h!==p){p=mi(Error(i(424)),a),cc(p),a=G0(r,a,h,c);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ve=Oi(r.firstChild),Bn=a,de=!0,Oa=null,Qi=!0,c=C0(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(lc(),h===p){a=zs(r,a,c);break t}_n(r,a,h,c)}a=a.child}return a;case 26:return Zh(r,a),r===null?(c=tE(a.type,null,a.pendingProps,null))?a.memoizedState=c:de||(c=a.type,r=a.pendingProps,h=gf(Rt.current).createElement(c),h[Pt]=a,h[zt]=r,bn(h,c,r),je(h),a.stateNode=h):a.memoizedState=tE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Qn(a),r===null&&de&&(h=a.stateNode=Qb(a.type,a.pendingProps,Rt.current),Bn=a,Qi=!0,p=Ve,Or(a.type)?(um=p,Ve=Oi(h.firstChild)):Ve=p),_n(r,a,a.pendingProps.children,c),Zh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&de&&((p=h=Ve)&&(h=NC(h,a.type,a.pendingProps,Qi),h!==null?(a.stateNode=h,Bn=a,Ve=Oi(h.firstChild),Qi=!1,p=!0):p=!1),p||ka(a)),Qn(a),p=a.type,y=a.pendingProps,S=r!==null?r.memoizedProps:null,h=y.children,am(p,y)?h=null:S!==null&&am(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=rp(r,a,JR,null,null,c),zc._currentValue=p),Zh(r,a),_n(r,a,h,c),a.child;case 6:return r===null&&de&&((r=c=Ve)&&(c=LC(c,a.pendingProps,Qi),c!==null?(a.stateNode=c,Bn=a,Ve=null,r=!0):r=!1),r||ka(a)),null;case 13:return $0(r,a,c);case 4:return he(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=$o(a,null,h,c):_n(r,a,h,c),a.child;case 11:return z0(r,a,a.type,a.pendingProps,c);case 7:return _n(r,a,a.pendingProps,c),a.child;case 8:return _n(r,a,a.pendingProps.children,c),a.child;case 12:return _n(r,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,yr(a,a.type,h.value),_n(r,a,h.children,c),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,Na(a),p=An(p),h=h(p),a.flags|=1,_n(r,a,h,c),a.child;case 14:return B0(r,a,a.type,a.pendingProps,c);case 15:return F0(r,a,a.type,a.pendingProps,c);case 19:return W0(r,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},r===null?(c=Jh(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Os(r.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return j0(r,a,c);case 24:return Na(a),h=An(sn),r===null?(p=Xg(),p===null&&(p=we,y=Kg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),a.memoizedState={parent:h,cache:p},Zg(a),yr(a,sn,p)):((r.lanes&c)!==0&&(Jg(r,a),yc(a,null,null,c),mc()),p=r.memoizedState,y=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),yr(a,sn,h)):(h=y.cache,yr(a,sn,h),h!==p.cache&&$g(a,[sn],c,!0))),_n(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Bs(r){r.flags|=4}function Q0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rE(a)){if(a=bi.current,a!==null&&((oe&4194048)===oe?Zi!==null:(oe&62914560)!==oe&&(oe&536870912)===0||a!==Zi))throw gc=Qg,Pv;r.flags|=8192}}function tf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?ot():536870912,r.lanes|=a,Qo|=a)}function wc(r,a){if(!de)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Oe(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(a)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=c,a}function lC(r,a,c){var h=a.pendingProps;switch(Hg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(a),null;case 1:return Oe(a),null;case 3:return c=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ls(sn),Xn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(oc(a)?Bs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Iv())),Oe(a),null;case 26:return c=a.memoizedState,r===null?(Bs(a),c!==null?(Oe(a),Q0(a,c)):(Oe(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Bs(a),Oe(a),Q0(a,c)):(Oe(a),a.flags&=-16777217):(r.memoizedProps!==h&&Bs(a),Oe(a),a.flags&=-16777217),null;case 27:$e(a),c=Rt.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Bs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Oe(a),null}r=vt.current,oc(a)?Rv(a):(r=Qb(p,h,c),a.stateNode=r,Bs(a))}return Oe(a),null;case 5:if($e(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Bs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Oe(a),null}if(r=vt.current,oc(a))Rv(a);else{switch(p=gf(Rt.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?p.createElement(c,{is:h.is}):p.createElement(c)}}r[Pt]=a,r[zt]=h;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;t:switch(bn(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Bs(a)}}return Oe(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&Bs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(r=Rt.current,oc(a)){if(r=a.stateNode,c=a.memoizedProps,h=null,p=Bn,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}r[Pt]=a,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||qb(r.nodeValue,c)),r||ka(a)}else r=gf(r).createTextNode(h),r[Pt]=a,a.stateNode=r}return Oe(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=oc(a),h!==null&&h.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Pt]=a}else lc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Oe(a),p=!1}else p=Iv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Us(a),a):(Us(a),null)}if(Us(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),tf(a,a.updateQueue),Oe(a),null;case 4:return Xn(),r===null&&em(a.stateNode.containerInfo),Oe(a),null;case 10:return Ls(a.type),Oe(a),null;case 19:if(ut(rn),p=a.memoizedState,p===null)return Oe(a),null;if(h=(a.flags&128)!==0,y=p.rendering,y===null)if(h)wc(p,!1);else{if(Ue!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Wh(r),y!==null){for(a.flags|=128,wc(p,!1),r=y.updateQueue,a.updateQueue=r,tf(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)xv(c,r),c=c.sibling;return ct(rn,rn.current&1|2),a.child}r=r.sibling}p.tail!==null&&xn()>sf&&(a.flags|=128,h=!0,wc(p,!1),a.lanes=4194304)}else{if(!h)if(r=Wh(y),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,tf(a,r),wc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!de)return Oe(a),null}else 2*xn()-p.renderingStartTime>sf&&c!==536870912&&(a.flags|=128,h=!0,wc(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=xn(),a.sibling=null,r=rn.current,ct(rn,h?r&1|2:r&1),a):(Oe(a),null);case 22:case 23:return Us(a),ip(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Oe(a),a.subtreeFlags&6&&(a.flags|=8192)):Oe(a),c=a.updateQueue,c!==null&&tf(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),r!==null&&ut(La),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ls(sn),Oe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function cC(r,a){switch(Hg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ls(sn),Xn(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return $e(a),null;case 13:if(Us(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));lc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ut(rn),null;case 4:return Xn(),null;case 10:return Ls(a.type),null;case 22:case 23:return Us(a),ip(),r!==null&&ut(La),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ls(sn),null;case 25:return null;default:return null}}function Z0(r,a){switch(Hg(a),a.tag){case 3:Ls(sn),Xn();break;case 26:case 27:case 5:$e(a);break;case 4:Xn();break;case 13:Us(a);break;case 19:ut(rn);break;case 10:Ls(a.type);break;case 22:case 23:Us(a),ip(),r!==null&&ut(La);break;case 24:Ls(sn)}}function xc(r,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&r)===r){h=void 0;var y=c.create,S=c.inst;h=y(),S.destroy=h}c=c.next}while(c!==p)}}catch(A){Se(a,a.return,A)}}function wr(r,a,c){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&r)===r){var S=h.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,p=a;var V=c,G=A;try{G()}catch(et){Se(p,V,et)}}}h=h.next}while(h!==y)}}catch(et){Se(a,a.return,et)}}function J0(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Bv(a,c)}catch(h){Se(r,r.return,h)}}}function tb(r,a,c){c.props=Ua(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){Se(r,a,h)}}function Ac(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(p){Se(r,a,p)}}function Ji(r,a){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(p){Se(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){Se(r,a,p)}else c.current=null}function eb(r){var a=r.type,c=r.memoizedProps,h=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(p){Se(r,r.return,p)}}function Mp(r,a,c){try{var h=r.stateNode;DC(h,r.type,c,a),h[zt]=a}catch(p){Se(r,r.return,p)}}function nb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Or(r.type)||r.tag===4}function Op(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||nb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Or(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function kp(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=df));else if(h!==4&&(h===27&&Or(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(kp(r,a,c),r=r.sibling;r!==null;)kp(r,a,c),r=r.sibling}function ef(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(h!==4&&(h===27&&Or(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(ef(r,a,c),r=r.sibling;r!==null;)ef(r,a,c),r=r.sibling}function ib(r){var a=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);bn(a,h,c),a[Pt]=r,a[zt]=c}catch(y){Se(r,r.return,y)}}var Fs=!1,qe=!1,Pp=!1,sb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function uC(r,a){if(r=r.containerInfo,sm=bf,r=pv(r),Og(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var S=0,A=-1,V=-1,G=0,et=0,st=r,K=null;e:for(;;){for(var Q;st!==c||p!==0&&st.nodeType!==3||(A=S+p),st!==y||h!==0&&st.nodeType!==3||(V=S+h),st.nodeType===3&&(S+=st.nodeValue.length),(Q=st.firstChild)!==null;)K=st,st=Q;for(;;){if(st===r)break e;if(K===c&&++G===p&&(A=S),K===y&&++et===h&&(V=S),(Q=st.nextSibling)!==null)break;st=K,K=st.parentNode}st=Q}c=A===-1||V===-1?null:{start:A,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(rm={focusedElem:r,selectionRange:c},bf=!1,fn=a;fn!==null;)if(a=fn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,fn=r;else for(;fn!==null;){switch(a=fn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,c=a,p=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Ut=Ua(c.type,p,c.elementType===c.type);r=h.getSnapshotBeforeUpdate(Ut,y),h.__reactInternalSnapshotBeforeUpdate=r}catch(Mt){Se(c,c.return,Mt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)lm(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":lm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,fn=r;break}fn=a.return}}function rb(r,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:xr(r,c),h&4&&xc(5,c);break;case 1:if(xr(r,c),h&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(S){Se(c,c.return,S)}else{var p=Ua(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Se(c,c.return,S)}}h&64&&J0(c),h&512&&Ac(c,c.return);break;case 3:if(xr(r,c),h&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Bv(r,a)}catch(S){Se(c,c.return,S)}}break;case 27:a===null&&h&4&&ib(c);case 26:case 5:xr(r,c),a===null&&h&4&&eb(c),h&512&&Ac(c,c.return);break;case 12:xr(r,c);break;case 13:xr(r,c),h&4&&lb(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=vC.bind(null,c),VC(r,c))));break;case 22:if(h=c.memoizedState!==null||Fs,!h){a=a!==null&&a.memoizedState!==null||qe,p=Fs;var y=qe;Fs=h,(qe=a)&&!y?Ar(r,c,(c.subtreeFlags&8772)!==0):xr(r,c),Fs=p,qe=y}break;case 30:break;default:xr(r,c)}}function ab(r){var a=r.alternate;a!==null&&(r.alternate=null,ab(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ri(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ie=null,Hn=!1;function js(r,a,c){for(c=c.child;c!==null;)ob(r,a,c),c=c.sibling}function ob(r,a,c){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Ce,c)}catch{}switch(c.tag){case 26:qe||Ji(c,a),js(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qe||Ji(c,a);var h=Ie,p=Hn;Or(c.type)&&(Ie=c.stateNode,Hn=!1),js(r,a,c),Nc(c.stateNode),Ie=h,Hn=p;break;case 5:qe||Ji(c,a);case 6:if(h=Ie,p=Hn,Ie=null,js(r,a,c),Ie=h,Hn=p,Ie!==null)if(Hn)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(c.stateNode)}catch(y){Se(c,a,y)}else try{Ie.removeChild(c.stateNode)}catch(y){Se(c,a,y)}break;case 18:Ie!==null&&(Hn?(r=Ie,Wb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Hc(r)):Wb(Ie,c.stateNode));break;case 4:h=Ie,p=Hn,Ie=c.stateNode.containerInfo,Hn=!0,js(r,a,c),Ie=h,Hn=p;break;case 0:case 11:case 14:case 15:qe||wr(2,c,a),qe||wr(4,c,a),js(r,a,c);break;case 1:qe||(Ji(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&tb(c,a,h)),js(r,a,c);break;case 21:js(r,a,c);break;case 22:qe=(h=qe)||c.memoizedState!==null,js(r,a,c),qe=h;break;default:js(r,a,c)}}function lb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Hc(r)}catch(c){Se(a,a.return,c)}}function hC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new sb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new sb),a;default:throw Error(i(435,r.tag))}}function Np(r,a){var c=hC(r);a.forEach(function(h){var p=bC.bind(null,r,h);c.has(h)||(c.add(h),h.then(p,p))})}function ni(r,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h],y=r,S=a,A=S;t:for(;A!==null;){switch(A.tag){case 27:if(Or(A.type)){Ie=A.stateNode,Hn=!1;break t}break;case 5:Ie=A.stateNode,Hn=!1;break t;case 3:case 4:Ie=A.stateNode.containerInfo,Hn=!0;break t}A=A.return}if(Ie===null)throw Error(i(160));ob(y,S,p),Ie=null,Hn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)cb(a,r),a=a.sibling}var Mi=null;function cb(r,a){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ni(a,r),ii(r),h&4&&(wr(3,r,r.return),xc(3,r),wr(5,r,r.return));break;case 1:ni(a,r),ii(r),h&512&&(qe||c===null||Ji(c,c.return)),h&64&&Fs&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var p=Mi;if(ni(a,r),ii(r),h&512&&(qe||c===null||Ji(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){t:{h=r.type,c=r.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ai]||y[Pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),bn(y,h,c),y[Pt]=r,je(y),h=y;break t;case"link":var S=iE("link","href",p).get(h+(c.href||""));if(S){for(var A=0;A<S.length;A++)if(y=S[A],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(A,1);break e}}y=p.createElement(h),bn(y,h,c),p.head.appendChild(y);break;case"meta":if(S=iE("meta","content",p).get(h+(c.content||""))){for(A=0;A<S.length;A++)if(y=S[A],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(A,1);break e}}y=p.createElement(h),bn(y,h,c),p.head.appendChild(y);break;default:throw Error(i(468,h))}y[Pt]=r,je(y),h=y}r.stateNode=h}else sE(p,r.type,r.stateNode);else r.stateNode=nE(p,h,r.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?sE(p,r.type,r.stateNode):nE(p,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Mp(r,r.memoizedProps,c.memoizedProps)}break;case 27:ni(a,r),ii(r),h&512&&(qe||c===null||Ji(c,c.return)),c!==null&&h&4&&Mp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ni(a,r),ii(r),h&512&&(qe||c===null||Ji(c,c.return)),r.flags&32){p=r.stateNode;try{fi(p,"")}catch(Q){Se(r,r.return,Q)}}h&4&&r.stateNode!=null&&(p=r.memoizedProps,Mp(r,p,c!==null?c.memoizedProps:p)),h&1024&&(Pp=!0);break;case 6:if(ni(a,r),ii(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(Q){Se(r,r.return,Q)}}break;case 3:if(yf=null,p=Mi,Mi=pf(a.containerInfo),ni(a,r),Mi=p,ii(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Hc(a.containerInfo)}catch(Q){Se(r,r.return,Q)}Pp&&(Pp=!1,ub(r));break;case 4:h=Mi,Mi=pf(r.stateNode.containerInfo),ni(a,r),ii(r),Mi=h;break;case 12:ni(a,r),ii(r);break;case 13:ni(a,r),ii(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Fp=xn()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Np(r,h)));break;case 22:p=r.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,G=Fs,et=qe;if(Fs=G||p,qe=et||V,ni(a,r),qe=et,Fs=G,ii(r),h&8192)t:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||V||Fs||qe||za(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){V=c=a;try{if(y=V.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=V.stateNode;var st=V.memoizedProps.style,K=st!=null&&st.hasOwnProperty("display")?st.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){Se(V,V.return,Q)}}}else if(a.tag===6){if(c===null){V=a;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(Q){Se(V,V.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Np(r,c))));break;case 19:ni(a,r),ii(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Np(r,h)));break;case 30:break;case 21:break;default:ni(a,r),ii(r)}}function ii(r){var a=r.flags;if(a&2){try{for(var c,h=r.return;h!==null;){if(nb(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var p=c.stateNode,y=Op(r);ef(r,y,p);break;case 5:var S=c.stateNode;c.flags&32&&(fi(S,""),c.flags&=-33);var A=Op(r);ef(r,A,S);break;case 3:case 4:var V=c.stateNode.containerInfo,G=Op(r);kp(r,G,V);break;default:throw Error(i(161))}}catch(et){Se(r,r.return,et)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function ub(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;ub(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function xr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rb(r,a.alternate,a),a=a.sibling}function za(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:wr(4,a,a.return),za(a);break;case 1:Ji(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&tb(a,a.return,c),za(a);break;case 27:Nc(a.stateNode);case 26:case 5:Ji(a,a.return),za(a);break;case 22:a.memoizedState===null&&za(a);break;case 30:za(a);break;default:za(a)}r=r.sibling}}function Ar(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=r,y=a,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ar(p,y,c),xc(4,y);break;case 1:if(Ar(p,y,c),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){Se(h,h.return,G)}if(h=y,p=h.updateQueue,p!==null){var A=h.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)zv(V[p],A)}catch(G){Se(h,h.return,G)}}c&&S&64&&J0(y),Ac(y,y.return);break;case 27:ib(y);case 26:case 5:Ar(p,y,c),c&&h===null&&S&4&&eb(y),Ac(y,y.return);break;case 12:Ar(p,y,c);break;case 13:Ar(p,y,c),c&&S&4&&lb(p,y);break;case 22:y.memoizedState===null&&Ar(p,y,c),Ac(y,y.return);break;case 30:break;default:Ar(p,y,c)}a=a.sibling}}function Lp(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&hc(c))}function Vp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&hc(r))}function ts(r,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hb(r,a,c,h),a=a.sibling}function hb(r,a,c,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:ts(r,a,c,h),p&2048&&xc(9,a);break;case 1:ts(r,a,c,h);break;case 3:ts(r,a,c,h),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&hc(r)));break;case 12:if(p&2048){ts(r,a,c,h),r=a.stateNode;try{var y=a.memoizedProps,S=y.id,A=y.onPostCommit;typeof A=="function"&&A(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){Se(a,a.return,V)}}else ts(r,a,c,h);break;case 13:ts(r,a,c,h);break;case 23:break;case 22:y=a.stateNode,S=a.alternate,a.memoizedState!==null?y._visibility&2?ts(r,a,c,h):Rc(r,a):y._visibility&2?ts(r,a,c,h):(y._visibility|=2,Ko(r,a,c,h,(a.subtreeFlags&10256)!==0)),p&2048&&Lp(S,a);break;case 24:ts(r,a,c,h),p&2048&&Vp(a.alternate,a);break;default:ts(r,a,c,h)}}function Ko(r,a,c,h,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,S=a,A=c,V=h,G=S.flags;switch(S.tag){case 0:case 11:case 15:Ko(y,S,A,V,p),xc(8,S);break;case 23:break;case 22:var et=S.stateNode;S.memoizedState!==null?et._visibility&2?Ko(y,S,A,V,p):Rc(y,S):(et._visibility|=2,Ko(y,S,A,V,p)),p&&G&2048&&Lp(S.alternate,S);break;case 24:Ko(y,S,A,V,p),p&&G&2048&&Vp(S.alternate,S);break;default:Ko(y,S,A,V,p)}a=a.sibling}}function Rc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,h=a,p=h.flags;switch(h.tag){case 22:Rc(c,h),p&2048&&Lp(h.alternate,h);break;case 24:Rc(c,h),p&2048&&Vp(h.alternate,h);break;default:Rc(c,h)}a=a.sibling}}var Cc=8192;function Wo(r){if(r.subtreeFlags&Cc)for(r=r.child;r!==null;)fb(r),r=r.sibling}function fb(r){switch(r.tag){case 26:Wo(r),r.flags&Cc&&r.memoizedState!==null&&XC(Mi,r.memoizedState,r.memoizedProps);break;case 5:Wo(r);break;case 3:case 4:var a=Mi;Mi=pf(r.stateNode.containerInfo),Wo(r),Mi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Cc,Cc=16777216,Wo(r),Cc=a):Wo(r));break;default:Wo(r)}}function db(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ic(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];fn=h,pb(h,r)}db(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gb(r),r=r.sibling}function gb(r){switch(r.tag){case 0:case 11:case 15:Ic(r),r.flags&2048&&wr(9,r,r.return);break;case 3:Ic(r);break;case 12:Ic(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,nf(r)):Ic(r);break;default:Ic(r)}}function nf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];fn=h,pb(h,r)}db(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:wr(8,a,a.return),nf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,nf(a));break;default:nf(a)}r=r.sibling}}function pb(r,a){for(;fn!==null;){var c=fn;switch(c.tag){case 0:case 11:case 15:wr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:hc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,fn=h;else t:for(c=r;fn!==null;){h=fn;var p=h.sibling,y=h.return;if(ab(h),h===c){fn=null;break t}if(p!==null){p.return=y,fn=p;break t}fn=y}}}var fC={getCacheForType:function(r){var a=An(sn),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},dC=typeof WeakMap=="function"?WeakMap:Map,me=0,we=null,Qt=null,oe=0,ye=0,si=null,Rr=!1,Xo=!1,Up=!1,Hs=0,Ue=0,Cr=0,Ba=0,zp=0,Ei=0,Qo=0,Dc=null,qn=null,Bp=!1,Fp=0,sf=1/0,rf=null,Ir=null,vn=0,Dr=null,Zo=null,Jo=0,jp=0,Hp=null,mb=null,Mc=0,qp=null;function ri(){if((me&2)!==0&&oe!==0)return oe&-oe;if(W.T!==null){var r=Bo;return r!==0?r:Qp()}return St()}function yb(){Ei===0&&(Ei=(oe&536870912)===0||de?Bi():536870912);var r=bi.current;return r!==null&&(r.flags|=32),Ei}function ai(r,a,c){(r===we&&(ye===2||ye===9)||r.cancelPendingCommit!==null)&&(tl(r,0),Mr(r,oe,Ei,!1)),gt(r,c),((me&2)===0||r!==we)&&(r===we&&((me&2)===0&&(Ba|=c),Ue===4&&Mr(r,oe,Ei,!1)),es(r))}function _b(r,a,c){if((me&6)!==0)throw Error(i(327));var h=!c&&(a&124)===0&&(a&r.expiredLanes)===0||Ts(r,a),p=h?mC(r,a):$p(r,a,!0),y=h;do{if(p===0){Xo&&!h&&Mr(r,a,0,!1);break}else{if(c=r.current.alternate,y&&!gC(c)){p=$p(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;t:{var A=r;p=Dc;var V=A.current.memoizedState.isDehydrated;if(V&&(tl(A,S).flags|=256),S=$p(A,S,!1),S!==2){if(Up&&!V){A.errorRecoveryDisabledLanes|=y,Ba|=y,p=4;break t}y=qn,qn=p,y!==null&&(qn===null?qn=y:qn.push.apply(qn,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){tl(r,0),Mr(r,a,0,!0);break}t:{switch(h=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Mr(h,a,Ei,!Rr);break t;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Fp+300-xn(),10<p)){if(Mr(h,a,Ei,!Rr),dr(h,0,!0)!==0)break t;h.timeoutHandle=$b(vb.bind(null,h,c,qn,rf,Bp,a,Ei,Ba,Qo,Rr,y,2,-0,0),p);break t}vb(h,c,qn,rf,Bp,a,Ei,Ba,Qo,Rr,y,0,-0,0)}}break}while(!0);es(r)}function vb(r,a,c,h,p,y,S,A,V,G,et,st,K,Q){if(r.timeoutHandle=-1,st=a.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(Uc={stylesheets:null,count:0,unsuspend:WC},fb(a),st=QC(),st!==null)){r.cancelPendingCommit=st(Ab.bind(null,r,a,y,c,h,p,S,A,V,et,1,K,Q)),Mr(r,y,S,!G);return}Ab(r,a,y,c,h,p,S,A,V)}function gC(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var p=c[h],y=p.getSnapshot;p=p.value;try{if(!ti(y(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mr(r,a,c,h){a&=~zp,a&=~Ba,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var p=a;0<p;){var y=31-Je(p),S=1<<y;h[y]=-1,p&=~S}c!==0&&Dt(r,c,a)}function af(){return(me&6)===0?(Oc(0),!1):!0}function Yp(){if(Qt!==null){if(ye===0)var r=Qt.return;else r=Qt,Ns=Pa=null,lp(r),Go=null,Tc=0,r=Qt;for(;r!==null;)Z0(r.alternate,r),r=r.return;Qt=null}}function tl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,OC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Yp(),we=r,Qt=c=Os(r.current,null),oe=a,ye=0,si=null,Rr=!1,Xo=Ts(r,a),Up=!1,Qo=Ei=zp=Ba=Cr=Ue=0,qn=Dc=null,Bp=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var p=31-Je(h),y=1<<p;a|=r[p],h&=~y}return Hs=a,Rh(),c}function bb(r,a){Kt=null,W.H=Gh,a===dc||a===Lh?(a=Vv(),ye=3):a===Pv?(a=Vv(),ye=4):ye=a===U0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,Qt===null&&(Ue=1,Qh(r,mi(a,r.current)))}function Eb(){var r=W.H;return W.H=Gh,r===null?Gh:r}function Tb(){var r=W.A;return W.A=fC,r}function Gp(){Ue=4,Rr||(oe&4194048)!==oe&&bi.current!==null||(Xo=!0),(Cr&134217727)===0&&(Ba&134217727)===0||we===null||Mr(we,oe,Ei,!1)}function $p(r,a,c){var h=me;me|=2;var p=Eb(),y=Tb();(we!==r||oe!==a)&&(rf=null,tl(r,a)),a=!1;var S=Ue;t:do try{if(ye!==0&&Qt!==null){var A=Qt,V=si;switch(ye){case 8:Yp(),S=6;break t;case 3:case 2:case 9:case 6:bi.current===null&&(a=!0);var G=ye;if(ye=0,si=null,el(r,A,V,G),c&&Xo){S=0;break t}break;default:G=ye,ye=0,si=null,el(r,A,V,G)}}pC(),S=Ue;break}catch(et){bb(r,et)}while(!0);return a&&r.shellSuspendCounter++,Ns=Pa=null,me=h,W.H=p,W.A=y,Qt===null&&(we=null,oe=0,Rh()),S}function pC(){for(;Qt!==null;)Sb(Qt)}function mC(r,a){var c=me;me|=2;var h=Eb(),p=Tb();we!==r||oe!==a?(rf=null,sf=xn()+500,tl(r,a)):Xo=Ts(r,a);t:do try{if(ye!==0&&Qt!==null){a=Qt;var y=si;e:switch(ye){case 1:ye=0,si=null,el(r,a,y,1);break;case 2:case 9:if(Nv(y)){ye=0,si=null,wb(a);break}a=function(){ye!==2&&ye!==9||we!==r||(ye=7),es(r)},y.then(a,a);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:Nv(y)?(ye=0,si=null,wb(a)):(ye=0,si=null,el(r,a,y,7));break;case 5:var S=null;switch(Qt.tag){case 26:S=Qt.memoizedState;case 5:case 27:var A=Qt;if(!S||rE(S)){ye=0,si=null;var V=A.sibling;if(V!==null)Qt=V;else{var G=A.return;G!==null?(Qt=G,of(G)):Qt=null}break e}}ye=0,si=null,el(r,a,y,5);break;case 6:ye=0,si=null,el(r,a,y,6);break;case 8:Yp(),Ue=6;break t;default:throw Error(i(462))}}yC();break}catch(et){bb(r,et)}while(!0);return Ns=Pa=null,W.H=h,W.A=p,me=c,Qt!==null?0:(we=null,oe=0,Rh(),Ue)}function yC(){for(;Qt!==null&&!ms();)Sb(Qt)}function Sb(r){var a=X0(r.alternate,r,Hs);r.memoizedProps=r.pendingProps,a===null?of(r):Qt=a}function wb(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=q0(c,a,a.pendingProps,a.type,void 0,oe);break;case 11:a=q0(c,a,a.pendingProps,a.type.render,a.ref,oe);break;case 5:lp(a);default:Z0(c,a),a=Qt=xv(a,Hs),a=X0(c,a,Hs)}r.memoizedProps=r.pendingProps,a===null?of(r):Qt=a}function el(r,a,c,h){Ns=Pa=null,lp(a),Go=null,Tc=0;var p=a.return;try{if(aC(r,p,a,c,oe)){Ue=1,Qh(r,mi(c,r.current)),Qt=null;return}}catch(y){if(p!==null)throw Qt=p,y;Ue=1,Qh(r,mi(c,r.current)),Qt=null;return}a.flags&32768?(de||h===1?r=!0:Xo||(oe&536870912)!==0?r=!1:(Rr=r=!0,(h===2||h===9||h===3||h===6)&&(h=bi.current,h!==null&&h.tag===13&&(h.flags|=16384))),xb(a,r)):of(a)}function of(r){var a=r;do{if((a.flags&32768)!==0){xb(a,Rr);return}r=a.return;var c=lC(a.alternate,a,Hs);if(c!==null){Qt=c;return}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=r}while(a!==null);Ue===0&&(Ue=5)}function xb(r,a){do{var c=cC(r.alternate,r);if(c!==null){c.flags&=32767,Qt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Qt=r;return}Qt=r=c}while(r!==null);Ue=6,Qt=null}function Ab(r,a,c,h,p,y,S,A,V){r.cancelPendingCommit=null;do lf();while(vn!==0);if((me&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Vg,wt(r,c,y,S,A,V),r===we&&(Qt=we=null,oe=0),Zo=a,Dr=r,Jo=c,jp=y,Hp=p,mb=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,EC(ys,function(){return Mb(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,p=lt.p,lt.p=2,S=me,me|=4;try{uC(r,a,c)}finally{me=S,lt.p=p,W.T=h}}vn=1,Rb(),Cb(),Ib()}}function Rb(){if(vn===1){vn=0;var r=Dr,a=Zo,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=lt.p;lt.p=2;var p=me;me|=4;try{cb(a,r);var y=rm,S=pv(r.containerInfo),A=y.focusedElem,V=y.selectionRange;if(S!==A&&A&&A.ownerDocument&&gv(A.ownerDocument.documentElement,A)){if(V!==null&&Og(A)){var G=V.start,et=V.end;if(et===void 0&&(et=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(et,A.value.length);else{var st=A.ownerDocument||document,K=st&&st.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Ut=A.textContent.length,Mt=Math.min(V.start,Ut),Te=V.end===void 0?Mt:Math.min(V.end,Ut);!Q.extend&&Mt>Te&&(S=Te,Te=Mt,Mt=S);var H=dv(A,Mt),B=dv(A,Te);if(H&&B&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var Y=st.createRange();Y.setStart(H.node,H.offset),Q.removeAllRanges(),Mt>Te?(Q.addRange(Y),Q.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),Q.addRange(Y))}}}}for(st=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&st.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<st.length;A++){var it=st[A];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}bf=!!sm,rm=sm=null}finally{me=p,lt.p=h,W.T=c}}r.current=a,vn=2}}function Cb(){if(vn===2){vn=0;var r=Dr,a=Zo,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=lt.p;lt.p=2;var p=me;me|=4;try{rb(r,a.alternate,a)}finally{me=p,lt.p=h,W.T=c}}vn=3}}function Ib(){if(vn===4||vn===3){vn=0,ur();var r=Dr,a=Zo,c=Jo,h=mb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Zo=Dr=null,Db(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Ir=null),kt(c),a=a.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Ce,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=W.T,p=lt.p,lt.p=2,W.T=null;try{for(var y=r.onRecoverableError,S=0;S<h.length;S++){var A=h[S];y(A.value,{componentStack:A.stack})}}finally{W.T=a,lt.p=p}}(Jo&3)!==0&&lf(),es(r),p=r.pendingLanes,(c&4194090)!==0&&(p&42)!==0?r===qp?Mc++:(Mc=0,qp=r):Mc=0,Oc(0)}}function Db(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,hc(a)))}function lf(r){return Rb(),Cb(),Ib(),Mb()}function Mb(){if(vn!==5)return!1;var r=Dr,a=jp;jp=0;var c=kt(Jo),h=W.T,p=lt.p;try{lt.p=32>c?32:c,W.T=null,c=Hp,Hp=null;var y=Dr,S=Jo;if(vn=0,Zo=Dr=null,Jo=0,(me&6)!==0)throw Error(i(331));var A=me;if(me|=4,gb(y.current),hb(y,y.current,S,c),me=A,Oc(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Ce,y)}catch{}return!0}finally{lt.p=p,W.T=h,Db(r,a)}}function Ob(r,a,c){a=mi(c,a),a=Tp(r.stateNode,a,2),r=br(r,a,2),r!==null&&(gt(r,2),es(r))}function Se(r,a,c){if(r.tag===3)Ob(r,r,c);else for(;a!==null;){if(a.tag===3){Ob(a,r,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ir===null||!Ir.has(h))){r=mi(c,r),c=L0(2),h=br(a,c,2),h!==null&&(V0(c,h,a,r),gt(h,2),es(h));break}}a=a.return}}function Kp(r,a,c){var h=r.pingCache;if(h===null){h=r.pingCache=new dC;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(c)||(Up=!0,p.add(c),r=_C.bind(null,r,a,c),a.then(r,r))}function _C(r,a,c){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,we===r&&(oe&c)===c&&(Ue===4||Ue===3&&(oe&62914560)===oe&&300>xn()-Fp?(me&2)===0&&tl(r,0):zp|=c,Qo===oe&&(Qo=0)),es(r)}function kb(r,a){a===0&&(a=ot()),r=Lo(r,a),r!==null&&(gt(r,a),es(r))}function vC(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),kb(r,c)}function bC(r,a){var c=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),kb(r,c)}function EC(r,a){return Yt(r,a)}var cf=null,nl=null,Wp=!1,uf=!1,Xp=!1,Fa=0;function es(r){r!==nl&&r.next===null&&(nl===null?cf=nl=r:nl=nl.next=r),uf=!0,Wp||(Wp=!0,SC())}function Oc(r,a){if(!Xp&&uf){Xp=!0;do for(var c=!1,h=cf;h!==null;){if(r!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var S=h.suspendedLanes,A=h.pingedLanes;y=(1<<31-Je(42|r)+1)-1,y&=p&~(S&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Vb(h,y))}else y=oe,y=dr(h,h===we?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ts(h,y)||(c=!0,Vb(h,y));h=h.next}while(c);Xp=!1}}function TC(){Pb()}function Pb(){uf=Wp=!1;var r=0;Fa!==0&&(MC()&&(r=Fa),Fa=0);for(var a=xn(),c=null,h=cf;h!==null;){var p=h.next,y=Nb(h,a);y===0?(h.next=null,c===null?cf=p:c.next=p,p===null&&(nl=c)):(c=h,(r!==0||(y&3)!==0)&&(uf=!0)),h=p}Oc(r)}function Nb(r,a){for(var c=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-Je(y),A=1<<S,V=p[S];V===-1?((A&c)===0||(A&h)!==0)&&(p[S]=da(A,a)):V<=a&&(r.expiredLanes|=A),y&=~A}if(a=we,c=oe,c=dr(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===a&&(ye===2||ye===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Be(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ts(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(h!==null&&Be(h),kt(c)){case 2:case 8:c=Le;break;case 32:c=ys;break;case 268435456:c=fr;break;default:c=ys}return h=Lb.bind(null,r),c=Yt(c,h),r.callbackPriority=a,r.callbackNode=c,a}return h!==null&&h!==null&&Be(h),r.callbackPriority=2,r.callbackNode=null,2}function Lb(r,a){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(lf()&&r.callbackNode!==c)return null;var h=oe;return h=dr(r,r===we?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(_b(r,h,a),Nb(r,xn()),r.callbackNode!=null&&r.callbackNode===c?Lb.bind(null,r):null)}function Vb(r,a){if(lf())return null;_b(r,a,!0)}function SC(){kC(function(){(me&6)!==0?Yt(hr,TC):Pb()})}function Qp(){return Fa===0&&(Fa=Bi()),Fa}function Ub(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:wo(""+r)}function zb(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function wC(r,a,c,h,p){if(a==="submit"&&c&&c.stateNode===p){var y=Ub((p[zt]||null).action),S=h.submitter;S&&(a=(a=S[zt]||null)?Ub(a.formAction):S.getAttribute("formAction"),a!==null&&(y=a,S=null));var A=new xo("action","action",null,h,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Fa!==0){var V=S?zb(p,S):new FormData(p);yp(c,{pending:!0,data:V,method:p.method,action:y},null,V)}}else typeof y=="function"&&(A.preventDefault(),V=S?zb(p,S):new FormData(p),yp(c,{pending:!0,data:V,method:p.method,action:y},y,V))},currentTarget:p}]})}}for(var Zp=0;Zp<Lg.length;Zp++){var Jp=Lg[Zp],xC=Jp.toLowerCase(),AC=Jp[0].toUpperCase()+Jp.slice(1);Di(xC,"on"+AC)}Di(_v,"onAnimationEnd"),Di(vv,"onAnimationIteration"),Di(bv,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(HR,"onTransitionRun"),Di(qR,"onTransitionStart"),Di(YR,"onTransitionCancel"),Di(Ev,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function Bb(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],p=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var S=h.length-1;0<=S;S--){var A=h[S],V=A.instance,G=A.currentTarget;if(A=A.listener,V!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=G;try{y(p)}catch(et){Xh(et)}p.currentTarget=null,y=V}else for(S=0;S<h.length;S++){if(A=h[S],V=A.instance,G=A.currentTarget,A=A.listener,V!==y&&p.isPropagationStopped())break t;y=A,p.currentTarget=G;try{y(p)}catch(et){Xh(et)}p.currentTarget=null,y=V}}}}function Zt(r,a){var c=a[se];c===void 0&&(c=a[se]=new Set);var h=r+"__bubble";c.has(h)||(Fb(a,r,2,!1),c.add(h))}function tm(r,a,c){var h=0;a&&(h|=4),Fb(c,r,h,a)}var hf="_reactListening"+Math.random().toString(36).slice(2);function em(r){if(!r[hf]){r[hf]=!0,Yl.forEach(function(c){c!=="selectionchange"&&(RC.has(c)||tm(c,!1,r),tm(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[hf]||(a[hf]=!0,tm("selectionchange",!1,a))}}function Fb(r,a,c,h){switch(hE(a)){case 2:var p=tI;break;case 8:p=eI;break;default:p=pm}c=p.bind(null,a,c,r),p=void 0,!gi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(a,c,{capture:!0,passive:p}):r.addEventListener(a,c,!0):p!==void 0?r.addEventListener(a,c,{passive:p}):r.addEventListener(a,c,!1)}function nm(r,a,c,h,p){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var A=h.stateNode.containerInfo;if(A===p)break;if(S===4)for(S=h.return;S!==null;){var V=S.tag;if((V===3||V===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;A!==null;){if(S=hi(A),S===null)return;if(V=S.tag,V===5||V===6||V===26||V===27){h=y=S;continue t}A=A.parentNode}}h=h.return}fh(function(){var G=y,et=di(c),st=[];t:{var K=Tv.get(r);if(K!==void 0){var Q=xo,Ut=r;switch(r){case"keypress":if(Gi(c)===0)break t;case"keydown":case"keyup":Q=Mo;break;case"focusin":Ut="focus",Q=Co;break;case"focusout":Ut="blur",Q=Co;break;case"beforeblur":case"afterblur":Q=Co;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=bh;break;case _v:case vv:case bv:Q=Io;break;case Ev:Q=Th;break;case"scroll":case"scrollend":Q=dh;break;case"wheel":Q=Oo;break;case"copy":case"cut":case"paste":Q=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ic;break;case"toggle":case"beforetoggle":Q=wh}var Mt=(a&4)!==0,Te=!Mt&&(r==="scroll"||r==="scrollend"),H=Mt?K!==null?K+"Capture":null:K;Mt=[];for(var B=G,Y;B!==null;){var it=B;if(Y=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Y===null||H===null||(it=ba(B,H),it!=null&&Mt.push(Pc(B,it,Y))),Te)break;B=B.return}0<Mt.length&&(K=new Q(K,Ut,null,c,et),st.push({event:K,listeners:Mt}))}}if((a&7)===0){t:{if(K=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",K&&c!==As&&(Ut=c.relatedTarget||c.fromElement)&&(hi(Ut)||Ut[jt]))break t;if((Q||K)&&(K=et.window===et?et:(K=et.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Ut=c.relatedTarget||c.toElement,Q=G,Ut=Ut?hi(Ut):null,Ut!==null&&(Te=o(Ut),Mt=Ut.tag,Ut!==Te||Mt!==5&&Mt!==27&&Mt!==6)&&(Ut=null)):(Q=null,Ut=G),Q!==Ut)){if(Mt=pi,it="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Mt=ic,it="onPointerLeave",H="onPointerEnter",B="pointer"),Te=Q==null?K:ji(Q),Y=Ut==null?K:ji(Ut),K=new Mt(it,B+"leave",Q,c,et),K.target=Te,K.relatedTarget=Y,it=null,hi(et)===G&&(Mt=new Mt(H,B+"enter",Ut,c,et),Mt.target=Y,Mt.relatedTarget=Te,it=Mt),Te=it,Q&&Ut)e:{for(Mt=Q,H=Ut,B=0,Y=Mt;Y;Y=il(Y))B++;for(Y=0,it=H;it;it=il(it))Y++;for(;0<B-Y;)Mt=il(Mt),B--;for(;0<Y-B;)H=il(H),Y--;for(;B--;){if(Mt===H||H!==null&&Mt===H.alternate)break e;Mt=il(Mt),H=il(H)}Mt=null}else Mt=null;Q!==null&&jb(st,K,Q,Mt,!1),Ut!==null&&Te!==null&&jb(st,Te,Ut,Mt,!0)}}t:{if(K=G?ji(G):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var bt=ov;else if(nn(K))if(lv)bt=BR;else{bt=UR;var Xt=VR}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Xl(G.elementType)&&(bt=ov):bt=zR;if(bt&&(bt=bt(r,G))){Ms(st,bt,c,et);break t}Xt&&Xt(r,K,G),r==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&pr(K,"number",K.value)}switch(Xt=G?ji(G):window,r){case"focusin":(nn(Xt)||Xt.contentEditable==="true")&&(ko=Xt,kg=G,ac=null);break;case"focusout":ac=kg=ko=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,mv(st,c,et);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":mv(st,c,et)}var At;if(Wi)t:{switch(r){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else re?Z(r,c)&&(Ot="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ot="onCompositionStart");Ot&&(T&&c.locale!=="ko"&&(re||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&re&&(At=Zl()):(Yi=et,mr="value"in Yi?Yi.value:Yi.textContent,re=!0)),Xt=ff(G,Ot),0<Xt.length&&(Ot=new ec(Ot,r,null,c,et),st.push({event:Ot,listeners:Xt}),At?Ot.data=At:(At=ft(c),At!==null&&(Ot.data=At)))),(At=b?en(r,c):ae(r,c))&&(Ot=ff(G,"onBeforeInput"),0<Ot.length&&(Xt=new ec("onBeforeInput","beforeinput",null,c,et),st.push({event:Xt,listeners:Ot}),Xt.data=At)),wC(st,r,G,c,et)}Bb(st,a)})}function Pc(r,a,c){return{instance:r,listener:a,currentTarget:c}}function ff(r,a){for(var c=a+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ba(r,c),p!=null&&h.unshift(Pc(r,p,y)),p=ba(r,a),p!=null&&h.push(Pc(r,p,y))),r.tag===3)return h;r=r.return}return[]}function il(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function jb(r,a,c,h,p){for(var y=a._reactName,S=[];c!==null&&c!==h;){var A=c,V=A.alternate,G=A.stateNode;if(A=A.tag,V!==null&&V===h)break;A!==5&&A!==26&&A!==27||G===null||(V=G,p?(G=ba(c,y),G!=null&&S.unshift(Pc(c,G,V))):p||(G=ba(c,y),G!=null&&S.push(Pc(c,G,V)))),c=c.return}S.length!==0&&r.push({event:a,listeners:S})}var CC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function Hb(r){return(typeof r=="string"?r:""+r).replace(CC,`
`).replace(IC,"")}function qb(r,a){return a=Hb(a),Hb(r)===a}function df(){}function Ee(r,a,c,h,p,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||fi(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&fi(r,""+h);break;case"className":Hi(r,"class",h);break;case"tabIndex":Hi(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(r,c,h);break;case"style":Wl(r,h,y);break;case"data":if(a!=="object"){Hi(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=wo(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Ee(r,a,"name",p.name,p,null),Ee(r,a,"formEncType",p.formEncType,p,null),Ee(r,a,"formMethod",p.formMethod,p,null),Ee(r,a,"formTarget",p.formTarget,p,null)):(Ee(r,a,"encType",p.encType,p,null),Ee(r,a,"method",p.method,p,null),Ee(r,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=wo(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=df);break;case"onScroll":h!=null&&Zt("scroll",r);break;case"onScrollEnd":h!=null&&Zt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=wo(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":Zt("beforetoggle",r),Zt("toggle",r),gr(r,"popover",h);break;case"xlinkActuate":mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":mn(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":mn(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":mn(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":mn(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":gr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ag.get(c)||c,gr(r,c,h))}}function im(r,a,c,h,p,y){switch(c){case"style":Wl(r,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof h=="string"?fi(r,h):(typeof h=="number"||typeof h=="bigint")&&fi(r,""+h);break;case"onScroll":h!=null&&Zt("scroll",r);break;case"onScrollEnd":h!=null&&Zt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),y=r[zt]||null,y=y!=null?y[c]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,h,p);break t}c in r?r[c]=h:h===!0?r.setAttribute(c,""):gr(r,c,h)}}}function bn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",r),Zt("load",r);var h=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var S=c[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ee(r,a,y,S,c,null)}}p&&Ee(r,a,"srcSet",c.srcSet,c,null),h&&Ee(r,a,"src",c.src,c,null);return;case"input":Zt("invalid",r);var A=y=S=p=null,V=null,G=null;for(h in c)if(c.hasOwnProperty(h)){var et=c[h];if(et!=null)switch(h){case"name":p=et;break;case"type":S=et;break;case"checked":V=et;break;case"defaultChecked":G=et;break;case"value":y=et;break;case"defaultValue":A=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:Ee(r,a,h,et,c,null)}}ya(r,y,A,V,G,S,p,!1),So(r);return;case"select":Zt("invalid",r),h=S=y=null;for(p in c)if(c.hasOwnProperty(p)&&(A=c[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":S=A;break;case"multiple":h=A;default:Ee(r,a,p,A,c,null)}a=y,c=S,r.multiple=!!h,a!=null?xs(r,!!h,a,!1):c!=null&&xs(r,!!h,c,!0);return;case"textarea":Zt("invalid",r),y=p=h=null;for(S in c)if(c.hasOwnProperty(S)&&(A=c[S],A!=null))switch(S){case"value":h=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Ee(r,a,S,A,c,null)}_a(r,h,p,y),So(r);return;case"option":for(V in c)if(c.hasOwnProperty(V)&&(h=c[V],h!=null))switch(V){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ee(r,a,V,h,c,null)}return;case"dialog":Zt("beforetoggle",r),Zt("toggle",r),Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":Zt("load",r);break;case"video":case"audio":for(h=0;h<kc.length;h++)Zt(kc[h],r);break;case"image":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"embed":case"source":case"link":Zt("error",r),Zt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in c)if(c.hasOwnProperty(G)&&(h=c[G],h!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ee(r,a,G,h,c,null)}return;default:if(Xl(a)){for(et in c)c.hasOwnProperty(et)&&(h=c[et],h!==void 0&&im(r,a,et,h,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(h=c[A],h!=null&&Ee(r,a,A,h,c,null))}function DC(r,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,A=null,V=null,G=null,et=null;for(Q in c){var st=c[Q];if(c.hasOwnProperty(Q)&&st!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=st;default:h.hasOwnProperty(Q)||Ee(r,a,Q,null,h,st)}}for(var K in h){var Q=h[K];if(st=c[K],h.hasOwnProperty(K)&&(Q!=null||st!=null))switch(K){case"type":y=Q;break;case"name":p=Q;break;case"checked":G=Q;break;case"defaultChecked":et=Q;break;case"value":S=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==st&&Ee(r,a,K,Q,h,st)}}Jn(r,S,A,V,G,et,y,p);return;case"select":Q=S=A=K=null;for(y in c)if(V=c[y],c.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":Q=V;default:h.hasOwnProperty(y)||Ee(r,a,y,null,h,V)}for(p in h)if(y=h[p],V=c[p],h.hasOwnProperty(p)&&(y!=null||V!=null))switch(p){case"value":K=y;break;case"defaultValue":A=y;break;case"multiple":S=y;default:y!==V&&Ee(r,a,p,y,h,V)}a=A,c=S,h=Q,K!=null?xs(r,!!c,K,!1):!!h!=!!c&&(a!=null?xs(r,!!c,a,!0):xs(r,!!c,c?[]:"",!1));return;case"textarea":Q=K=null;for(A in c)if(p=c[A],c.hasOwnProperty(A)&&p!=null&&!h.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ee(r,a,A,null,h,p)}for(S in h)if(p=h[S],y=c[S],h.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":K=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Ee(r,a,S,p,h,y)}ve(r,K,Q);return;case"option":for(var Ut in c)if(K=c[Ut],c.hasOwnProperty(Ut)&&K!=null&&!h.hasOwnProperty(Ut))switch(Ut){case"selected":r.selected=!1;break;default:Ee(r,a,Ut,null,h,K)}for(V in h)if(K=h[V],Q=c[V],h.hasOwnProperty(V)&&K!==Q&&(K!=null||Q!=null))switch(V){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ee(r,a,V,K,h,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in c)K=c[Mt],c.hasOwnProperty(Mt)&&K!=null&&!h.hasOwnProperty(Mt)&&Ee(r,a,Mt,null,h,K);for(G in h)if(K=h[G],Q=c[G],h.hasOwnProperty(G)&&K!==Q&&(K!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:Ee(r,a,G,K,h,Q)}return;default:if(Xl(a)){for(var Te in c)K=c[Te],c.hasOwnProperty(Te)&&K!==void 0&&!h.hasOwnProperty(Te)&&im(r,a,Te,void 0,h,K);for(et in h)K=h[et],Q=c[et],!h.hasOwnProperty(et)||K===Q||K===void 0&&Q===void 0||im(r,a,et,K,h,Q);return}}for(var H in c)K=c[H],c.hasOwnProperty(H)&&K!=null&&!h.hasOwnProperty(H)&&Ee(r,a,H,null,h,K);for(st in h)K=h[st],Q=c[st],!h.hasOwnProperty(st)||K===Q||K==null&&Q==null||Ee(r,a,st,K,h,Q)}var sm=null,rm=null;function gf(r){return r.nodeType===9?r:r.ownerDocument}function Yb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function am(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var om=null;function MC(){var r=window.event;return r&&r.type==="popstate"?r===om?!1:(om=r,!0):(om=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(r){return Kb.resolve(null).then(r).catch(PC)}:$b;function PC(r){setTimeout(function(){throw r})}function Or(r){return r==="head"}function Wb(r,a){var c=a,h=0,p=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<h&&8>h){c=h;var S=r.ownerDocument;if(c&1&&Nc(S.documentElement),c&2&&Nc(S.body),c&4)for(c=S.head,Nc(c),S=c.firstChild;S;){var A=S.nextSibling,V=S.nodeName;S[Ai]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=A}}if(p===0){r.removeChild(y),Hc(a);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:h=c.charCodeAt(0)-48;else h=0;c=y}while(c);Hc(a)}function lm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":lm(c),Ri(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function NC(r,a,c,h){for(;r.nodeType===1;){var p=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Ai])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Oi(r.nextSibling),r===null)break}return null}function LC(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Oi(r.nextSibling),r===null))return null;return r}function cm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function VC(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Oi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var um=null;function Xb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function Qb(r,a,c){switch(a=gf(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Nc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ri(r)}var Ti=new Map,Zb=new Set;function pf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var qs=lt.d;lt.d={f:UC,r:zC,D:BC,C:FC,L:jC,m:HC,X:YC,S:qC,M:GC};function UC(){var r=qs.f(),a=af();return r||a}function zC(r){var a=Fi(r);a!==null&&a.tag===5&&a.type==="form"?_0(a):qs.r(r)}var sl=typeof document>"u"?null:document;function Jb(r,a,c){var h=sl;if(h&&typeof a=="string"&&a){var p=Ke(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),Zb.has(p)||(Zb.add(p),r={rel:r,crossOrigin:c,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),bn(a,"link",r),je(a),h.head.appendChild(a)))}}function BC(r){qs.D(r),Jb("dns-prefetch",r,null)}function FC(r,a){qs.C(r,a),Jb("preconnect",r,a)}function jC(r,a,c){qs.L(r,a,c);var h=sl;if(h&&r&&a){var p='link[rel="preload"][as="'+Ke(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+Ke(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+Ke(c.imageSizes)+'"]')):p+='[href="'+Ke(r)+'"]';var y=p;switch(a){case"style":y=rl(r);break;case"script":y=al(r)}Ti.has(y)||(r=m({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Ti.set(y,r),h.querySelector(p)!==null||a==="style"&&h.querySelector(Lc(y))||a==="script"&&h.querySelector(Vc(y))||(a=h.createElement("link"),bn(a,"link",r),je(a),h.head.appendChild(a)))}}function HC(r,a){qs.m(r,a);var c=sl;if(c&&r){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ke(h)+'"][href="'+Ke(r)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=al(r)}if(!Ti.has(y)&&(r=m({rel:"modulepreload",href:r},a),Ti.set(y,r),c.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Vc(y)))return}h=c.createElement("link"),bn(h,"link",r),je(h),c.head.appendChild(h)}}}function qC(r,a,c){qs.S(r,a,c);var h=sl;if(h&&r){var p=Vn(h).hoistableStyles,y=rl(r);a=a||"default";var S=p.get(y);if(!S){var A={loading:0,preload:null};if(S=h.querySelector(Lc(y)))A.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Ti.get(y))&&hm(r,c);var V=S=h.createElement("link");je(V),bn(V,"link",r),V._p=new Promise(function(G,et){V.onload=G,V.onerror=et}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,mf(S,a,h)}S={type:"stylesheet",instance:S,count:1,state:A},p.set(y,S)}}}function YC(r,a){qs.X(r,a);var c=sl;if(c&&r){var h=Vn(c).hoistableScripts,p=al(r),y=h.get(p);y||(y=c.querySelector(Vc(p)),y||(r=m({src:r,async:!0},a),(a=Ti.get(p))&&fm(r,a),y=c.createElement("script"),je(y),bn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function GC(r,a){qs.M(r,a);var c=sl;if(c&&r){var h=Vn(c).hoistableScripts,p=al(r),y=h.get(p);y||(y=c.querySelector(Vc(p)),y||(r=m({src:r,async:!0,type:"module"},a),(a=Ti.get(p))&&fm(r,a),y=c.createElement("script"),je(y),bn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function tE(r,a,c,h){var p=(p=Rt.current)?pf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=rl(c.href),c=Vn(p).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=rl(c.href);var y=Vn(p).hoistableStyles,S=y.get(r);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=p.querySelector(Lc(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Ti.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ti.set(r,c),y||$C(p,r,c,S.state))),a&&h===null)throw Error(i(528,""));return S}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(c),c=Vn(p).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function rl(r){return'href="'+Ke(r)+'"'}function Lc(r){return'link[rel="stylesheet"]['+r+"]"}function eE(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function $C(r,a,c,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),bn(a,"link",c),je(a),r.head.appendChild(a))}function al(r){return'[src="'+Ke(r)+'"]'}function Vc(r){return"script[async]"+r}function nE(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+Ke(c.href)+'"]');if(h)return a.instance=h,je(h),h;var p=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),je(h),bn(h,"style",p),mf(h,c.precedence,r),a.instance=h;case"stylesheet":p=rl(c.href);var y=r.querySelector(Lc(p));if(y)return a.state.loading|=4,a.instance=y,je(y),y;h=eE(c),(p=Ti.get(p))&&hm(h,p),y=(r.ownerDocument||r).createElement("link"),je(y);var S=y;return S._p=new Promise(function(A,V){S.onload=A,S.onerror=V}),bn(y,"link",h),a.state.loading|=4,mf(y,c.precedence,r),a.instance=y;case"script":return y=al(c.src),(p=r.querySelector(Vc(y)))?(a.instance=p,je(p),p):(h=c,(p=Ti.get(y))&&(h=m({},c),fm(h,p)),r=r.ownerDocument||r,p=r.createElement("script"),je(p),bn(p,"link",h),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,mf(h,c.precedence,r));return a.instance}function mf(r,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,S=0;S<h.length;S++){var A=h[S];if(A.dataset.precedence===a)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function hm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function fm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var yf=null;function iE(r,a,c){if(yf===null){var h=new Map,p=yf=new Map;p.set(c,h)}else p=yf,h=p.get(c),h||(h=new Map,p.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),p=0;p<c.length;p++){var y=c[p];if(!(y[Ai]||y[Pt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(a)||"";S=r+S;var A=h.get(S);A?A.push(y):h.set(S,[y])}}return h}function sE(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function KC(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function rE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Uc=null;function WC(){}function XC(r,a,c){if(Uc===null)throw Error(i(475));var h=Uc;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=rl(c.href),y=r.querySelector(Lc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=_f.bind(h),r.then(h,h)),a.state.loading|=4,a.instance=y,je(y);return}y=r.ownerDocument||r,c=eE(c),(p=Ti.get(p))&&hm(c,p),y=y.createElement("link"),je(y);var S=y;S._p=new Promise(function(A,V){S.onload=A,S.onerror=V}),bn(y,"link",c),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=_f.bind(h),r.addEventListener("load",a),r.addEventListener("error",a))}}function QC(){if(Uc===null)throw Error(i(475));var r=Uc;return r.stylesheets&&r.count===0&&dm(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&dm(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function _f(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var vf=null;function dm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,vf=new Map,a.forEach(ZC,r),vf=null,_f.call(r))}function ZC(r,a){if(!(a.state.loading&4)){var c=vf.get(r);if(c)var h=c.get(null);else{c=new Map,vf.set(r,c);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}p=a.instance,S=p.getAttribute("data-precedence"),y=c.get(S)||h,y===h&&c.set(null,p),c.set(S,p),this.count++,h=_f.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var zc={$$typeof:j,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function JC(r,a,c,h,p,y,S,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.hiddenUpdates=ht(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function aE(r,a,c,h,p,y,S,A,V,G,et,st){return r=new JC(r,a,c,S,A,V,G,st),a=1,y===!0&&(a|=24),y=ei(3,null,null,a),r.current=y,y.stateNode=r,a=Kg(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},Zg(y),r}function oE(r){return r?(r=Vo,r):Vo}function lE(r,a,c,h,p,y){p=oE(p),h.context===null?h.context=p:h.pendingContext=p,h=vr(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=br(r,h,a),c!==null&&(ai(c,r,a),pc(c,r,a))}function cE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function gm(r,a){cE(r,a),(r=r.alternate)&&cE(r,a)}function uE(r){if(r.tag===13){var a=Lo(r,67108864);a!==null&&ai(a,r,67108864),gm(r,67108864)}}var bf=!0;function tI(r,a,c,h){var p=W.T;W.T=null;var y=lt.p;try{lt.p=2,pm(r,a,c,h)}finally{lt.p=y,W.T=p}}function eI(r,a,c,h){var p=W.T;W.T=null;var y=lt.p;try{lt.p=8,pm(r,a,c,h)}finally{lt.p=y,W.T=p}}function pm(r,a,c,h){if(bf){var p=mm(h);if(p===null)nm(r,a,h,Ef,c),fE(r,h);else if(iI(p,r,a,c,h))h.stopPropagation();else if(fE(r,h),a&4&&-1<nI.indexOf(r)){for(;p!==null;){var y=Fi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Zn(y.pendingLanes);if(S!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var V=1<<31-Je(S);A.entanglements[1]|=V,S&=~V}es(y),(me&6)===0&&(sf=xn()+500,Oc(0))}}break;case 13:A=Lo(y,2),A!==null&&ai(A,y,2),af(),gm(y,2)}if(y=mm(h),y===null&&nm(r,a,h,Ef,c),y===p)break;p=y}p!==null&&h.stopPropagation()}else nm(r,a,h,null,c)}}function mm(r){return r=di(r),ym(r)}var Ef=null;function ym(r){if(Ef=null,r=hi(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ef=r,null}function hE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mo()){case hr:return 2;case Le:return 8;case ys:case Hl:return 32;case fr:return 268435456;default:return 32}default:return 32}}var _m=!1,kr=null,Pr=null,Nr=null,Bc=new Map,Fc=new Map,Lr=[],nI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(r,a){switch(r){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Bc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(a.pointerId)}}function jc(r,a,c,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Fi(a),a!==null&&uE(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function iI(r,a,c,h,p){switch(a){case"focusin":return kr=jc(kr,r,a,c,h,p),!0;case"dragenter":return Pr=jc(Pr,r,a,c,h,p),!0;case"mouseover":return Nr=jc(Nr,r,a,c,h,p),!0;case"pointerover":var y=p.pointerId;return Bc.set(y,jc(Bc.get(y)||null,r,a,c,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Fc.set(y,jc(Fc.get(y)||null,r,a,c,h,p)),!0}return!1}function dE(r){var a=hi(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,ie(r.priority,function(){if(c.tag===13){var h=ri();h=yt(h);var p=Lo(c,h);p!==null&&ai(p,c,h),gm(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=mm(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);As=h,c.target.dispatchEvent(h),As=null}else return a=Fi(c),a!==null&&uE(a),r.blockedOn=c,!1;a.shift()}return!0}function gE(r,a,c){Tf(r)&&c.delete(a)}function sI(){_m=!1,kr!==null&&Tf(kr)&&(kr=null),Pr!==null&&Tf(Pr)&&(Pr=null),Nr!==null&&Tf(Nr)&&(Nr=null),Bc.forEach(gE),Fc.forEach(gE)}function Sf(r,a){r.blockedOn===a&&(r.blockedOn=null,_m||(_m=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sI)))}var wf=null;function pE(r){wf!==r&&(wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wf===r&&(wf=null);for(var a=0;a<r.length;a+=3){var c=r[a],h=r[a+1],p=r[a+2];if(typeof h!="function"){if(ym(h||c)===null)continue;break}var y=Fi(c);y!==null&&(r.splice(a,3),a-=3,yp(y,{pending:!0,data:p,method:c.method,action:h},h,p))}}))}function Hc(r){function a(V){return Sf(V,r)}kr!==null&&Sf(kr,r),Pr!==null&&Sf(Pr,r),Nr!==null&&Sf(Nr,r),Bc.forEach(a),Fc.forEach(a);for(var c=0;c<Lr.length;c++){var h=Lr[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Lr.length&&(c=Lr[0],c.blockedOn===null);)dE(c),c.blockedOn===null&&Lr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],S=p[zt]||null;if(typeof y=="function")S||pE(c);else if(S){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[zt]||null)A=S.formAction;else if(ym(p)!==null)continue}else A=S.action;typeof A=="function"?c[h+1]=A:(c.splice(h,3),h-=3),pE(c)}}}function vm(r){this._internalRoot=r}xf.prototype.render=vm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=ri();lE(c,h,r,a,null,null)},xf.prototype.unmount=vm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;lE(r.current,2,null,r,null,null),af(),a[jt]=null}};function xf(r){this._internalRoot=r}xf.prototype.unstable_scheduleHydration=function(r){if(r){var a=St();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Lr.length&&a!==0&&a<Lr[c].priority;c++);Lr.splice(c,0,r),c===0&&dE(r)}};var mE=t.version;if(mE!=="19.1.0")throw Error(i(527,mE,"19.1.0"));lt.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var rI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{Ce=Af.inject(rI),fe=Af}catch{}}return Yc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,h="",p=O0,y=k0,S=P0,A=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=aE(r,1,!1,null,null,c,h,p,y,S,A,null),r[jt]=a.current,em(r),new vm(a)},Yc.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var h=!1,p="",y=O0,S=k0,A=P0,V=null,G=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(V=c.unstable_transitionCallbacks),c.formState!==void 0&&(G=c.formState)),a=aE(r,1,!0,a,c??null,h,p,y,S,A,V,G),a.context=oE(null),c=a.current,h=ri(),h=yt(h),p=vr(h),p.callback=null,br(c,p,h),c=h,a.current.lanes=c,gt(a,c),es(a),r[jt]=a.current,em(r),new xf(a)},Yc.version="19.1.0",Yc}var AE;function _I(){if(AE)return Tm.exports;AE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tm.exports=yI(),Tm.exports}var vI=_I();const bI=Ow(vI);var Gc={},RE;function EI(){if(RE)return Gc;RE=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.parse=l,Gc.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,E){const w=new o,x=v.length;if(x<2)return w;const R=(E==null?void 0:E.decode)||m;let O=0;do{const N=v.indexOf("=",O);if(N===-1)break;const j=v.indexOf(";",O),$=j===-1?x:j;if(N>$){O=v.lastIndexOf(";",N-1)+1;continue}const F=u(v,O,N),tt=f(v,N,F),M=v.slice(F,tt);if(w[M]===void 0){let C=u(v,N+1,$),D=f(v,$,C);const k=R(v.slice(C,D));w[M]=k}O=$+1}while(O<x);return w}function u(v,E,w){do{const x=v.charCodeAt(E);if(x!==32&&x!==9)return E}while(++E<w);return w}function f(v,E,w){for(;E>w;){const x=v.charCodeAt(--E);if(x!==32&&x!==9)return E+1}return w}function d(v,E,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=x(E);if(!t.test(R))throw new TypeError(`argument val is invalid: ${E}`);let O=v+"="+R;if(!w)return O;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);O+="; Max-Age="+w.maxAge}if(w.domain){if(!e.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);O+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);O+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);O+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(O+="; HttpOnly"),w.secure&&(O+="; Secure"),w.partitioned&&(O+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return O}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return s.call(v)==="[object Date]"}return Gc}EI();var CE="popstate";function TI(n={}){function t(i,s){let{pathname:o,search:l,hash:u}=i.location;return ty("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Su(s)}return wI(t,e,null,n)}function ke(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function fs(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SI(){return Math.random().toString(36).substring(2,10)}function IE(n,t){return{usr:n.state,key:n.key,idx:t}}function ty(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?kl(t):t,state:e,key:t&&t.key||i||SI()}}function Su({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function kl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function wI(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function _(){u="POP";let R=m(),O=R==null?null:R-d;d=R,f&&f({action:u,location:x.location,delta:O})}function v(R,O){u="PUSH";let N=ty(x.location,R,O);d=m()+1;let j=IE(N,d),$=x.createHref(N);try{l.pushState(j,"",$)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign($)}o&&f&&f({action:u,location:x.location,delta:1})}function E(R,O){u="REPLACE";let N=ty(x.location,R,O);d=m();let j=IE(N,d),$=x.createHref(N);l.replaceState(j,"",$),o&&f&&f({action:u,location:x.location,delta:0})}function w(R){return xI(R)}let x={get action(){return u},get location(){return n(s,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(CE,_),f=R,()=>{s.removeEventListener(CE,_),f=null}},createHref(R){return t(s,R)},createURL:w,encodeLocation(R){let O=w(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:E,go(R){return l.go(R)}};return x}function xI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ke(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Su(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function kw(n,t,e="/"){return AI(n,t,e,!1)}function AI(n,t,e,i){let s=typeof t=="string"?kl(t):t,o=ir(s.pathname||"/",e);if(o==null)return null;let l=Pw(n);RI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=UI(o);u=LI(l[f],d,i)}return u}function Pw(n,t=[],e=[],i=""){let s=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ke(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=tr([i,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Pw(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:PI(d,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let f of Nw(o.path))s(o,l,f)}),t}function Nw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=Nw(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function RI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:NI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var CI=/^:[\w-]+$/,II=3,DI=2,MI=1,OI=10,kI=-2,DE=n=>n==="*";function PI(n,t){let e=n.split("/"),i=e.length;return e.some(DE)&&(i+=kI),t&&(i+=DI),e.filter(s=>!DE(s)).reduce((s,o)=>s+(CI.test(o)?II:o===""?MI:OI),i)}function NI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function LI(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=_d({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),v=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=_d({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:tr([o,_.pathname]),pathnameBase:jI(tr([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=tr([o,_.pathnameBase]))}return l}function _d(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=VI(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},v)=>{if(m==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[v];return _&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function VI(n,t=!1,e=!0){fs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function UI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ir(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function zI(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?kl(n):n;return{pathname:e?e.startsWith("/")?e:BI(e,t):t,search:HI(i),hash:qI(s)}}function BI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Am(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Lw(n){let t=FI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Vw(n,t,e,i=!1){let s;typeof n=="string"?s=kl(n):(s={...n},ke(!s.pathname||!s.pathname.includes("?"),Am("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Am("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Am("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;s.pathname=v.join("/")}u=_>=0?t[_]:"/"}let f=zI(s,u),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var tr=n=>n.join("/").replace(/\/\/+/g,"/"),jI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Uw=["POST","PUT","PATCH","DELETE"];new Set(Uw);var GI=["GET",...Uw];new Set(GI);var Pl=X.createContext(null);Pl.displayName="DataRouter";var $d=X.createContext(null);$d.displayName="DataRouterState";var zw=X.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var $I=X.createContext(new Map);$I.displayName="Fetchers";var KI=X.createContext(null);KI.displayName="Await";var gs=X.createContext(null);gs.displayName="Navigation";var ju=X.createContext(null);ju.displayName="Location";var lr=X.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Gy=X.createContext(null);Gy.displayName="RouteError";function WI(n,{relative:t}={}){ke(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=X.useContext(gs),{hash:s,pathname:o,search:l}=qu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:tr([e,o])),i.createHref({pathname:u,search:l,hash:s})}function Hu(){return X.useContext(ju)!=null}function lo(){return ke(Hu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(ju).location}var Bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(n){X.useContext(gs).static||X.useLayoutEffect(n)}function Kd(){let{isDataRoute:n}=X.useContext(lr);return n?l2():XI()}function XI(){ke(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(Pl),{basename:t,navigator:e}=X.useContext(gs),{matches:i}=X.useContext(lr),{pathname:s}=lo(),o=JSON.stringify(Lw(i)),l=X.useRef(!1);return Fw(()=>{l.current=!0}),X.useCallback((f,d={})=>{if(fs(l.current,Bw),!l.current)return;if(typeof f=="number"){e.go(f);return}let m=Vw(f,JSON.parse(o),s,d.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:tr([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,o,s,n])}X.createContext(null);function qu(n,{relative:t}={}){let{matches:e}=X.useContext(lr),{pathname:i}=lo(),s=JSON.stringify(Lw(e));return X.useMemo(()=>Vw(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function QI(n,t){return jw(n,t)}function jw(n,t,e,i){var O;ke(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=X.useContext(gs),{matches:o}=X.useContext(lr),l=o[o.length-1],u=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let N=m&&m.path||"";Hw(f,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=lo(),v;if(t){let N=typeof t=="string"?kl(t):t;ke(d==="/"||((O=N.pathname)==null?void 0:O.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=_;let E=v.pathname||"/",w=E;if(d!=="/"){let N=d.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=kw(n,{pathname:w});fs(m||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),fs(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=n2(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:tr([d,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:tr([d,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,e,i);return t&&R?X.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function ZI(){let n=o2(),t=YI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:o},"ErrorBoundary")," or"," ",X.createElement("code",{style:o},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),e?X.createElement("pre",{style:s},e):null,l)}var JI=X.createElement(ZI,null),t2=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?X.createElement(lr.Provider,{value:this.props.routeContext},X.createElement(Gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e2({routeContext:n,match:t,children:e}){let i=X.useContext(Pl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(lr.Provider,{value:n},e)}function n2(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,o=e==null?void 0:e.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ke(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(e)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:_}=e,v=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,d,m)=>{let _,v=!1,E=null,w=null;e&&(_=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||JI,l&&(u<0&&m===0?(Hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===m&&(v=!0,w=d.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,m+1)),R=()=>{let O;return _?O=E:v?O=w:d.route.Component?O=X.createElement(d.route.Component,null):d.route.element?O=d.route.element:O=f,X.createElement(e2,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:e!=null},children:O})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?X.createElement(t2,{location:e.location,revalidation:e.revalidation,component:E,error:_,children:R(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):R()},null)}function $y(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(n){let t=X.useContext(Pl);return ke(t,$y(n)),t}function s2(n){let t=X.useContext($d);return ke(t,$y(n)),t}function r2(n){let t=X.useContext(lr);return ke(t,$y(n)),t}function Ky(n){let t=r2(n),e=t.matches[t.matches.length-1];return ke(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function a2(){return Ky("useRouteId")}function o2(){var i;let n=X.useContext(Gy),t=s2("useRouteError"),e=Ky("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function l2(){let{router:n}=i2("useNavigate"),t=Ky("useNavigate"),e=X.useRef(!1);return Fw(()=>{e.current=!0}),X.useCallback(async(s,o={})=>{fs(e.current,Bw),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var ME={};function Hw(n,t,e){!t&&!ME[n]&&(ME[n]=!0,fs(!1,e))}X.memo(c2);function c2({routes:n,future:t,state:e}){return jw(n,void 0,e,t)}function Xf(n){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){ke(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=kl(e));let{pathname:f="/",search:d="",hash:m="",state:_=null,key:v="default"}=e,E=X.useMemo(()=>{let w=ir(f,l);return w==null?null:{location:{pathname:w,search:d,hash:m,state:_,key:v},navigationType:i}},[l,f,d,m,_,v,i]);return fs(E!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:X.createElement(gs.Provider,{value:u},X.createElement(ju.Provider,{children:t,value:E}))}function h2({children:n,location:t}){return QI(ey(n),t)}function ey(n,t=[]){let e=[];return X.Children.forEach(n,(i,s)=>{if(!X.isValidElement(i))return;let o=[...t,s];if(i.type===X.Fragment){e.push.apply(e,ey(i.props.children,o));return}ke(i.type===Xf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ey(i.props.children,o)),e.push(l)}),e}var Qf="get",Zf="application/x-www-form-urlencoded";function Wd(n){return n!=null&&typeof n.tagName=="string"}function f2(n){return Wd(n)&&n.tagName.toLowerCase()==="button"}function d2(n){return Wd(n)&&n.tagName.toLowerCase()==="form"}function g2(n){return Wd(n)&&n.tagName.toLowerCase()==="input"}function p2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function m2(n,t){return n.button===0&&(!t||t==="_self")&&!p2(n)}var Rf=null;function y2(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var _2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(n){return n!=null&&!_2.has(n)?(fs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):n}function v2(n,t){let e,i,s,o,l;if(d2(n)){let u=n.getAttribute("action");i=u?ir(u,t):null,e=n.getAttribute("method")||Qf,s=Rm(n.getAttribute("enctype"))||Zf,o=new FormData(n)}else if(f2(n)||g2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?ir(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Qf,s=Rm(n.getAttribute("formenctype"))||Rm(u.getAttribute("enctype"))||Zf,o=new FormData(u,n),!y2()){let{name:d,type:m,value:_}=n;if(m==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(Wd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Qf,i=null,s=Zf,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}function Wy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function b2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function T2(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await b2(o,e);return l.links?l.links():[]}return[]}));return A2(i.flat(1).filter(E2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function OE(n,t,e,i,s,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>{var m;return e[d].pathname!==f.pathname||((m=e[d].route.path)==null?void 0:m.endsWith("*"))&&e[d].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{var _;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=e[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function S2(n,t,{includeHydrateFallback:e}={}){return w2(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function w2(n){return[...new Set(n)]}function x2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function A2(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(x2(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var R2=new Set([100,101,204,205]);function C2(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&ir(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qw(){let n=X.useContext(Pl);return Wy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function I2(){let n=X.useContext($d);return Wy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xy=X.createContext(void 0);Xy.displayName="FrameworkContext";function Yw(){let n=X.useContext(Xy);return Wy(n,"You must render this element inside a <HydratedRouter> element"),n}function D2(n,t){let e=X.useContext(Xy),[i,s]=X.useState(!1),[o,l]=X.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=t,v=X.useRef(null);X.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=O=>{O.forEach(N=>{l(N.isIntersecting)})},R=new IntersectionObserver(x,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),X.useEffect(()=>{if(i){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[i]);let E=()=>{s(!0)},w=()=>{s(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:$c(u,E),onBlur:$c(f,w),onMouseEnter:$c(d,E),onMouseLeave:$c(m,w),onTouchStart:$c(_,E)}]:[!1,v,{}]}function $c(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function M2({page:n,...t}){let{router:e}=qw(),i=X.useMemo(()=>kw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?X.createElement(k2,{page:n,matches:i,...t}):null}function O2(n){let{manifest:t,routeModules:e}=Yw(),[i,s]=X.useState([]);return X.useEffect(()=>{let o=!1;return T2(n,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[n,t,e]),i}function k2({page:n,matches:t,...e}){let i=lo(),{manifest:s,routeModules:o}=Yw(),{basename:l}=qw(),{loaderData:u,matches:f}=I2(),d=X.useMemo(()=>OE(n,t,f,s,i,"data"),[n,t,f,s,i]),m=X.useMemo(()=>OE(n,t,f,s,i,"assets"),[n,t,f,s,i]),_=X.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,x=!1;if(t.forEach(O=>{var j;let N=s.routes[O.route.id];!N||!N.hasLoader||(!d.some($=>$.route.id===O.route.id)&&O.route.id in u&&((j=o[O.route.id])!=null&&j.shouldRevalidate)||N.hasClientLoader?x=!0:w.add(O.route.id))}),w.size===0)return[];let R=C2(n,l);return x&&w.size>0&&R.searchParams.set("_routes",t.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[l,u,i,s,d,t,n,o]),v=X.useMemo(()=>S2(m,s),[m,s]),E=O2(m);return X.createElement(X.Fragment,null,_.map(w=>X.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>X.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),E.map(({key:w,link:x})=>X.createElement("link",{key:w,...x})))}function P2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gw&&(window.__reactRouterVersion="7.6.2")}catch{}function N2({basename:n,children:t,window:e}){let i=X.useRef();i.current==null&&(i.current=TI({window:e,v5Compat:!0}));let s=i.current,[o,l]=X.useState({action:s.action,location:s.location}),u=X.useCallback(f=>{X.startTransition(()=>l(f))},[l]);return X.useLayoutEffect(()=>s.listen(u),[s,u]),X.createElement(u2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:s})}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xd=X.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:m,viewTransition:_,...v},E){let{basename:w}=X.useContext(gs),x=typeof d=="string"&&$w.test(d),R,O=!1;if(typeof d=="string"&&x&&(R=d,Gw))try{let D=new URL(window.location.href),k=d.startsWith("//")?new URL(D.protocol+d):new URL(d),L=ir(k.pathname,w);k.origin===D.origin&&L!=null?d=L+k.search+k.hash:O=!0}catch{fs(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=WI(d,{relative:s}),[j,$,F]=D2(i,v),tt=z2(d,{replace:l,state:u,target:f,preventScrollReset:m,relative:s,viewTransition:_});function M(D){t&&t(D),D.defaultPrevented||tt(D)}let C=X.createElement("a",{...v,...F,href:R||N,onClick:O||o?t:M,ref:P2(E,$),target:f,"data-discover":!x&&e==="render"?"true":void 0});return j&&!x?X.createElement(X.Fragment,null,C,X.createElement(M2,{page:N})):C});Xd.displayName="Link";var L2=X.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:f,...d},m){let _=qu(l,{relative:d.relative}),v=lo(),E=X.useContext($d),{navigator:w,basename:x}=X.useContext(gs),R=E!=null&&q2(_)&&u===!0,O=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,N=v.pathname,j=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(N=N.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&x&&(j=ir(j,x)||j);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let F=N===O||!s&&N.startsWith(O)&&N.charAt($)==="/",tt=j!=null&&(j===O||!s&&j.startsWith(O)&&j.charAt(O.length)==="/"),M={isActive:F,isPending:tt,isTransitioning:R},C=F?t:void 0,D;typeof i=="function"?D=i(M):D=[i,F?"active":null,tt?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(M):o;return X.createElement(Xd,{...d,"aria-current":C,className:D,ref:m,style:k,to:l,viewTransition:u},typeof f=="function"?f(M):f)});L2.displayName="NavLink";var V2=X.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=Qf,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:_,...v},E)=>{let w=j2(),x=H2(u,{relative:d}),R=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&$w.test(u),N=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,F=($==null?void 0:$.getAttribute("formmethod"))||l;w($||j.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:s,state:o,relative:d,preventScrollReset:m,viewTransition:_})};return X.createElement("form",{ref:E,method:R,action:x,onSubmit:i?f:N,...v,"data-discover":!O&&n==="render"?"true":void 0})});V2.displayName="Form";function U2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(n){let t=X.useContext(Pl);return ke(t,U2(n)),t}function z2(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Kd(),f=lo(),d=qu(n,{relative:o});return X.useCallback(m=>{if(m2(m,t)){m.preventDefault();let _=e!==void 0?e:Su(f)===Su(d);u(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[f,u,d,e,i,t,n,s,o,l])}var B2=0,F2=()=>`__${String(++B2)}__`;function j2(){let{router:n}=Kw("useSubmit"),{basename:t}=X.useContext(gs),e=a2();return X.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:f,body:d}=v2(i,t);if(s.navigate===!1){let m=s.fetcherKey||F2();await n.fetch(m,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function H2(n,{relative:t}={}){let{basename:e}=X.useContext(gs),i=X.useContext(lr);ke(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...qu(n||".",{relative:t})},l=lo();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:tr([e,o.pathname])),Su(o)}function q2(n,t={}){let e=X.useContext(zw);ke(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kw("useViewTransitionState"),s=qu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=ir(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=ir(e.nextLocation.pathname,i)||e.nextLocation.pathname;return _d(s.pathname,l)!=null||_d(s.pathname,o)!=null}[...R2];const Y2=()=>{};var kE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},G2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],l=n[e++],u=n[e++],f=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;f||(E=64,l||(v=64)),i.push(e[m],e[_],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ww(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):G2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const _=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||u==null||d==null||_==null)throw new $2;const v=o<<2|u>>4;if(i.push(v),d!==64){const E=u<<4&240|d>>2;if(i.push(E),_!==64){const w=d<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(n){const t=Ww(n);return Xw.encodeByteArray(t,!0)},vd=function(n){return K2(n).replace(/\./g,"")},Qw=function(n){try{return Xw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=()=>W2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof kE>"u")return;const n=kE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Qw(n[1]);return t&&JSON.parse(t)},Qd=()=>{try{return Y2()||X2()||Q2()||Z2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Zw=n=>{var t,e;return(e=(t=Qd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},J2=n=>{const t=Zw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Jw=()=>{var n;return(n=Qd())===null||n===void 0?void 0:n.config},tx=n=>{var t;return(t=Qd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){return n.endsWith(".cloudworkstations.dev")}async function ex(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vd(JSON.stringify(e)),vd(JSON.stringify(l)),""].join(".")}const fu={};function nD(){const n={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?n.emulator.push(t):n.prod.push(t);return n}function iD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let PE=!1;function nx(n,t){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||fu[n]===t||fu[n]||PE)return;fu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=nD().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{PE=!0,l()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=iD(i),E=e("text"),w=document.getElementById(E)||document.createElement("span"),x=e("learnmore"),R=document.getElementById(x)||document.createElement("a"),O=e("preprendIcon"),N=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;u(j),m(R,x);const $=d();f(N,O),j.append(N,w,R,$),document.body.appendChild(j)}o?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function rD(){var n;const t=(n=Qd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cD(){const n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uD(){return!rD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hD(){try{return typeof indexedDB=="object"}catch{return!1}}function fD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="FirebaseError";class cr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=dD,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?gD(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new cr(s,u,i)}}function gD(n,t){return n.replace(pD,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const pD=/\{\$([^}]+)}/g;function mD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function to(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],l=t[s];if(NE(o)&&NE(l)){if(!to(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function NE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function tu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function eu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function yD(n,t){const e=new _D(n,t);return e.subscribe.bind(e)}class _D{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");vD(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=Cm),s.error===void 0&&(s.error=Cm),s.complete===void 0&&(s.complete=Cm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n){return n&&n._delegate?n._delegate:n}class eo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new tD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TD(t))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=Ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ga){return this.instances.has(t)}getOptions(t=Ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ED(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ga){return this.component?this.component.multipleInstances?t:Ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ED(n){return n===Ga?void 0:n}function TD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(te||(te={}));const wD={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},xD=te.INFO,AD={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},RD=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=AD[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qy{constructor(t){this.name=t,this._logLevel=xD,this._logHandler=RD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...t),this._logHandler(this,te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...t),this._logHandler(this,te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,te.INFO,...t),this._logHandler(this,te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,te.WARN,...t),this._logHandler(this,te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...t),this._logHandler(this,te.ERROR,...t)}}const CD=(n,t)=>t.some(e=>n instanceof e);let LE,VE;function ID(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ix=new WeakMap,ny=new WeakMap,sx=new WeakMap,Im=new WeakMap,Zy=new WeakMap;function MD(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Wr(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&ix.set(e,n)}).catch(()=>{}),Zy.set(t,n),t}function OD(n){if(ny.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ny.set(n,t)}let iy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ny.get(n);if(t==="objectStoreNames")return n.objectStoreNames||sx.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Wr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function kD(n){iy=n(iy)}function PD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Dm(this),t,...e);return sx.set(i,t.sort?t.sort():[t]),Wr(i)}:DD().includes(n)?function(...t){return n.apply(Dm(this),t),Wr(ix.get(this))}:function(...t){return Wr(n.apply(Dm(this),t))}}function ND(n){return typeof n=="function"?PD(n):(n instanceof IDBTransaction&&OD(n),CD(n,ID())?new Proxy(n,iy):n)}function Wr(n){if(n instanceof IDBRequest)return MD(n);if(Im.has(n))return Im.get(n);const t=ND(n);return t!==n&&(Im.set(n,t),Zy.set(t,n)),t}const Dm=n=>Zy.get(n);function LD(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,t),u=Wr(l);return i&&l.addEventListener("upgradeneeded",f=>{i(Wr(l.result),f.oldVersion,f.newVersion,Wr(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const VD=["get","getKey","getAll","getAllKeys","count"],UD=["put","add","delete","clear"],Mm=new Map;function UE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mm.get(t))return Mm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=UD.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||VD.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),s&&f.done]))[0]};return Mm.set(t,o),o}kD(n=>({...n,get:(t,e,i)=>UE(t,e)||n.get(t,e,i),has:(t,e)=>!!UE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(BD(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function BD(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sy="@firebase/app",zE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Qy("@firebase/app"),FD="@firebase/app-compat",jD="@firebase/analytics-compat",HD="@firebase/analytics",qD="@firebase/app-check-compat",YD="@firebase/app-check",GD="@firebase/auth",$D="@firebase/auth-compat",KD="@firebase/database",WD="@firebase/data-connect",XD="@firebase/database-compat",QD="@firebase/functions",ZD="@firebase/functions-compat",JD="@firebase/installations",tM="@firebase/installations-compat",eM="@firebase/messaging",nM="@firebase/messaging-compat",iM="@firebase/performance",sM="@firebase/performance-compat",rM="@firebase/remote-config",aM="@firebase/remote-config-compat",oM="@firebase/storage",lM="@firebase/storage-compat",cM="@firebase/firestore",uM="@firebase/ai",hM="@firebase/firestore-compat",fM="firebase",dM="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",gM={[sy]:"fire-core",[FD]:"fire-core-compat",[HD]:"fire-analytics",[jD]:"fire-analytics-compat",[YD]:"fire-app-check",[qD]:"fire-app-check-compat",[GD]:"fire-auth",[$D]:"fire-auth-compat",[KD]:"fire-rtdb",[WD]:"fire-data-connect",[XD]:"fire-rtdb-compat",[QD]:"fire-fn",[ZD]:"fire-fn-compat",[JD]:"fire-iid",[tM]:"fire-iid-compat",[eM]:"fire-fcm",[nM]:"fire-fcm-compat",[iM]:"fire-perf",[sM]:"fire-perf-compat",[rM]:"fire-rc",[aM]:"fire-rc-compat",[oM]:"fire-gcs",[lM]:"fire-gcs-compat",[cM]:"fire-fst",[hM]:"fire-fst-compat",[uM]:"fire-vertex","fire-js":"fire-js",[fM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,pM=new Map,ay=new Map;function BE(n,t){try{n.container.addComponent(t)}catch(e){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Tl(n){const t=n.name;if(ay.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,n);for(const e of bd.values())BE(e,n);for(const e of pM.values())BE(e,n);return!0}function Jy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function wi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Yu("app","Firebase",mM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=dM;function rx(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:ry,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw Xr.create("bad-app-name",{appName:String(s)});if(e||(e=Jw()),!e)throw Xr.create("no-options");const o=bd.get(s);if(o){if(to(e,o.options)&&to(i,o.config))return o;throw Xr.create("duplicate-app",{appName:s})}const l=new SD(s);for(const f of ay.values())l.addComponent(f);const u=new yM(e,i,l);return bd.set(s,u),u}function ax(n=ry){const t=bd.get(n);if(!t&&n===ry&&Jw())return rx();if(!t)throw Xr.create("no-app",{appName:n});return t}function Qr(n,t,e){var i;let s=(i=gM[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${t}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(u.join(" "));return}Tl(new eo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="firebase-heartbeat-database",vM=1,wu="firebase-heartbeat-store";let Om=null;function ox(){return Om||(Om=LD(_M,vM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(wu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),Om}async function bM(n){try{const e=(await ox()).transaction(wu),i=await e.objectStore(wu).get(lx(n));return await e.done,i}catch(t){if(t instanceof cr)sr.warn(t.message);else{const e=Xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});sr.warn(e.message)}}}async function FE(n,t){try{const i=(await ox()).transaction(wu,"readwrite");await i.objectStore(wu).put(t,lx(n)),await i.done}catch(e){if(e instanceof cr)sr.warn(e.message);else{const i=Xr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});sr.warn(i.message)}}}function lx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=1024,TM=30;class SM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new xM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>TM){const l=AM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){sr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jE(),{heartbeatsToSend:i,unsentEntries:s}=wM(this._heartbeatsCache.heartbeats),o=vd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sr.warn(e),""}}}function jE(){return new Date().toISOString().substring(0,10)}function wM(n,t=EM){const e=[];let i=n.slice();for(const s of n){const o=e.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),HE(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),HE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class xM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hD()?fD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await bM(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function HE(n){return vd(JSON.stringify({version:2,heartbeats:n})).length}function AM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n){Tl(new eo("platform-logger",t=>new zD(t),"PRIVATE")),Tl(new eo("heartbeat",t=>new SM(t),"PRIVATE")),Qr(sy,zE,n),Qr(sy,zE,"esm2017"),Qr("fire-js","")}RM("");var CM="firebase",IM="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(CM,IM,"app");function t_(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DM=cx,ux=new Yu("auth","Firebase",cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Qy("@firebase/auth");function MM(n,...t){Ed.logLevel<=te.WARN&&Ed.warn(`Auth (${Ll}): ${n}`,...t)}function Jf(n,...t){Ed.logLevel<=te.ERROR&&Ed.error(`Auth (${Ll}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,...t){throw e_(n,...t)}function rs(n,...t){return e_(n,...t)}function hx(n,t,e){const i=Object.assign(Object.assign({},DM()),{[t]:e});return new Yu("auth","Firebase",i).create(t,{appName:n.name})}function er(n){return hx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return ux.create(n,...t)}function Nt(n,t,...e){if(!n)throw e_(t,...e)}function Ws(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Jf(t),new Error(t)}function rr(n,t){n||Ws(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OM(){return qE()==="http:"||qE()==="https:"}function qE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OM()||oD()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e){this.shortDelay=t,this.longDelay=e,rr(e>t,"Short delay should be less than long delay!"),this.isMobile=sD()||lD()}get(){return kM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n,t){rr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VM=new $u(3e4,6e4);function ua(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function ha(n,t,e,i,s={}){return dx(n,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Gu(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:t,headers:f},o);return aD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Nl(n.emulatorConfig.host)&&(d.credentials="include"),fx.fetch()(await gx(n,n.config.apiHost,e,u),d)})}async function dx(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},NM),t);try{const s=new zM(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Cf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Cf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Cf(n,"user-disabled",l);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hx(n,m,d);Vi(n,m)}}catch(s){if(s instanceof cr)throw s;Vi(n,"network-request-failed",{message:String(s)})}}async function Ku(n,t,e,i,s={}){const o=await ha(n,t,e,i,s);return"mfaPendingCredential"in o&&Vi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function gx(n,t,e,i){const s=`${t}${e}?${i}`,o=n,l=o.config.emulator?n_(n.config,s):`${n.config.apiScheme}://${s}`;return LM.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function UM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(rs(this.auth,"network-request-failed")),VM.get())})}}function Cf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=rs(n,t,i);return s.customData._tokenResponse=e,s}function YE(n){return n!==void 0&&n.enterprise!==void 0}class BM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return UM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FM(n,t){return ha(n,"GET","/v2/recaptchaConfig",ua(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(n,t){return ha(n,"POST","/v1/accounts:delete",t)}async function Td(n,t){return ha(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HM(n,t=!1){const e=ui(n),i=await e.getIdToken(t),s=i_(i);Nt(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:du(km(s.auth_time)),issuedAtTime:du(km(s.iat)),expirationTime:du(km(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function km(n){return Number(n)*1e3}function i_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Qw(e);return s?JSON.parse(s):(Jf("Failed to decode base64 JWT payload"),null)}catch(s){return Jf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function GE(n){const t=i_(n);return Nt(t,"internal-error"),Nt(typeof t.exp<"u","internal-error"),Nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof cr&&qM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function qM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(n){var t;const e=n.auth,i=await n.getIdToken(),s=await xu(n,Td(e,{idToken:i}));Nt(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?px(o.providerUserInfo):[],u=$M(n.providerData,l),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ly(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function GM(n){const t=ui(n);await Sd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $M(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function px(n){return n.map(t=>{var{providerId:e}=t,i=t_(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(n,t){const e=await dx(n,{},async()=>{const i=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await gx(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Nl(n.emulatorConfig.host)&&(f.credentials="include"),fx.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function WM(n,t){return ha(n,"POST","/v2/accounts:revokeToken",ua(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Nt(t.idToken,"internal-error"),Nt(typeof t.idToken<"u","internal-error"),Nt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):GE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Nt(t.length!==0,"internal-error");const e=GE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await KM(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,l=new yl;return i&&(Nt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Nt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(Nt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(n,t){Nt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ki{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=t_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ly(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await xu(this,this.stsTokenManager.getToken(this.auth,t));return Nt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return HM(this,t)}reload(){return GM(this)}_assign(t){this!==t&&(Nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ki(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Sd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await xu(this,jM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,l,u,f,d,m;const _=(i=e.displayName)!==null&&i!==void 0?i:void 0,v=(s=e.email)!==null&&s!==void 0?s:void 0,E=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=e.photoURL)!==null&&l!==void 0?l:void 0,x=(u=e.tenantId)!==null&&u!==void 0?u:void 0,R=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,O=(d=e.createdAt)!==null&&d!==void 0?d:void 0,N=(m=e.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:$,isAnonymous:F,providerData:tt,stsTokenManager:M}=e;Nt(j&&M,t,"internal-error");const C=yl.fromJSON(this.name,M);Nt(typeof j=="string",t,"internal-error"),Ur(_,t.name),Ur(v,t.name),Nt(typeof $=="boolean",t,"internal-error"),Nt(typeof F=="boolean",t,"internal-error"),Ur(E,t.name),Ur(w,t.name),Ur(x,t.name),Ur(R,t.name),Ur(O,t.name),Ur(N,t.name);const D=new ki({uid:j,auth:t,email:v,emailVerified:$,displayName:_,isAnonymous:F,photoURL:w,phoneNumber:E,tenantId:x,stsTokenManager:C,createdAt:O,lastLoginAt:N});return tt&&Array.isArray(tt)&&(D.providerData=tt.map(k=>Object.assign({},k))),R&&(D._redirectEventId=R),D}static async _fromIdTokenResponse(t,e,i=!1){const s=new yl;s.updateFromServerResponse(e);const o=new ki({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Sd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Nt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?px(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new yl;u.updateFromIdToken(i);const f=new ki({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function Xs(n){rr(n instanceof Function,"Expected a class definition");let t=$E.get(n);return t?(rr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,$E.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}mx.type="NONE";const KE=mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(n,t,e){return`firebase:${n}:${t}:${e}`}class _l{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=td(this.userKey,s.apiKey,o),this.fullPersistenceKey=td("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Td(this.auth,{idToken:t}).catch(()=>{});return e?ki._fromGetAccountInfoResponse(this.auth,e,t):null}return ki._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new _l(Xs(KE),t,i);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Xs(KE);const l=td(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const m=await d._get(l);if(m){let _;if(typeof m=="string"){const v=await Td(t,{idToken:m}).catch(()=>{});if(!v)break;_=await ki._fromGetAccountInfoResponse(t,v,m)}else _=ki._fromJSON(t,m);d!==o&&(u=_),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new _l(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new _l(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tx(t))return"Blackberry";if(Sx(t))return"Webos";if(_x(t))return"Safari";if((t.includes("chrome/")||vx(t))&&!t.includes("edge/"))return"Chrome";if(Ex(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yx(n=Pn()){return/firefox\//i.test(n)}function _x(n=Pn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vx(n=Pn()){return/crios\//i.test(n)}function bx(n=Pn()){return/iemobile/i.test(n)}function Ex(n=Pn()){return/android/i.test(n)}function Tx(n=Pn()){return/blackberry/i.test(n)}function Sx(n=Pn()){return/webos/i.test(n)}function s_(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XM(n=Pn()){var t;return s_(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QM(){return cD()&&document.documentMode===10}function wx(n=Pn()){return s_(n)||Ex(n)||Sx(n)||Tx(n)||/windows phone/i.test(n)||bx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n,t=[]){let e;switch(n){case"Browser":e=WE(Pn());break;case"Worker":e=`${WE(Pn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ll}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(n,t={}){return ha(n,"GET","/v2/passwordPolicy",ua(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6;class eO{constructor(t){var e,i,s,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:tO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,o,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new ZM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Xs(e)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await _l.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Td(this,{idToken:t}),i=await ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(wi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===u)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Sd(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wi(this.app))return Promise.reject(er(this));const e=t?ui(t):null;return e&&Nt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wi(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JM(this),e=new eO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await WM(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Xs(t)||this._popupRedirectResolver;Nt(e,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Xs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,s);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&MM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function co(n){return ui(n)}class XE{constructor(t){this.auth=t,this.observer=null,this.addObserver=yD(e=>this.observer=e)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(n){Zd=n}function Ax(n){return Zd.loadJS(n)}function sO(){return Zd.recaptchaEnterpriseScript}function rO(){return Zd.gapiScript}function aO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oO{constructor(){this.enterprise=new lO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class lO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cO="recaptcha-enterprise",Rx="NO_RECAPTCHA";class uO{constructor(t){this.type=cO,this.auth=co(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{FM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new BM(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function s(o,l,u){const f=window.grecaptcha;YE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(Rx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&YE(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=sO();f.length!==0&&(f+=u),Ax(f).then(()=>{s(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function QE(n,t,e,i=!1,s=!1){const o=new uO(n);let l;if(s)l=Rx;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cy(n,t,e,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await QE(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await QE(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n,t){const e=Jy(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(to(o,t??{}))return s;Vi(s,"already-initialized")}return e.initialize({options:t})}function fO(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Xs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function dO(n,t,e){const i=co(n);Nt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=Cx(t),{host:l,port:u}=gO(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Nt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Nt(to(d,i.config.emulator)&&to(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Nl(l)?(ex(`${o}//${l}${f}`),nx("Auth",!0)):pO()}function Cx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function gO(n){const t=Cx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:ZE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:ZE(l)}}}function ZE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function pO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ws("not implemented")}_getIdTokenResponse(t){return Ws("not implemented")}_linkToIdToken(t,e){return Ws("not implemented")}_getReauthenticationResolver(t){return Ws("not implemented")}}async function mO(n,t){return ha(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,t){return Ku(n,"POST","/v1/accounts:signInWithPassword",ua(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(n,t){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",ua(n,t))}async function vO(n,t){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",ua(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends r_{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new Au(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Au(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,e,"signInWithPassword",yO);case"emailLink":return _O(t,{email:this._email,oobCode:this._password});default:Vi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,i,"signUpPassword",mO);case"emailLink":return vO(t,{idToken:e,email:this._email,oobCode:this._password});default:Vi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(n,t){return Ku(n,"POST","/v1/accounts:signInWithIdp",ua(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="http://localhost";class no extends r_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new no(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Vi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=t_(e,["providerId","signInMethod"]);if(!i||!s)return null;const l=new no(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return vl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,vl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,vl(t,e)}buildRequest(){const t={requestUri:bO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TO(n){const t=tu(eu(n)).link,e=t?tu(eu(t)).deep_link_id:null,i=tu(eu(n)).deep_link_id;return(i?tu(eu(i)).link:null)||i||e||t||n}class a_{constructor(t){var e,i,s,o,l,u;const f=tu(eu(t)),d=(e=f.apiKey)!==null&&e!==void 0?e:null,m=(i=f.oobCode)!==null&&i!==void 0?i:null,_=EO((s=f.mode)!==null&&s!==void 0?s:null);Nt(d&&m&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=TO(t);try{return new a_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(t,e){return Au._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=a_.parseLink(e);return Nt(i,"argument-error"),Au._fromEmailAndCode(t,i.code,i.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Ix{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Wu{constructor(){super("facebook.com")}static credential(t){return no._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return no._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Fr.credential(e,i)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Wu{constructor(){super("github.com")}static credential(t){return no._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Wu{constructor(){super("twitter.com")}static credential(t,e){return no._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Hr.credential(e,i)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,t){return Ku(n,"POST","/v1/accounts:signUp",ua(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await ki._fromIdTokenResponse(t,i,s),l=JE(i);return new io({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=JE(i);return new io({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function JE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends cr{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new wd(t,e,i,s)}}function Dx(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(n,o,t,i):o})}async function wO(n,t,e=!1){const i=await xu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return io._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,t,e=!1){const{auth:i}=n;if(wi(i.app))return Promise.reject(er(i));const s="reauthenticate";try{const o=await xu(n,Dx(i,s,t,n),e);Nt(o.idToken,i,"internal-error");const l=i_(o.idToken);Nt(l,i,"internal-error");const{sub:u}=l;return Nt(n.uid===u,i,"user-mismatch"),io._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(n,t,e=!1){if(wi(n.app))return Promise.reject(er(n));const i="signIn",s=await Dx(n,i,t),o=await io._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}async function AO(n,t){return Mx(co(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(n){const t=co(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function RO(n,t,e){if(wi(n.app))return Promise.reject(er(n));const i=co(n),l=await cy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Ox(n),f}),u=await io._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function CO(n,t,e){return wi(n.app)?Promise.reject(er(n)):AO(ui(n),Vl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Ox(n),i})}function IO(n,t,e,i){return ui(n).onIdTokenChanged(t,e,i)}function DO(n,t,e){return ui(n).beforeAuthStateChanged(t,e)}const xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1e3,OO=10;class Px extends kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);QM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,OO):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},MO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Px.type="LOCAL";const kO=Px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Nx.type="SESSION";const Lx=Nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Jd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await PO(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=o_("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function LO(n){as().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function VO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function zO(){return Vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebaseLocalStorageDb",BO=1,Ad="firebaseLocalStorage",zx="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function tg(n,t){return n.transaction([Ad],t?"readwrite":"readonly").objectStore(Ad)}function FO(){const n=indexedDB.deleteDatabase(Ux);return new Xu(n).toPromise()}function uy(){const n=indexedDB.open(Ux,BO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ad,{keyPath:zx})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ad)?t(i):(i.close(),await FO(),t(await uy()))})})}async function tT(n,t,e){const i=tg(n,!0).put({[zx]:t,value:e});return new Xu(i).toPromise()}async function jO(n,t){const e=tg(n,!1).get(t),i=await new Xu(e).toPromise();return i===void 0?null:i.value}function eT(n,t){const e=tg(n,!0).delete(t);return new Xu(e).toPromise()}const HO=800,qO=3;class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>qO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(zO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await VO(),!this.activeServiceWorker)return;this.sender=new NO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uy();return await tT(t,xd,"1"),await eT(t,xd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>tT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>jO(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>eT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=tg(s,!1).getAll();return new Xu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bx.type="LOCAL";const YO=Bx;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,t){return t?Xs(t):(Nt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends r_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return vl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return vl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function $O(n){return Mx(n.auth,new l_(n),n.bypassAuthState)}function KO(n){const{auth:t,user:e}=n;return Nt(e,t,"internal-error"),xO(e,new l_(n),n.bypassAuthState)}async function WO(n){const{auth:t,user:e}=n;return Nt(e,t,"internal-error"),wO(e,new l_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $O;case"linkViaPopup":case"linkViaRedirect":return WO;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:Vi(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new $u(2e3,1e4);class ml extends Fx{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Nt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=o_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XO.get())};t()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="pendingRedirect",ed=new Map;class ZO extends Fx{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=ed.get(this.auth._key());if(!t){try{const i=await JO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}ed.set(this.auth._key(),t)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JO(n,t){const e=nk(t),i=ek(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function tk(n,t){ed.set(n._key(),t)}function ek(n){return Xs(n._redirectPersistence)}function nk(n){return td(QO,n.config.apiKey,n.name)}async function ik(n,t,e=!1){if(wi(n.app))return Promise.reject(er(n));const i=co(n),s=GO(i,t),l=await new ZO(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=10*60*1e3;class rk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ak(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!jx(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(rs(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sk&&this.cachedEventUids.clear(),this.cachedEventUids.has(nT(t))}saveEventToCache(t){this.cachedEventUids.add(nT(t)),this.lastProcessedEventTime=Date.now()}}function nT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function jx({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ak(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,t={}){return ha(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ck=/^https?/;async function uk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await ok(n);for(const e of t)try{if(hk(e))return}catch{}Vi(n,"unauthorized-domain")}function hk(n){const t=oy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!ck.test(e))return!1;if(lk.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new $u(3e4,6e4);function iT(){const n=as().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function dk(n){return new Promise((t,e)=>{var i,s,o;function l(){iT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iT(),e(rs(n,"network-request-failed"))},timeout:fk.get()})}if(!((s=(i=as().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=as().gapi)===null||o===void 0)&&o.load)l();else{const u=aO("iframefcb");return as()[u]=()=>{gapi.load?l():e(rs(n,"network-request-failed"))},Ax(`${rO()}?onload=${u}`).catch(f=>e(f))}}).catch(t=>{throw nd=null,t})}let nd=null;function gk(n){return nd=nd||dk(n),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new $u(5e3,15e3),mk="__/auth/iframe",yk="emulator/auth/iframe",_k={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bk(n){const t=n.config;Nt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?n_(t,yk):`https://${n.config.authDomain}/${mk}`,i={apiKey:t.apiKey,appName:n.name,v:Ll},s=vk.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Gu(i).slice(1)}`}async function Ek(n){const t=await gk(n),e=as().gapi;return Nt(e,n,"internal-error"),t.open({where:document.body,url:bk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_k,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=rs(n,"network-request-failed"),u=as().setTimeout(()=>{o(l)},pk.get());function f(){as().clearTimeout(u),s(i)}i.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sk=500,wk=600,xk="_blank",Ak="http://localhost";class sT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rk(n,t,e,i=Sk,s=wk){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f=Object.assign(Object.assign({},Tk),{width:i.toString(),height:s.toString(),top:o,left:l}),d=Pn().toLowerCase();e&&(u=vx(d)?xk:e),yx(d)&&(t=t||Ak,f.scrollbars="yes");const m=Object.entries(f).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(XM(d)&&u!=="_self")return Ck(t||"",u),new sT(null);const _=window.open(t||"",u,m);Nt(_,n,"popup-blocked");try{_.focus()}catch{}return new sT(_)}function Ck(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="__/auth/handler",Dk="emulator/auth/handler",Mk=encodeURIComponent("fac");async function rT(n,t,e,i,s,o){Nt(n.config.authDomain,n,"auth-domain-config-required"),Nt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ll,eventId:s};if(t instanceof Ix){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",mD(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries({}))l[m]=_}if(t instanceof Wu){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),d=f?`#${Mk}=${encodeURIComponent(f)}`:"";return`${Ok(n)}?${Gu(u).slice(1)}${d}`}function Ok({config:n}){return n.emulator?n_(n,Dk):`https://${n.authDomain}/${Ik}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class kk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=ik,this._overrideRedirectResult=tk}async _openPopup(t,e,i,s){var o;rr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await rT(t,e,i,oy(),s);return Rk(t,l,o_())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await rT(t,e,i,oy(),s);return LO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(rr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Ek(t),i=new rk(t);return e.register("authEvent",s=>(Nt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Pm,{type:Pm},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Pm];l!==void 0&&e(!!l),Vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return wx()||_x()||s_()}}const Pk=kk;var aT="@firebase/auth",oT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vk(n){Tl(new eo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Nt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xx(n)},d=new nO(i,s,o,f);return fO(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Tl(new eo("auth-internal",t=>{const e=co(t.getProvider("auth").getImmediate());return(i=>new Nk(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(aT,oT,Lk(n)),Qr(aT,oT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=5*60,zk=tx("authIdTokenMaxAge")||Uk;let lT=null;const Bk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>zk)return;const s=e==null?void 0:e.token;lT!==s&&(lT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Fk(n=ax()){const t=Jy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=hO(n,{popupRedirectResolver:Pk,persistence:[YO,kO,Lx]}),i=tx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=Bk(o.toString());DO(e,l,()=>l(e.currentUser)),IO(e,u=>l(u))}}const s=Zw("auth");return s&&dO(e,`http://${s}`),e}function jk(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}iO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=rs("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",jk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vk("Browser");var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,Hx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,C){function D(){}D.prototype=C.prototype,M.D=C.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(k,L,z){for(var P=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)P[$t-2]=arguments[$t];return C.prototype[L].apply(k,P)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,D){D||(D=0);var k=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)k[L]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(L=0;16>L;++L)k[L]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=M.g[0],D=M.g[1],L=M.g[2];var z=M.g[3],P=C+(z^D&(L^z))+k[0]+3614090360&4294967295;C=D+(P<<7&4294967295|P>>>25),P=z+(L^C&(D^L))+k[1]+3905402710&4294967295,z=C+(P<<12&4294967295|P>>>20),P=L+(D^z&(C^D))+k[2]+606105819&4294967295,L=z+(P<<17&4294967295|P>>>15),P=D+(C^L&(z^C))+k[3]+3250441966&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(z^D&(L^z))+k[4]+4118548399&4294967295,C=D+(P<<7&4294967295|P>>>25),P=z+(L^C&(D^L))+k[5]+1200080426&4294967295,z=C+(P<<12&4294967295|P>>>20),P=L+(D^z&(C^D))+k[6]+2821735955&4294967295,L=z+(P<<17&4294967295|P>>>15),P=D+(C^L&(z^C))+k[7]+4249261313&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(z^D&(L^z))+k[8]+1770035416&4294967295,C=D+(P<<7&4294967295|P>>>25),P=z+(L^C&(D^L))+k[9]+2336552879&4294967295,z=C+(P<<12&4294967295|P>>>20),P=L+(D^z&(C^D))+k[10]+4294925233&4294967295,L=z+(P<<17&4294967295|P>>>15),P=D+(C^L&(z^C))+k[11]+2304563134&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(z^D&(L^z))+k[12]+1804603682&4294967295,C=D+(P<<7&4294967295|P>>>25),P=z+(L^C&(D^L))+k[13]+4254626195&4294967295,z=C+(P<<12&4294967295|P>>>20),P=L+(D^z&(C^D))+k[14]+2792965006&4294967295,L=z+(P<<17&4294967295|P>>>15),P=D+(C^L&(z^C))+k[15]+1236535329&4294967295,D=L+(P<<22&4294967295|P>>>10),P=C+(L^z&(D^L))+k[1]+4129170786&4294967295,C=D+(P<<5&4294967295|P>>>27),P=z+(D^L&(C^D))+k[6]+3225465664&4294967295,z=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(z^C))+k[11]+643717713&4294967295,L=z+(P<<14&4294967295|P>>>18),P=D+(z^C&(L^z))+k[0]+3921069994&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(L^z&(D^L))+k[5]+3593408605&4294967295,C=D+(P<<5&4294967295|P>>>27),P=z+(D^L&(C^D))+k[10]+38016083&4294967295,z=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(z^C))+k[15]+3634488961&4294967295,L=z+(P<<14&4294967295|P>>>18),P=D+(z^C&(L^z))+k[4]+3889429448&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(L^z&(D^L))+k[9]+568446438&4294967295,C=D+(P<<5&4294967295|P>>>27),P=z+(D^L&(C^D))+k[14]+3275163606&4294967295,z=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(z^C))+k[3]+4107603335&4294967295,L=z+(P<<14&4294967295|P>>>18),P=D+(z^C&(L^z))+k[8]+1163531501&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(L^z&(D^L))+k[13]+2850285829&4294967295,C=D+(P<<5&4294967295|P>>>27),P=z+(D^L&(C^D))+k[2]+4243563512&4294967295,z=C+(P<<9&4294967295|P>>>23),P=L+(C^D&(z^C))+k[7]+1735328473&4294967295,L=z+(P<<14&4294967295|P>>>18),P=D+(z^C&(L^z))+k[12]+2368359562&4294967295,D=L+(P<<20&4294967295|P>>>12),P=C+(D^L^z)+k[5]+4294588738&4294967295,C=D+(P<<4&4294967295|P>>>28),P=z+(C^D^L)+k[8]+2272392833&4294967295,z=C+(P<<11&4294967295|P>>>21),P=L+(z^C^D)+k[11]+1839030562&4294967295,L=z+(P<<16&4294967295|P>>>16),P=D+(L^z^C)+k[14]+4259657740&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(D^L^z)+k[1]+2763975236&4294967295,C=D+(P<<4&4294967295|P>>>28),P=z+(C^D^L)+k[4]+1272893353&4294967295,z=C+(P<<11&4294967295|P>>>21),P=L+(z^C^D)+k[7]+4139469664&4294967295,L=z+(P<<16&4294967295|P>>>16),P=D+(L^z^C)+k[10]+3200236656&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(D^L^z)+k[13]+681279174&4294967295,C=D+(P<<4&4294967295|P>>>28),P=z+(C^D^L)+k[0]+3936430074&4294967295,z=C+(P<<11&4294967295|P>>>21),P=L+(z^C^D)+k[3]+3572445317&4294967295,L=z+(P<<16&4294967295|P>>>16),P=D+(L^z^C)+k[6]+76029189&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(D^L^z)+k[9]+3654602809&4294967295,C=D+(P<<4&4294967295|P>>>28),P=z+(C^D^L)+k[12]+3873151461&4294967295,z=C+(P<<11&4294967295|P>>>21),P=L+(z^C^D)+k[15]+530742520&4294967295,L=z+(P<<16&4294967295|P>>>16),P=D+(L^z^C)+k[2]+3299628645&4294967295,D=L+(P<<23&4294967295|P>>>9),P=C+(L^(D|~z))+k[0]+4096336452&4294967295,C=D+(P<<6&4294967295|P>>>26),P=z+(D^(C|~L))+k[7]+1126891415&4294967295,z=C+(P<<10&4294967295|P>>>22),P=L+(C^(z|~D))+k[14]+2878612391&4294967295,L=z+(P<<15&4294967295|P>>>17),P=D+(z^(L|~C))+k[5]+4237533241&4294967295,D=L+(P<<21&4294967295|P>>>11),P=C+(L^(D|~z))+k[12]+1700485571&4294967295,C=D+(P<<6&4294967295|P>>>26),P=z+(D^(C|~L))+k[3]+2399980690&4294967295,z=C+(P<<10&4294967295|P>>>22),P=L+(C^(z|~D))+k[10]+4293915773&4294967295,L=z+(P<<15&4294967295|P>>>17),P=D+(z^(L|~C))+k[1]+2240044497&4294967295,D=L+(P<<21&4294967295|P>>>11),P=C+(L^(D|~z))+k[8]+1873313359&4294967295,C=D+(P<<6&4294967295|P>>>26),P=z+(D^(C|~L))+k[15]+4264355552&4294967295,z=C+(P<<10&4294967295|P>>>22),P=L+(C^(z|~D))+k[6]+2734768916&4294967295,L=z+(P<<15&4294967295|P>>>17),P=D+(z^(L|~C))+k[13]+1309151649&4294967295,D=L+(P<<21&4294967295|P>>>11),P=C+(L^(D|~z))+k[4]+4149444226&4294967295,C=D+(P<<6&4294967295|P>>>26),P=z+(D^(C|~L))+k[11]+3174756917&4294967295,z=C+(P<<10&4294967295|P>>>22),P=L+(C^(z|~D))+k[2]+718787259&4294967295,L=z+(P<<15&4294967295|P>>>17),P=D+(z^(L|~C))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var D=C-this.blockSize,k=this.B,L=this.h,z=0;z<C;){if(L==0)for(;z<=D;)s(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<C;)if(k[L++]=M.charCodeAt(z++),L==this.blockSize){s(this,k),L=0;break}}else for(;z<C;)if(k[L++]=M[z++],L==this.blockSize){s(this,k),L=0;break}}this.h=L,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var D=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=D&255,D/=256;for(this.u(M),M=Array(16),C=D=0;4>C;++C)for(var k=0;32>k;k+=8)M[D++]=this.g[C]>>>k&255;return M};function o(M,C){var D=u;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=C(M)}function l(M,C){this.h=C;for(var D=[],k=!0,L=M.length-1;0<=L;L--){var z=M[L]|0;k&&z==C||(D[L]=z,k=!1)}this.g=D}var u={};function f(M){return-128<=M&&128>M?o(M,function(C){return new l([C|0],0>C?-1:0)}):new l([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return R(d(-M));for(var C=[],D=1,k=0;M>=D;k++)C[k]=M/D|0,D*=4294967296;return new l(C,0)}function m(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return R(m(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(C,8)),k=_,L=0;L<M.length;L+=8){var z=Math.min(8,M.length-L),P=parseInt(M.substring(L,L+z),C);8>z?(z=d(Math.pow(C,z)),k=k.j(z).add(d(P))):(k=k.j(D),k=k.add(d(P)))}return k}var _=f(0),v=f(1),E=f(16777216);n=l.prototype,n.m=function(){if(x(this))return-R(this).m();for(var M=0,C=1,D=0;D<this.g.length;D++){var k=this.i(D);M+=(0<=k?k:4294967296+k)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(x(this))return"-"+R(this).toString(M);for(var C=d(Math.pow(M,6)),D=this,k="";;){var L=$(D,C).g;D=O(D,L.j(C));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=L,w(D))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function x(M){return M.h==-1}n.l=function(M){return M=O(this,M),x(M)?-1:w(M)?0:1};function R(M){for(var C=M.g.length,D=[],k=0;k<C;k++)D[k]=~M.g[k];return new l(D,~M.h).add(v)}n.abs=function(){return x(this)?R(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0,L=0;L<=C;L++){var z=k+(this.i(L)&65535)+(M.i(L)&65535),P=(z>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);k=P>>>16,z&=65535,P&=65535,D[L]=P<<16|z}return new l(D,D[D.length-1]&-2147483648?-1:0)};function O(M,C){return M.add(R(C))}n.j=function(M){if(w(this)||w(M))return _;if(x(this))return x(M)?R(this).j(R(M)):R(R(this).j(M));if(x(M))return R(this.j(R(M)));if(0>this.l(E)&&0>M.l(E))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,D=[],k=0;k<2*C;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<M.g.length;L++){var z=this.i(k)>>>16,P=this.i(k)&65535,$t=M.i(L)>>>16,Ct=M.i(L)&65535;D[2*k+2*L]+=P*Ct,N(D,2*k+2*L),D[2*k+2*L+1]+=z*Ct,N(D,2*k+2*L+1),D[2*k+2*L+1]+=P*$t,N(D,2*k+2*L+1),D[2*k+2*L+2]+=z*$t,N(D,2*k+2*L+2)}for(k=0;k<C;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=C;k<2*C;k++)D[k]=0;return new l(D,0)};function N(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function j(M,C){this.g=M,this.h=C}function $(M,C){if(w(C))throw Error("division by zero");if(w(M))return new j(_,_);if(x(M))return C=$(R(M),C),new j(R(C.g),R(C.h));if(x(C))return C=$(M,R(C)),new j(R(C.g),C.h);if(30<M.g.length){if(x(M)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var D=v,k=C;0>=k.l(M);)D=F(D),k=F(k);var L=tt(D,1),z=tt(k,1);for(k=tt(k,2),D=tt(D,2);!w(k);){var P=z.add(k);0>=P.l(M)&&(L=L.add(D),z=P),k=tt(k,1),D=tt(D,1)}return C=O(M,L.j(C)),new j(L,C)}for(L=_;0<=M.l(C);){for(D=Math.max(1,Math.floor(M.m()/C.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=d(D),P=z.j(C);x(P)||0<P.l(M);)D-=k,z=d(D),P=z.j(C);w(z)&&(z=v),L=L.add(z),M=O(M,P)}return new j(L,M)}n.A=function(M){return $(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0;k<C;k++)D[k]=this.i(k)&M.i(k);return new l(D,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0;k<C;k++)D[k]=this.i(k)|M.i(k);return new l(D,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],k=0;k<C;k++)D[k]=this.i(k)^M.i(k);return new l(D,this.h^M.h)};function F(M){for(var C=M.g.length+1,D=[],k=0;k<C;k++)D[k]=M.i(k)<<1|M.i(k-1)>>>31;return new l(D,M.h)}function tt(M,C){var D=C>>5;C%=32;for(var k=M.g.length-D,L=[],z=0;z<k;z++)L[z]=0<C?M.i(z+D)>>>C|M.i(z+D+1)<<32-C:M.i(z+D);return new l(L,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Hx=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Zr=l}).apply(typeof cT<"u"?cT:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qx,nu,Yx,id,hy,Gx,$x,Kx;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,b,T){return g==Array.prototype||g==Object.prototype||(g[b]=T.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var b=0;b<g.length;++b){var T=g[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function s(g,b){if(b)t:{var T=i;g=g.split(".");for(var I=0;I<g.length-1;I++){var q=g[I];if(!(q in T))break t;T=T[q]}g=g[g.length-1],I=T[g],b=b(I),b!=I&&b!=null&&t(T,g,{configurable:!0,writable:!0,value:b})}}function o(g,b){g instanceof String&&(g+="");var T=0,I=!1,q={next:function(){if(!I&&T<g.length){var Z=T++;return{value:b(Z,g[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(g){return g||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var b=typeof g;return b=b!="object"?b:g?Array.isArray(g)?"array":b:"null",b=="array"||b=="object"&&typeof g.length=="number"}function d(g){var b=typeof g;return b=="object"&&g!=null||b=="function"}function m(g,b,T){return g.call.apply(g.bind,arguments)}function _(g,b,T){if(!g)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),g.apply(b,q)}}return function(){return g.apply(b,arguments)}}function v(g,b,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,v.apply(null,arguments)}function E(g,b){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),g.apply(this,I)}}function w(g,b){function T(){}T.prototype=b.prototype,g.aa=b.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(I,q,Z){for(var ft=Array(arguments.length-2),re=2;re<arguments.length;re++)ft[re-2]=arguments[re];return b.prototype[q].apply(I,ft)}}function x(g){const b=g.length;if(0<b){const T=Array(b);for(let I=0;I<b;I++)T[I]=g[I];return T}return[]}function R(g,b){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(f(I)){const q=g.length||0,Z=I.length||0;g.length=q+Z;for(let ft=0;ft<Z;ft++)g[q+ft]=I[ft]}else g.push(I)}}class O{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(g){return/^[\s\xa0]*$/.test(g)}function j(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var F=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function tt(g,b,T){for(const I in g)b.call(T,g[I],I,g)}function M(g,b){for(const T in g)b.call(void 0,g[T],T,g)}function C(g){const b={};for(const T in g)b[T]=g[T];return b}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(g,b){let T,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(T in I)g[T]=I[T];for(let Z=0;Z<D.length;Z++)T=D[Z],Object.prototype.hasOwnProperty.call(I,T)&&(g[T]=I[T])}}function L(g){var b=1;g=g.split(":");const T=[];for(;0<b&&g.length;)T.push(g.shift()),b--;return g.length&&T.push(g.join(":")),T}function z(g){u.setTimeout(()=>{throw g},0)}function P(){var g=Et;let b=null;return g.g&&(b=g.g,g.g=g.g.next,g.g||(g.h=null),b.next=null),b}class $t{constructor(){this.h=this.g=null}add(b,T){const I=Ct.get();I.set(b,T),this.h?this.h.next=I:this.g=I,this.h=I}}var Ct=new O(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,pt=!1,Et=new $t,U=()=>{const g=u.Promise.resolve(void 0);lt=()=>{g.then(nt)}};var nt=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(T){z(T)}var b=Ct;b.j(g),100>b.h&&(b.h++,g.next=b.g,b.g=g)}pt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(g,b){this.type=g,this.g=this.target=b,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,b=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return g}();function Vt(g,b){if(ct.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,I=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=b,b=g.relatedTarget){if(F){t:{try{$(b.nodeName);var q=!0;break t}catch{}q=!1}q||(b=null)}}else T=="mouseover"?b=g.fromElement:T=="mouseout"&&(b=g.toElement);this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Rt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Vt.aa.h.call(this)}}w(Vt,ct);var Rt={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),he=0;function Xn(g,b,T,I,q){this.listener=g,this.proxy=null,this.src=b,this.type=T,this.capture=!!I,this.ha=q,this.key=++he,this.da=this.fa=!1}function Qn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function $e(g){this.src=g,this.g={},this.h=0}$e.prototype.add=function(g,b,T,I,q){var Z=g.toString();g=this.g[Z],g||(g=this.g[Z]=[],this.h++);var ft=Yt(g,b,I,q);return-1<ft?(b=g[ft],T||(b.fa=!1)):(b=new Xn(b,this.src,Z,!!I,q),b.fa=T,g.push(b)),b};function ps(g,b){var T=b.type;if(T in g.g){var I=g.g[T],q=Array.prototype.indexOf.call(I,b,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(I,q,1),Z&&(Qn(b),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Yt(g,b,T,I){for(var q=0;q<g.length;++q){var Z=g[q];if(!Z.da&&Z.listener==b&&Z.capture==!!T&&Z.ha==I)return q}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),ms={};function ur(g,b,T,I,q){if(Array.isArray(b)){for(var Z=0;Z<b.length;Z++)ur(g,b[Z],T,I,q);return null}return T=yo(T),g&&g[Ne]?g.K(b,T,d(I)?!!I.capture:!1,q):xn(g,b,T,!1,I,q)}function xn(g,b,T,I,q,Z){if(!b)throw Error("Invalid event type");var ft=d(q)?!!q.capture:!!q,re=fr(g);if(re||(g[Be]=re=new $e(g)),T=re.add(b,T,I,ft,Z),T.proxy)return T;if(I=mo(),T.proxy=I,I.src=g,I.listener=T,g.addEventListener)vt||(q=ft),q===void 0&&(q=!1),g.addEventListener(b.toString(),I,q);else if(g.attachEvent)g.attachEvent(ys(b.toString()),I);else if(g.addListener&&g.removeListener)g.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mo(){function g(T){return b.call(g.src,g.listener,T)}const b=Hl;return g}function hr(g,b,T,I,q){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)hr(g,b[Z],T,I,q);else I=d(I)?!!I.capture:!!I,T=yo(T),g&&g[Ne]?(g=g.i,b=String(b).toString(),b in g.g&&(Z=g.g[b],T=Yt(Z,T,I,q),-1<T&&(Qn(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete g.g[b],g.h--)))):g&&(g=fr(g))&&(b=g.g[b.toString()],g=-1,b&&(g=Yt(b,T,I,q)),(T=-1<g?b[g]:null)&&Le(T))}function Le(g){if(typeof g!="number"&&g&&!g.da){var b=g.src;if(b&&b[Ne])ps(b.i,g);else{var T=g.type,I=g.proxy;b.removeEventListener?b.removeEventListener(T,I,g.capture):b.detachEvent?b.detachEvent(ys(T),I):b.addListener&&b.removeListener&&b.removeListener(I),(T=fr(b))?(ps(T,g),T.h==0&&(T.src=null,b[Be]=null)):Qn(g)}}}function ys(g){return g in ms?ms[g]:ms[g]="on"+g}function Hl(g,b){if(g.da)g=!0;else{b=new Vt(b,this);var T=g.listener,I=g.ha||g.src;g.fa&&Le(g),g=T.call(I,b)}return g}function fr(g){return g=g[Be],g instanceof $e?g:null}var _s="__closure_events_fn_"+(1e9*Math.random()>>>0);function yo(g){return typeof g=="function"?g:(g[_s]||(g[_s]=function(b){return g.handleEvent(b)}),g[_s])}function Ce(){ut.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Ce,ut),Ce.prototype[Ne]=!0,Ce.prototype.removeEventListener=function(g,b,T,I){hr(this,g,b,T,I)};function fe(g,b){var T,I=g.F;if(I)for(T=[];I;I=I.F)T.push(I);if(g=g.M,I=b.type||b,typeof b=="string")b=new ct(b,g);else if(b instanceof ct)b.target=b.target||g;else{var q=b;b=new ct(I,g),k(b,q)}if(q=!0,T)for(var Z=T.length-1;0<=Z;Z--){var ft=b.g=T[Z];q=Ln(ft,I,!0,b)&&q}if(ft=b.g=g,q=Ln(ft,I,!0,b)&&q,q=Ln(ft,I,!1,b)&&q,T)for(Z=0;Z<T.length;Z++)ft=b.g=T[Z],q=Ln(ft,I,!1,b)&&q}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var g=this.i,b;for(b in g.g){for(var T=g.g[b],I=0;I<T.length;I++)Qn(T[I]);delete g.g[b],g.h--}}this.F=null},Ce.prototype.K=function(g,b,T,I){return this.i.add(String(g),b,!1,T,I)},Ce.prototype.L=function(g,b,T,I){return this.i.add(String(g),b,!0,T,I)};function Ln(g,b,T,I){if(b=g.i.g[String(b)],!b)return!0;b=b.concat();for(var q=!0,Z=0;Z<b.length;++Z){var ft=b[Z];if(ft&&!ft.da&&ft.capture==T){var re=ft.listener,en=ft.ha||ft.src;ft.fa&&ps(g.i,ft),q=re.call(en,I)!==!1&&q}}return q&&!I.defaultPrevented}function Je(g,b,T){if(typeof g=="function")T&&(g=v(g,T));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(g,b||0)}function _o(g){g.g=Je(()=>{g.g=null,g.i&&(g.i=!1,_o(g))},g.l);const b=g.h;g.h=null,g.m.apply(null,b)}class ql extends ut{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(g){ut.call(this),this.h=g,this.g={}}w(vs,ut);var bs=[];function Es(g){tt(g.g,function(b,T){this.g.hasOwnProperty(T)&&Le(b)},g),g.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Es(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=u.JSON.stringify,dr=u.JSON.parse,Ts=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function da(){}da.prototype.h=null;function Bi(g){return g.h||(g.h=g.i())}function ot(){}var ht={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gt(){ct.call(this,"d")}w(gt,ct);function wt(){ct.call(this,"c")}w(wt,ct);var Dt={},Tt=null;function yt(){return Tt=Tt||new Ce}Dt.La="serverreachability";function kt(g){ct.call(this,Dt.La,g)}w(kt,ct);function St(g){const b=yt();fe(b,new kt(b))}Dt.STAT_EVENT="statevent";function ie(g,b){ct.call(this,Dt.STAT_EVENT,g),this.stat=b}w(ie,ct);function Bt(g){const b=yt();fe(b,new ie(b,g))}Dt.Ma="timingevent";function Pt(g,b){ct.call(this,Dt.Ma,g),this.size=b}w(Pt,ct);function zt(g,b){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},b)}function jt(){this.g=!0}jt.prototype.xa=function(){this.g=!1};function se(g,b,T,I,q,Z){g.info(function(){if(g.g)if(Z)for(var ft="",re=Z.split("&"),en=0;en<re.length;en++){var ae=re[en].split("=");if(1<ae.length){var un=ae[0];ae=ae[1];var nn=un.split("_");ft=2<=nn.length&&nn[1]=="type"?ft+(un+"="+ae+"&"):ft+(un+"=redacted&")}}else ft=null;else ft=Z;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+b+`
`+T+`
`+ft})}function Fn(g,b,T,I,q,Z,ft){g.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+b+`
`+T+`
`+Z+" "+ft})}function tn(g,b,T,I){g.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ai(g,T)+(I?" "+I:"")})}function Fe(g,b){g.info(function(){return"TIMEOUT: "+b})}jt.prototype.info=function(){};function Ai(g,b){if(!g.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var I=T[g];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ft=1;ft<q.length;ft++)q[ft]=""}}}}return Zn(T)}catch{return b}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function ji(){}w(ji,da),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Fi=new ji;function Vn(g,b,T,I){this.j=g,this.i=b,this.l=T,this.R=I||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}var Yl={},vo={};function Ci(g,b,T){g.L=1,g.v=_a(Jn(b)),g.m=T,g.P=!0,Ss(g,null)}function Ss(g,b){g.F=Date.now(),ga(g),g.A=Jn(g.v);var T=g.A,I=g.R;Array.isArray(I)||(I=[String(I)]),Ql(T.i,"t",I),g.C=0,T=g.j.J,g.h=new je,g.g=Th(g.j,T?b:null,!g.m),0<g.O&&(g.M=new ql(v(g.Y,g,g.g),g.O)),b=g.U,T=g.g,I=g.ca;var q="readystatechange";Array.isArray(q)||(q&&(bs[0]=q.toString()),q=bs);for(var Z=0;Z<q.length;Z++){var ft=ur(T,q[Z],I||b.handleEvent,!1,b.h||b);if(!ft)break;b.g[ft.key]=ft}b=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,b)):(g.u="GET",g.g.ea(g.A,g.u,null,b)),St(),se(g.i,g.u,g.A,g.l,g.R,g.m)}Vn.prototype.ca=function(g){g=g.target;const b=this.M;b&&pi(g)==3?b.j():this.Y(g)},Vn.prototype.Y=function(g){try{if(g==this.g)t:{const nn=pi(this.g);var b=this.g.Ba();const Ms=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||gh(this.g)))){this.J||nn!=4||b==7||(b==8||0>=Ms?St(3):St(2)),gr(this);var T=this.g.Z();this.X=T;e:if(oh(this)){var I=gh(this.g);g="";var q=I.length,Z=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Hi(this);var ft="";break e}this.h.i=new u.TextDecoder}for(b=0;b<q;b++)this.h.h=!0,g+=this.h.i.decode(I[b],{stream:!(Z&&b==q-1)});I.length=0,this.h.g+=g,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=T==200,Fn(this.i,this.u,this.A,this.l,this.R,nn,T),this.o){if(this.T&&!this.K){e:{if(this.g){var re,en=this.g;if((re=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(re)){var ae=re;break e}}ae=null}if(T=ae)tn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,T);else{this.o=!1,this.s=3,Bt(12),mn(this),Hi(this);break t}}if(this.P){T=!0;let yn;for(;!this.J&&this.C<ft.length;)if(yn=lh(this,ft),yn==vo){nn==4&&(this.s=4,Bt(14),T=!1),tn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Yl){this.s=4,Bt(15),tn(this.i,this.l,ft,"[Invalid Chunk]"),T=!1;break}else tn(this.i,this.l,yn,null),pa(this,yn);if(oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ft.length!=0||this.h.h||(this.s=1,Bt(16),T=!1),this.o=this.o&&T,!T)tn(this.i,this.l,ft,"[Invalid Chunked Response]"),mn(this),Hi(this);else if(0<ft.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Aa(un),un.M=!0,Bt(11))}}else tn(this.i,this.l,ft,null),pa(this,ft);nn==4&&mn(this),this.o&&!this.J&&(nn==4?vh(this.j,this):(this.o=!1,ga(this)))}else Cg(this.g),T==400&&0<ft.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),mn(this),Hi(this)}}}catch{}finally{}};function oh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function lh(g,b){var T=g.C,I=b.indexOf(`
`,T);return I==-1?vo:(T=Number(b.substring(T,I)),isNaN(T)?Yl:(I+=1,I+T>b.length?vo:(b=b.slice(I,I+T),g.C=I+T,b)))}Vn.prototype.cancel=function(){this.J=!0,mn(this)};function ga(g){g.S=Date.now()+g.I,ch(g,g.I)}function ch(g,b){if(g.B!=null)throw Error("WatchDog timer not null");g.B=zt(v(g.ba,g),b)}function gr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Vn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Fe(this.i,this.A),this.L!=2&&(St(),Bt(17)),mn(this),this.s=2,Hi(this)):ch(this,this.S-g)};function Hi(g){g.j.G==0||g.J||vh(g.j,g)}function mn(g){gr(g);var b=g.M;b&&typeof b.ma=="function"&&b.ma(),g.M=null,Es(g.U),g.g&&(b=g.g,g.g=null,b.abort(),b.ma())}function pa(g,b){try{var T=g.j;if(T.G!=0&&(T.g==g||Gl(T.h,g))){if(!g.K&&Gl(T.h,g)&&T.G==3){try{var I=T.Da.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)Mo(T),Io(T);else break t;nc(T),Bt(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=zt(v(T.Za,T),6e3));if(1>=Eo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ds(T,11)}else if((g.K||T.g==g)&&Mo(T),!N(b))for(q=T.Da.g.parse(b),b=0;b<q.length;b++){let ae=q[b];if(T.T=ae[0],ae=ae[1],T.G==2)if(ae[0]=="c"){T.K=ae[1],T.ia=ae[2];const un=ae[3];un!=null&&(T.la=un,T.j.info("VER="+T.la));const nn=ae[4];nn!=null&&(T.Aa=nn,T.j.info("SVER="+T.Aa));const Ms=ae[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(I=1.5*Ms,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const yn=g.g;if(yn){const Xi=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var Z=I.h;Z.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(To(Z,Z.h),Z.h=null))}if(I.D){const sc=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(I.ya=sc,ve(I.I,I.D,sc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var ft=g;if(I.qa=Eh(I,I.J?I.ia:null,I.W),ft.K){Un(I.h,ft);var re=ft,en=I.L;en&&(re.I=en),re.B&&(gr(re),ga(re)),I.g=ft}else yh(I);0<T.i.length&&Do(T)}else ae[0]!="stop"&&ae[0]!="close"||Ds(T,7);else T.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Ds(T,7):tc(T):ae[0]!="noop"&&T.l&&T.l.ta(ae),T.v=0)}}St(4)}catch{}}var uh=class{constructor(g,b){this.g=g,this.map=b}};function ws(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Eo(g){return g.h?1:g.g?g.g.size:0}function Gl(g,b){return g.h?g.h==b:g.g?g.g.has(b):!1}function To(g,b){g.g?g.g.add(b):g.h=b}function Un(g,b){g.h&&g.h==b?g.h=null:g.g&&g.g.has(b)&&g.g.delete(b)}ws.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function $l(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let b=g.i;for(const T of g.g.values())b=b.concat(T.D);return b}return x(g.i)}function wg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var b=[],T=g.length,I=0;I<T;I++)b.push(g[I]);return b}b=[],T=0;for(I in g)b[T++]=g[I];return b}function So(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var b=[];g=g.length;for(var T=0;T<g;T++)b.push(T);return b}b=[],T=0;for(const I in g)b[T++]=I;return b}}}function Kl(g,b){if(g.forEach&&typeof g.forEach=="function")g.forEach(b,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,b,void 0);else for(var T=So(g),I=wg(g),q=I.length,Z=0;Z<q;Z++)b.call(void 0,I[Z],T&&T[Z],g)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xg(g,b){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var I=g[T].indexOf("="),q=null;if(0<=I){var Z=g[T].substring(0,I);q=g[T].substring(I+1)}else Z=g[T];b(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ke(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ke){this.h=g.h,ya(this,g.j),this.o=g.o,this.g=g.g,pr(this,g.s),this.l=g.l;var b=g.i,T=new As;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),xs(this,T),this.m=g.m}else g&&(b=String(g).match(ma))?(this.h=!1,ya(this,b[1]||"",!0),this.o=fi(b[2]||""),this.g=fi(b[3]||"",!0),pr(this,b[4]),this.l=fi(b[5]||"",!0),xs(this,b[6]||"",!0),this.m=fi(b[7]||"")):(this.h=!1,this.i=new As(null,this.h))}Ke.prototype.toString=function(){var g=[],b=this.j;b&&g.push(va(b,Wl,!0),":");var T=this.g;return(T||b=="file")&&(g.push("//"),(b=this.o)&&g.push(va(b,Wl,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(va(T,T.charAt(0)=="/"?Ag:Xl,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",va(T,wo)),g.join("")};function Jn(g){return new Ke(g)}function ya(g,b,T){g.j=T?fi(b,!0):b,g.j&&(g.j=g.j.replace(/:$/,""))}function pr(g,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);g.s=b}else g.s=null}function xs(g,b,T){b instanceof As?(g.i=b,fh(g.i,g.h)):(T||(b=va(b,Rg)),g.i=new As(b,g.h))}function ve(g,b,T){g.i.set(b,T)}function _a(g){return ve(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function fi(g,b){return g?b?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function va(g,b,T){return typeof g=="string"?(g=encodeURI(g).replace(b,hh),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function hh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Wl=/[#\/\?@]/g,Xl=/[#\?:]/g,Ag=/[#\?]/g,Rg=/[#\?@]/g,wo=/#/g;function As(g,b){this.h=this.g=null,this.i=g||null,this.j=!!b}function di(g){g.g||(g.g=new Map,g.h=0,g.i&&xg(g.i,function(b,T){g.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=As.prototype,n.add=function(g,b){di(this),this.i=null,g=qi(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(b),this.h+=1,this};function Rs(g,b){di(g),b=qi(g,b),g.g.has(b)&&(g.i=null,g.h-=g.g.get(b).length,g.g.delete(b))}function Cs(g,b){return di(g),b=qi(g,b),g.g.has(b)}n.forEach=function(g,b){di(this),this.g.forEach(function(T,I){T.forEach(function(q){g.call(b,q,I,this)},this)},this)},n.na=function(){di(this);const g=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let I=0;I<b.length;I++){const q=g[I];for(let Z=0;Z<q.length;Z++)T.push(b[I])}return T},n.V=function(g){di(this);let b=[];if(typeof g=="string")Cs(this,g)&&(b=b.concat(this.g.get(qi(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)b=b.concat(g[T])}return b},n.set=function(g,b){return di(this),this.i=null,g=qi(this,g),Cs(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[b]),this.h+=1,this},n.get=function(g,b){return g?(g=this.V(g),0<g.length?String(g[0]):b):b};function Ql(g,b,T){Rs(g,b),0<T.length&&(g.i=null,g.g.set(qi(g,b),x(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var I=b[T];const Z=encodeURIComponent(String(I)),ft=this.V(I);for(I=0;I<ft.length;I++){var q=Z;ft[I]!==""&&(q+="="+encodeURIComponent(String(ft[I]))),g.push(q)}}return this.i=g.join("&")};function qi(g,b){return b=String(b),g.j&&(b=b.toLowerCase()),b}function fh(g,b){b&&!g.j&&(di(g),g.i=null,g.g.forEach(function(T,I){var q=I.toLowerCase();I!=q&&(Rs(this,I),Ql(this,q,T))},g)),g.j=b}function ba(g,b){const T=new jt;if(u.Image){const I=new Image;I.onload=E(gi,T,"TestLoadImage: loaded",!0,b,I),I.onerror=E(gi,T,"TestLoadImage: error",!1,b,I),I.onabort=E(gi,T,"TestLoadImage: abort",!1,b,I),I.ontimeout=E(gi,T,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=g}else b(!1)}function Ii(g,b){const T=new jt,I=new AbortController,q=setTimeout(()=>{I.abort(),gi(T,"TestPingServer: timeout",!1,b)},1e4);fetch(g,{signal:I.signal}).then(Z=>{clearTimeout(q),Z.ok?gi(T,"TestPingServer: ok",!0,b):gi(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),gi(T,"TestPingServer: error",!1,b)})}function gi(g,b,T,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(T)}catch{}}function Ea(){this.g=new Ts}function Yi(g,b,T){const I=T||"";try{Kl(g,function(q,Z){let ft=q;d(q)&&(ft=Zn(q)),b.push(I+Z+"="+encodeURIComponent(ft))})}catch(q){throw b.push(I+"type="+encodeURIComponent("_badmap")),q}}function mr(g){this.l=g.Ub||null,this.j=g.eb||!1}w(mr,da),mr.prototype.g=function(){return new Is(this.l,this.j)},mr.prototype.i=function(g){return function(){return g}}({});function Is(g,b){Ce.call(this),this.D=g,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Is,Ce),n=Is.prototype,n.open=function(g,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=b,this.readyState=1,$i(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(b.body=g),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zl(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zl(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var b=g.value?g.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!g.done}))&&(this.response=this.responseText+=b)}g.done?Gi(this):$i(this),this.readyState==3&&Zl(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Gi(this))},n.Qa=function(g){this.g&&(this.response=g,Gi(this))},n.ga=function(){this.g&&Gi(this)};function Gi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,$i(g)}n.setRequestHeader=function(g,b){this.u.append(g,b)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=b.next();return g.join(`\r
`)};function $i(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Jl(g){let b="";return tt(g,function(T,I){b+=I,b+=":",b+=T,b+=`\r
`}),b}function cn(g,b,T){t:{for(I in T){var I=!1;break t}I=!0}I||(T=Jl(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):ve(g,b,T))}function ge(g){Ce.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ge,Ce);var xo=/^https?$/i,Ta=["POST","PUT"];n=ge.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,b,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);b=b?b.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Bi(this.o):Bi(Fi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(g),!0),this.B=!1}catch(Z){dh(this,Z);return}if(g=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)T.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())T.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ta,b,void 0))||I||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ft]of T)this.g.setRequestHeader(Z,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(g),this.u=!1}catch(Z){dh(this,Z)}};function dh(g,b){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=b,g.m=5,Ao(g),Ki(g)}function Ao(g){g.A||(g.A=!0,fe(g,"complete"),fe(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,fe(this,"complete"),fe(this,"abort"),Ki(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},n.bb=function(){Ro(this)};function Ro(g){if(g.h&&typeof l<"u"&&(!g.v[1]||pi(g)!=4||g.Z()!=2)){if(g.u&&pi(g)==4)Je(g.Ea,0,g);else if(fe(g,"readystatechange"),pi(g)==4){g.h=!1;try{const ft=g.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var I;if(I=ft===0){var q=String(g.D).match(ma)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),I=!xo.test(q?q.toLowerCase():"")}T=I}if(T)fe(g,"complete"),fe(g,"success");else{g.m=6;try{var Z=2<pi(g)?g.g.statusText:""}catch{Z=""}g.l=Z+" ["+g.Z()+"]",Ao(g)}}finally{Ki(g)}}}}function Ki(g,b){if(g.g){Sa(g);const T=g.g,I=g.v[0]?()=>{}:null;g.g=null,g.v=null,b||fe(g,"ready");try{T.onreadystatechange=I}catch{}}}function Sa(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function pi(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var b=this.g.responseText;return g&&b.indexOf(g)==0&&(b=b.substring(g.length)),dr(b)}};function gh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Cg(g){const b={};g=(g.g&&2<=pi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<g.length;I++){if(N(g[I]))continue;var T=L(g[I]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=b[q]||[];b[q]=Z,Z.push(T)}M(b,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(g,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||b}function Co(g){this.Aa=0,this.i=[],this.j=new jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,g),this.cb=wa("retryDelaySeedMs",1e4,g),this.Wa=wa("forwardChannelMaxRetries",2,g),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(g&&g.concurrentRequestLimit),this.Da=new Ea,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Co.prototype,n.la=8,n.G=1,n.connect=function(g,b,T,I){Bt(0),this.W=g,this.H=b||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=Eh(this,null,this.W),Do(this)};function tc(g){if(ph(g),g.G==3){var b=g.U++,T=Jn(g.I);if(ve(T,"SID",g.K),ve(T,"RID",b),ve(T,"TYPE","terminate"),xa(g,T),b=new Vn(g,g.j,b),b.L=2,b.v=_a(Jn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.v,T=!0),T||(b.g=Th(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ga(b)}bh(g)}function Io(g){g.g&&(Aa(g),g.g.cancel(),g.g=null)}function ph(g){Io(g),g.u&&(u.clearTimeout(g.u),g.u=null),Mo(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Do(g){if(!bo(g.h)&&!g.s){g.s=!0;var b=g.Ga;lt||U(),pt||(lt(),pt=!0),Et.add(b,g),g.B=0}}function Ig(g,b){return Eo(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=b.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=zt(v(g.Ga,g,b),ic(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const q=new Vn(this,this.j,g);let Z=this.o;if(this.S&&(Z?(Z=C(Z),k(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(b+=I,4096<b){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=mh(this,q,b),T=Jn(this.I),ve(T,"RID",g),ve(T,"CVER",22),this.D&&ve(T,"X-HTTP-Session-Id",this.D),xa(this,T),Z&&(this.O?b="headers="+encodeURIComponent(String(Jl(Z)))+"&"+b:this.m&&cn(T,this.m,Z)),To(this.h,q),this.Ua&&ve(T,"TYPE","init"),this.P?(ve(T,"$req",b),ve(T,"SID","null"),q.T=!0,Ci(q,T,null)):Ci(q,T,b),this.G=2}}else this.G==3&&(g?ec(this,g):this.i.length==0||bo(this.h)||ec(this))};function ec(g,b){var T;b?T=b.l:T=g.U++;const I=Jn(g.I);ve(I,"SID",g.K),ve(I,"RID",T),ve(I,"AID",g.T),xa(g,I),g.m&&g.o&&cn(I,g.m,g.o),T=new Vn(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),b&&(g.i=b.D.concat(g.i)),b=mh(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),To(g.h,T),Ci(T,I,b)}function xa(g,b){g.H&&tt(g.H,function(T,I){ve(b,I,T)}),g.l&&Kl({},function(T,I){ve(b,I,T)})}function mh(g,b,T){T=Math.min(g.i.length,T);var I=g.l?v(g.l.Na,g.l,g):null;t:{var q=g.i;let Z=-1;for(;;){const ft=["count="+T];Z==-1?0<T?(Z=q[0].g,ft.push("ofs="+Z)):Z=0:ft.push("ofs="+Z);let re=!0;for(let en=0;en<T;en++){let ae=q[en].g;const un=q[en].map;if(ae-=Z,0>ae)Z=Math.max(0,q[en].g-100),re=!1;else try{Yi(un,ft,"req"+ae+"_")}catch{I&&I(un)}}if(re){I=ft.join("&");break t}}}return g=g.i.splice(0,T),b.D=g,I}function yh(g){if(!g.g&&!g.u){g.Y=1;var b=g.Fa;lt||U(),pt||(lt(),pt=!0),Et.add(b,g),g.v=0}}function nc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=zt(v(g.Fa,g),ic(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,_h(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=zt(v(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Io(this),_h(this))};function Aa(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function _h(g){g.g=new Vn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var b=Jn(g.qa);ve(b,"RID","rpc"),ve(b,"SID",g.K),ve(b,"AID",g.T),ve(b,"CI",g.F?"0":"1"),!g.F&&g.ja&&ve(b,"TO",g.ja),ve(b,"TYPE","xmlhttp"),xa(g,b),g.m&&g.o&&cn(b,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=_a(Jn(b)),T.m=null,T.P=!0,Ss(T,g)}n.Za=function(){this.C!=null&&(this.C=null,Io(this),nc(this),Bt(19))};function Mo(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function vh(g,b){var T=null;if(g.g==b){Mo(g),Aa(g),g.g=null;var I=2}else if(Gl(g.h,b))T=b.D,Un(g.h,b),I=1;else return;if(g.G!=0){if(b.o)if(I==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var q=g.B;I=yt(),fe(I,new Pt(I,T)),Do(g)}else yh(g);else if(q=b.s,q==3||q==0&&0<b.X||!(I==1&&Ig(g,b)||I==2&&nc(g)))switch(T&&0<T.length&&(b=g.h,b.i=b.i.concat(T)),q){case 1:Ds(g,5);break;case 4:Ds(g,10);break;case 3:Ds(g,6);break;default:Ds(g,2)}}}function ic(g,b){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*b}function Ds(g,b){if(g.j.info("Error code "+b),b==2){var T=v(g.fb,g),I=g.Xa;const q=!I;I=new Ke(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ya(I,"https"),_a(I),q?ba(I.toString(),T):Ii(I.toString(),T)}else Bt(2);g.G=0,g.l&&g.l.sa(b),bh(g),ph(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function bh(g){if(g.G=0,g.ka=[],g.l){const b=$l(g.h);(b.length!=0||g.i.length!=0)&&(R(g.ka,b),R(g.ka,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.ra()}}function Eh(g,b,T){var I=T instanceof Ke?Jn(T):new Ke(T);if(I.g!="")b&&(I.g=b+"."+I.g),pr(I,I.s);else{var q=u.location;I=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;var Z=new Ke(null);I&&ya(Z,I),b&&(Z.g=b),q&&pr(Z,q),T&&(Z.l=T),I=Z}return T=g.D,b=g.ya,T&&b&&ve(I,T,b),ve(I,"VER",g.la),xa(g,I),I}function Th(g,b,T){if(b&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=g.Ca&&!g.pa?new ge(new mr({eb:T})):new ge(g.pa),b.Ha(g.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sh(){}n=Sh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Oo(){}Oo.prototype.g=function(g,b){return new zn(g,b)};function zn(g,b){Ce.call(this),this.g=new Co(b),this.l=g,this.h=b&&b.messageUrlParams||null,g=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(g?g["X-WebChannel-Content-Type"]=b.messageContentType:g={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(g?g["X-WebChannel-Client-Profile"]=b.va:g={"X-WebChannel-Client-Profile":b.va}),this.g.S=g,(g=b&&b.Sb)&&!N(g)&&(this.g.m=g),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.D=b,g=this.h,g!==null&&b in g&&(g=this.h,b in g&&delete g[b])),this.j=new Wi(this)}w(zn,Ce),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){tc(this.g)},zn.prototype.o=function(g){var b=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Zn(g),g=T);b.i.push(new uh(b.Ya++,g)),b.G==3&&Do(b)},zn.prototype.N=function(){this.g.l=null,delete this.j,tc(this.g),delete this.g,zn.aa.N.call(this)};function wh(g){gt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var b=g.__sm__;if(b){t:{for(const T in b){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,b=b!==null&&g in b?b[g]:void 0),this.data=b}else this.data=g}w(wh,gt);function xh(){wt.call(this),this.status=1}w(xh,wt);function Wi(g){this.g=g}w(Wi,Sh),Wi.prototype.ua=function(){fe(this.g,"a")},Wi.prototype.ta=function(g){fe(this.g,new wh(g))},Wi.prototype.sa=function(g){fe(this.g,new xh)},Wi.prototype.ra=function(){fe(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,Kx=function(){return new Oo},$x=function(){return yt()},Gx=Dt,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,id=Ri,hi.COMPLETE="complete",Yx=hi,ot.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,nu=ot,ge.prototype.listenOnce=ge.prototype.L,ge.prototype.getLastError=ge.prototype.Ka,ge.prototype.getLastErrorCode=ge.prototype.Ba,ge.prototype.getStatus=ge.prototype.Z,ge.prototype.getResponseJson=ge.prototype.Oa,ge.prototype.getResponseText=ge.prototype.oa,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Ha,qx=ge}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const uT="@firebase/firestore",hT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Qy("@firebase/firestore");function hl(){return so.logLevel}function mt(n,...t){if(so.logLevel<=te.DEBUG){const e=t.map(c_);so.debug(`Firestore (${Ul}): ${n}`,...e)}}function ar(n,...t){if(so.logLevel<=te.ERROR){const e=t.map(c_);so.error(`Firestore (${Ul}): ${n}`,...e)}}function Sl(n,...t){if(so.logLevel<=te.WARN){const e=t.map(c_);so.warn(`Firestore (${Ul}): ${n}`,...e)}}function c_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Wx(n,i,e)}function Wx(n,t,e){let i=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ar(i),new Error(i)}function pe(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||Wx(t,s,i)}function qt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends cr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Dn.UNAUTHENTICATED))}shutdown(){}}class qk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Yk{constructor(t){this.t=t,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){pe(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},u=f=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pe(typeof i.accessToken=="string",31837,{l:i}),new Xx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pe(t===null||typeof t=="string",2055,{h:t}),new Dn(t)}}class Gk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $k{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Gk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kk{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){pe(this.o===void 0,3512);const i=o=>{o.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,mt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(pe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new fT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=Wk(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function Wt(n,t){return n<t?-1:n>t?1:0}function fy(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),s=t.codePointAt(e);if(i!==s){if(i<128&&s<128)return Wt(i,s);{const o=Qx(),l=Xk(o.encode(dT(n,e)),o.encode(dT(t,e)));return l!==0?l:Wt(i,s)}}e+=i>65535?2:1}return Wt(n.length,t.length)}function dT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function Xk(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Wt(n[e],t[e]);return Wt(n.length,t.length)}function wl(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=-62135596800,pT=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(t){return on.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*pT);return new on(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<gT)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pT}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-gT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new on(0,0))}static max(){return new Ft(new on(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__name__";class ss{constructor(t,e,i){e===void 0?e=0:e>t.length&&Lt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Lt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=ss.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Wt(t.length,e.length)}static compareSegments(t,e){const i=ss.isNumericId(t),s=ss.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?ss.extractNumericId(t).compare(ss.extractNumericId(e)):fy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class Ae extends ss{construct(t,e,i){return new Ae(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new _t(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new Ae(e)}static emptyPath(){return new Ae([])}}const Qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ss{construct(t,e,i){return new Sn(t,e,i)}static isValidIdentifier(t){return Qk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mT}static keyField(){return new Sn([mT])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new _t(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new _t(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _t(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new _t(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Sn(e)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.path=t}static fromPath(t){return new It(Ae.fromString(t))}static fromName(t){return new It(Ae.fromString(t).popFirst(5))}static empty(){return new It(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function Zk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ft.fromTimestamp(i===1e9?new on(e+1,0):new on(e,i));return new ea(s,It.empty(),t)}function Jk(n){return new ea(n.readTime,n.key,Ru)}class ea{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ea(Ft.min(),It.empty(),Ru)}static max(){return new ea(Ft.max(),It.empty(),Ru)}}function tP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(n.documentKey,t.documentKey),e!==0?e:Wt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==eP)throw n;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.reject(e)}static resolve(t){return new rt((e,i)=>{e(t)})}static reject(t){return new rt((e,i)=>{i(t)})}static waitFor(t){return new rt((e,i)=>{let s=0,o=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&e()},f=>i(f))}),l=!0,o===s&&e()})}static or(t){let e=rt.resolve(!1);for(const i of t)e=e.next(s=>s?rt.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new rt((i,s)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next(m=>{l[d]=m,++u,u===o&&i(l)},m=>s(m))}})}static doWhile(t,e){return new rt((i,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):i()};o()})}}function iP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}eg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-1;function ng(n){return n==null}function Rd(n){return n===0&&1/n==-1/0}function sP(n){return typeof n=="number"&&Number.isInteger(n)&&!Rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="";function rP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=yT(t)),t=aP(n.get(e),t);return yT(t)}function aP(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case Jx:e+="";break;default:e+=o}}return e}function yT(n){return n+Jx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function uo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function tA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t,e){this.comparator=t,this.root=e||En.EMPTY}insert(t,e){return new Pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,En.BLACK,null,null))}remove(t){return new Pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,En.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Df(this.root,t,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Df(this.root,t,this.comparator,!0)}}class Df{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class En{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new En(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return En.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Lt(27949);return t+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(t,e,i,s,o){return this}insert(t,e,i){return new En(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.comparator=t,this.data=new Pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vT(this.data.getIterator())}getIteratorFrom(t){return new vT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ln)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ln(this.comparator);return e.data=t,e}}class vT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.fields=t,t.sort(Sn.comparator)}static empty(){return new Pi([])}unionWith(t){let e=new ln(Sn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Pi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eA("Invalid base64 string: "+o):o}}(t);return new wn(e)}static fromUint8Array(t){const e=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new wn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(n){if(pe(!!n,39018),typeof n=="string"){let t=0;const e=oP.exec(n);if(pe(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ye(n.seconds),nanos:Ye(n.nanos)}}function Ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ia(n){return typeof n=="string"?wn.fromBase64String(n):wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="server_timestamp",iA="__type__",sA="__previous_value__",rA="__local_write_time__";function h_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[iA])===null||e===void 0?void 0:e.stringValue)===nA}function ig(n){const t=n.mapValue.fields[sA];return h_(t)?ig(t):t}function Cu(n){const t=na(n.mapValue.fields[rA].timestampValue);return new on(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,e,i,s,o,l,u,f,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Cd="(default)";class Iu{constructor(t,e){this.projectId=t,this.database=e||Cd}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Cd}isEqual(t){return t instanceof Iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="__type__",cP="__max__",Mf={mapValue:{}},oA="__vector__",Id="value";function sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?h_(n)?4:hP(n)?9007199254740991:uP(n)?10:11:Lt(28295,{value:n})}function ds(n,t){if(n===t)return!0;const e=sa(n);if(e!==sa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Cu(n).isEqual(Cu(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=na(s.timestampValue),u=na(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return ia(s.bytesValue).isEqual(ia(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return Ye(s.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ye(s.integerValue)===Ye(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Ye(s.doubleValue),u=Ye(o.doubleValue);return l===u?Rd(l)===Rd(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return wl(n.arrayValue.values||[],t.arrayValue.values||[],ds);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(_T(l)!==_T(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ds(l[f],u[f])))return!1;return!0}(n,t);default:return Lt(52216,{left:n})}}function Du(n,t){return(n.values||[]).find(e=>ds(e,t))!==void 0}function xl(n,t){if(n===t)return 0;const e=sa(n),i=sa(t);if(e!==i)return Wt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=Ye(o.integerValue||o.doubleValue),f=Ye(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return bT(n.timestampValue,t.timestampValue);case 4:return bT(Cu(n),Cu(t));case 5:return fy(n.stringValue,t.stringValue);case 6:return function(o,l){const u=ia(o),f=ia(l);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=Wt(u[d],f[d]);if(m!==0)return m}return Wt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=Wt(Ye(o.latitude),Ye(l.latitude));return u!==0?u:Wt(Ye(o.longitude),Ye(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return ET(n.arrayValue,t.arrayValue);case 10:return function(o,l){var u,f,d,m;const _=o.fields||{},v=l.fields||{},E=(u=_[Id])===null||u===void 0?void 0:u.arrayValue,w=(f=v[Id])===null||f===void 0?void 0:f.arrayValue,x=Wt(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0);return x!==0?x:ET(E,w)}(n.mapValue,t.mapValue);case 11:return function(o,l){if(o===Mf.mapValue&&l===Mf.mapValue)return 0;if(o===Mf.mapValue)return 1;if(l===Mf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let _=0;_<f.length&&_<m.length;++_){const v=fy(f[_],m[_]);if(v!==0)return v;const E=xl(u[f[_]],d[m[_]]);if(E!==0)return E}return Wt(f.length,m.length)}(n.mapValue,t.mapValue);default:throw Lt(23264,{Pe:e})}}function bT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Wt(n,t);const e=na(n),i=na(t),s=Wt(e.seconds,i.seconds);return s!==0?s:Wt(e.nanos,i.nanos)}function ET(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=xl(e[s],i[s]);if(o)return o}return Wt(e.length,i.length)}function Al(n){return dy(n)}function dy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=na(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ia(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return It.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=dy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${dy(e.fields[l])}`;return s+"}"}(n.mapValue):Lt(61005,{value:n})}function sd(n){switch(sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ig(n);return t?16+sd(t):16;case 5:return 2*n.stringValue.length;case 6:return ia(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+sd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return uo(i.fields,(o,l)=>{s+=o.length+sd(l)}),s}(n.mapValue);default:throw Lt(13486,{value:n})}}function TT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function f_(n){return!!n&&"arrayValue"in n}function ST(n){return!!n&&"nullValue"in n}function wT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rd(n){return!!n&&"mapValue"in n}function uP(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[aA])===null||e===void 0?void 0:e.stringValue)===oA}function gu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return uo(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=gu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function hP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!rd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gu(e)}setAll(t){let e=Sn.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=gu(l):s.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());rd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ds(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];rd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){uo(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new xi(gu(this.value))}}function lA(n){const t=[];return uo(n.fields,(e,i)=>{const s=new Sn([e]);if(rd(i)){const o=lA(i.mapValue).fields;if(o.length===0)t.push(s);else for(const l of o)t.push(s.child(l))}else t.push(s)}),new Pi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,e,i,s,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new On(t,0,Ft.min(),Ft.min(),Ft.min(),xi.empty(),0)}static newFoundDocument(t,e,i,s){return new On(t,1,e,Ft.min(),i,s,0)}static newNoDocument(t,e){return new On(t,2,e,Ft.min(),Ft.min(),xi.empty(),0)}static newUnknownDocument(t,e){return new On(t,3,e,Ft.min(),Ft.min(),xi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof On&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e){this.position=t,this.inclusive=e}}function xT(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],l=n.position[s];if(o.field.isKeyField()?i=It.comparator(It.fromName(l.referenceValue),e.key):i=xl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function AT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ds(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,e="asc"){this.field=t,this.dir=e}}function fP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{}class Ze extends cA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new gP(t,e,i):e==="array-contains"?new yP(t,i):e==="in"?new _P(t,i):e==="not-in"?new vP(t,i):e==="array-contains-any"?new bP(t,i):new Ze(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new pP(t,i):new mP(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(xl(e,this.value)):e!==null&&sa(this.value)===sa(e)&&this.matchesComparison(xl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends cA{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ui(t,e)}matches(t){return uA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uA(n){return n.op==="and"}function hA(n){return dP(n)&&uA(n)}function dP(n){for(const t of n.filters)if(t instanceof Ui)return!1;return!0}function py(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+Al(n.value);if(hA(n))return n.filters.map(t=>py(t)).join(",");{const t=n.filters.map(e=>py(e)).join(",");return`${n.op}(${t})`}}function fA(n,t){return n instanceof Ze?function(i,s){return s instanceof Ze&&i.op===s.op&&i.field.isEqual(s.field)&&ds(i.value,s.value)}(n,t):n instanceof Ui?function(i,s){return s instanceof Ui&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&fA(l,s.filters[u]),!0):!1}(n,t):void Lt(19439)}function dA(n){return n instanceof Ze?function(e){return`${e.field.canonicalString()} ${e.op} ${Al(e.value)}`}(n):n instanceof Ui?function(e){return e.op.toString()+" {"+e.getFilters().map(dA).join(" ,")+"}"}(n):"Filter"}class gP extends Ze{constructor(t,e,i){super(t,e,i),this.key=It.fromName(i.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class pP extends Ze{constructor(t,e){super(t,"in",e),this.keys=gA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class mP extends Ze{constructor(t,e){super(t,"not-in",e),this.keys=gA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function gA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>It.fromName(i.referenceValue))}class yP extends Ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return f_(e)&&Du(e.arrayValue,this.value)}}class _P extends Ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Du(this.value.arrayValue,e)}}class vP extends Ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Du(this.value.arrayValue,e)}}class bP extends Ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!f_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Du(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,e=null,i=[],s=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function RT(n,t=null,e=[],i=[],s=null,o=null,l=null){return new EP(n,t,e,i,s,o,l)}function d_(n){const t=qt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>py(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ng(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Al(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Al(i)).join(",")),t.Ie=e}return t.Ie}function g_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!fP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!fA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!AT(n.startAt,t.startAt)&&AT(n.endAt,t.endAt)}function my(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e=null,i=[],s=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TP(n,t,e,i,s,o,l,u){return new Qu(n,t,e,i,s,o,l,u)}function p_(n){return new Qu(n)}function CT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pA(n){return n.collectionGroup!==null}function pu(n){const t=qt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ln(Sn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new Md(o,i))}),e.has(Sn.keyField().canonicalString())||t.Ee.push(new Md(Sn.keyField(),i))}return t.Ee}function os(n){const t=qt(n);return t.de||(t.de=SP(t,pu(n))),t.de}function SP(n,t){if(n.limitType==="F")return RT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Md(s.field,o)});const e=n.endAt?new Dd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dd(n.startAt.position,n.startAt.inclusive):null;return RT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function yy(n,t){const e=n.filters.concat([t]);return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function _y(n,t,e){return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sg(n,t){return g_(os(n),os(t))&&n.limitType===t.limitType}function mA(n){return`${d_(os(n))}|lt:${n.limitType}`}function fl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>dA(s)).join(", ")}]`),ng(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Al(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Al(s)).join(",")),`Target(${i})`}(os(n))}; limitType=${n.limitType})`}function rg(n,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):It.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,s){for(const o of pu(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,f){const d=xT(l,u,f);return l.inclusive?d<=0:d<0}(i.startAt,pu(i),s)||i.endAt&&!function(l,u,f){const d=xT(l,u,f);return l.inclusive?d>=0:d>0}(i.endAt,pu(i),s))}(n,t)}function wP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yA(n){return(t,e)=>{let i=!1;for(const s of pu(n)){const o=xP(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function xP(n,t,e){const i=n.field.isKeyField()?It.comparator(t.key,e.key):function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?xl(f,d):Lt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Lt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){uo(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Pe(It.comparator);function or(){return AP}const _A=new Pe(It.comparator);function iu(...n){let t=_A;for(const e of n)t=t.insert(e.key,e);return t}function vA(n){let t=_A;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Xa(){return mu()}function bA(){return mu()}function mu(){return new ho(n=>n.toString(),(n,t)=>n.isEqual(t))}const RP=new Pe(It.comparator),CP=new ln(It.comparator);function ee(...n){let t=CP;for(const e of n)t=t.add(e);return t}const IP=new ln(Wt);function DP(){return IP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(t)?"-0":t}}function EA(n){return{integerValue:""+n}}function MP(n,t){return sP(t)?EA(t):m_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this._=void 0}}function OP(n,t,e){return n instanceof Od?function(s,o){const l={fields:{[iA]:{stringValue:nA},[rA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&h_(o)&&(o=ig(o)),o&&(l.fields[sA]=o),{mapValue:l}}(e,t):n instanceof Mu?SA(n,t):n instanceof Ou?wA(n,t):function(s,o){const l=TA(s,o),u=IT(l)+IT(s.Re);return gy(l)&&gy(s.Re)?EA(u):m_(s.serializer,u)}(n,t)}function kP(n,t,e){return n instanceof Mu?SA(n,t):n instanceof Ou?wA(n,t):e}function TA(n,t){return n instanceof kd?function(i){return gy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Od extends ag{}class Mu extends ag{constructor(t){super(),this.elements=t}}function SA(n,t){const e=xA(t);for(const i of n.elements)e.some(s=>ds(s,i))||e.push(i);return{arrayValue:{values:e}}}class Ou extends ag{constructor(t){super(),this.elements=t}}function wA(n,t){let e=xA(t);for(const i of n.elements)e=e.filter(s=>!ds(s,i));return{arrayValue:{values:e}}}class kd extends ag{constructor(t,e){super(),this.serializer=t,this.Re=e}}function IT(n){return Ye(n.integerValue||n.doubleValue)}function xA(n){return f_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function PP(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof Mu&&s instanceof Mu||i instanceof Ou&&s instanceof Ou?wl(i.elements,s.elements,ds):i instanceof kd&&s instanceof kd?ds(i.Re,s.Re):i instanceof Od&&s instanceof Od}(n.transform,t.transform)}class NP{constructor(t,e){this.version=t,this.transformResults=e}}class ls{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ad(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class og{}function AA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new CA(n.key,ls.none()):new Zu(n.key,n.data,ls.none());{const e=n.data,i=xi.empty();let s=new ln(Sn.comparator);for(let o of t.fields)if(!s.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new fo(n.key,i,new Pi(s.toArray()),ls.none())}}function LP(n,t,e){n instanceof Zu?function(s,o,l){const u=s.value.clone(),f=MT(s.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof fo?function(s,o,l){if(!ad(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=MT(s.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(RA(s)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,t,e):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function yu(n,t,e,i){return n instanceof Zu?function(o,l,u,f){if(!ad(o.precondition,l))return u;const d=o.value.clone(),m=OT(o.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof fo?function(o,l,u,f){if(!ad(o.precondition,l))return u;const d=OT(o.fieldTransforms,f,l),m=l.data;return m.setAll(RA(o)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,t,e,i):function(o,l,u){return ad(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function VP(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=TA(i.transform,s||null);o!=null&&(e===null&&(e=xi.empty()),e.set(i.field,o))}return e||null}function DT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&wl(i,s,(o,l)=>PP(o,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Zu extends og{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fo extends og{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RA(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function MT(n,t,e){const i=new Map;pe(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let s=0;s<e.length;s++){const o=n[s],l=o.transform,u=t.data.field(o.field);i.set(o.field,kP(l,u,e[s]))}return i}function OT(n,t,e){const i=new Map;for(const s of n){const o=s.transform,l=e.data.field(s.field);i.set(s.field,OP(o,l,t))}return i}class CA extends og{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UP extends og{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&LP(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=yu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=yu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=bA();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(s.key)?null:u;const f=AA(l,u);f!==null&&i.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ft.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ee())}isEqual(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,(e,i)=>DT(e,i))&&wl(this.baseMutations,t.baseMutations,(e,i)=>DT(e,i))}}class y_{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){pe(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return RP}();const o=t.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new y_(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,le;function jP(n){switch(n){case at.OK:return Lt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Lt(15467,{code:n})}}function IA(n){if(n===void 0)return ar("GRPC error has no .code"),at.UNKNOWN;switch(n){case Qe.OK:return at.OK;case Qe.CANCELLED:return at.CANCELLED;case Qe.UNKNOWN:return at.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return at.INTERNAL;case Qe.UNAVAILABLE:return at.UNAVAILABLE;case Qe.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Qe.NOT_FOUND:return at.NOT_FOUND;case Qe.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Qe.ABORTED:return at.ABORTED;case Qe.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Qe.DATA_LOSS:return at.DATA_LOSS;default:return Lt(39323,{code:n})}}(le=Qe||(Qe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Zr([4294967295,4294967295],0);function kT(n){const t=Qx().encode(n),e=new Hx;return e.update(t),new Uint8Array(e.digest())}function PT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Zr([e,i],0),new Zr([s,o],0)]}class __{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new su(`Invalid padding: ${e}`);if(i<0)throw new su(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new su(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Zr.fromNumber(this.pe)}we(t,e,i){let s=t.add(e.multiply(Zr.fromNumber(i)));return s.compare(HP)===1&&(s=new Zr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=kT(t),[i,s]=PT(e);for(let o=0;o<this.hashCount;o++){const l=this.we(i,s,o);if(!this.be(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new __(o,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.pe===0)return;const e=kT(t),[i,s]=PT(e);for(let o=0;o<this.hashCount;o++){const l=this.we(i,s,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Ju.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new lg(Ft.min(),s,new Pe(Wt),or(),ee())}}class Ju{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ju(i,e,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e,i,s){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=s}}class DA{constructor(t,e){this.targetId=t,this.Ce=e}}class MA{constructor(t,e,i=wn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class NT{constructor(){this.Fe=0,this.Me=LT(),this.xe=wn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ee(),e=ee(),i=ee();return this.Me.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Lt(38017,{changeType:o})}}),new Ju(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=LT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,pe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qP{constructor(t){this.ze=t,this.je=new Map,this.He=or(),this.Je=Of(),this.Ye=Of(),this.Ze=new Pe(Wt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Lt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,i=t.Ce.count,s=this._t(e);if(s){const o=s.target;if(my(o))if(i===0){const l=new It(o.path);this.tt(e,l,On.newNoDocument(l,Ft.min()))}else pe(i===1,20013,{expectedCount:i});else{const l=this.ut(e);if(l!==i){const u=this.ct(t),f=u?this.lt(u,t,l):1;if(f!==0){this.st(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let l,u;try{l=ia(i).toUint8Array()}catch(f){if(f instanceof eA)return Sl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new __(l,s,o)}catch(f){return Sl(f instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.pe===0?null:u}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let s=0;return i.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.tt(e,o,null),s++)}),s}It(t){const e=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&my(u.target)){const f=new It(u.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,On.newNoDocument(f,t))}o.Le&&(e.set(l,o.qe()),o.Qe())}});let i=ee();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.He.forEach((o,l)=>l.setReadTime(t));const s=new lg(t,e,this.Ze,this.He,i);return this.He=or(),this.Je=Of(),this.Ye=Of(),this.Ze=new Pe(Wt),s}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new NT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new ln(Wt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new ln(Wt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new NT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Of(){return new Pe(It.comparator)}function LT(){return new Pe(It.comparator)}const YP={asc:"ASCENDING",desc:"DESCENDING"},GP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$P={and:"AND",or:"OR"};class KP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function vy(n,t){return n.useProto3Json||ng(t)?t:{value:t}}function Pd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function WP(n,t){return Pd(n,t.toTimestamp())}function cs(n){return pe(!!n,49232),Ft.fromTimestamp(function(e){const i=na(e);return new on(i.seconds,i.nanos)}(n))}function v_(n,t){return by(n,t).canonicalString()}function by(n,t){const e=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function kA(n){const t=Ae.fromString(n);return pe(UA(t),10190,{key:t.toString()}),t}function Ey(n,t){return v_(n.databaseId,t.path)}function Nm(n,t){const e=kA(t);if(e.get(1)!==n.databaseId.projectId)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(NA(e))}function PA(n,t){return v_(n.databaseId,t)}function XP(n){const t=kA(n);return t.length===4?Ae.emptyPath():NA(t)}function Ty(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NA(n){return pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function VT(n,t,e){return{name:Ey(n,t),fields:e.value.mapValue.fields}}function QP(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Lt(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(pe(m===void 0||typeof m=="string",58123),wn.fromBase64String(m||"")):(pe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),wn.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(d){const m=d.code===void 0?at.UNKNOWN:IA(d.code);return new _t(m,d.message||"")}(l);e=new MA(i,s,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Nm(n,i.document.name),o=cs(i.document.updateTime),l=i.document.createTime?cs(i.document.createTime):Ft.min(),u=new xi({mapValue:{fields:i.document.fields}}),f=On.newFoundDocument(s,o,l,u),d=i.targetIds||[],m=i.removedTargetIds||[];e=new od(d,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Nm(n,i.document),o=i.readTime?cs(i.readTime):Ft.min(),l=On.newNoDocument(s,o),u=i.removedTargetIds||[];e=new od([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Nm(n,i.document),o=i.removedTargetIds||[];e=new od([],o,s,null)}else{if(!("filter"in t))return Lt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new FP(s,o),u=i.targetId;e=new DA(u,l)}}return e}function ZP(n,t){let e;if(t instanceof Zu)e={update:VT(n,t.key,t.value)};else if(t instanceof CA)e={delete:Ey(n,t.key)};else if(t instanceof fo)e={update:VT(n,t.key,t.data),updateMask:oN(t.fieldMask)};else{if(!(t instanceof UP))return Lt(16599,{ft:t.type});e={verify:Ey(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof Od)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Lt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:WP(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Lt(27497)}(n,t.precondition)),e}function JP(n,t){return n&&n.length>0?(pe(t!==void 0,14353),n.map(e=>function(s,o){let l=s.updateTime?cs(s.updateTime):cs(o);return l.isEqual(Ft.min())&&(l=cs(o)),new NP(l,s.transformResults||[])}(e,t))):[]}function tN(n,t){return{documents:[PA(n,t.path)]}}function eN(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=PA(n,s);const o=function(d){if(d.length!==0)return VA(Ui.create(d,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:dl(v.field),direction:sN(v.dir)}}(m))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=vy(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{gt:e,parent:s}}function nN(n){let t=XP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){pe(i===1,65062);const m=e.from[0];m.allDescendants?s=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=function(_){const v=LA(_);return v instanceof Ui&&hA(v)?v.getFilters():[v]}(e.where));let l=[];e.orderBy&&(l=function(_){return _.map(v=>function(w){return new Md(gl(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(e.orderBy));let u=null;e.limit&&(u=function(_){let v;return v=typeof _=="object"?_.value:_,ng(v)?null:v}(e.limit));let f=null;e.startAt&&(f=function(_){const v=!!_.before,E=_.values||[];return new Dd(E,v)}(e.startAt));let d=null;return e.endAt&&(d=function(_){const v=!_.before,E=_.values||[];return new Dd(E,v)}(e.endAt)),TP(t,s,l,o,u,"F",f,d)}function iN(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function LA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=gl(e.unaryFilter.field);return Ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=gl(e.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gl(e.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gl(e.unaryFilter.field);return Ze.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ze.create(gl(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ui.create(e.compositeFilter.filters.map(i=>LA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}}(e.compositeFilter.op))}(n):Lt(30097,{filter:n})}function sN(n){return YP[n]}function rN(n){return GP[n]}function aN(n){return $P[n]}function dl(n){return{fieldPath:n.canonicalString()}}function gl(n){return Sn.fromServerFormat(n.fieldPath)}function VA(n){return n instanceof Ze?function(e){if(e.op==="=="){if(wT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NAN"}};if(ST(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NAN"}};if(ST(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(e.field),op:rN(e.op),value:e.value}}}(n):n instanceof Ui?function(e){const i=e.getFilters().map(s=>VA(s));return i.length===1?i[0]:{compositeFilter:{op:aN(e.op),filters:i}}}(n):Lt(54877,{filter:n})}function oN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function UA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,e,i,s,o=Ft.min(),l=Ft.min(),u=wn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.wt=t}}function cN(n){const t=nN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_y(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.Cn=new hN}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(ea.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(ea.min())}updateCollectionGroup(t,e,i){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class hN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new ln(Ae.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ln(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class $n{static withCacheSize(t){return new $n(t,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(zA,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Rl(0)}static lr(){return new Rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="LruGarbageCollector",fN=1048576;function BT([n,t],[e,i]){const s=Wt(n,e);return s===0?Wt(t,i):s}class dN{constructor(t){this.Er=t,this.buffer=new ln(BT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();BT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class gN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){mt(zT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Bl(e)?mt(zT,"Ignoring IndexedDB error during garbage collection: ",e):await zl(e)}await this.mr(3e5)})}}class pN{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(eg.le);const i=new dN(e);return this.gr.forEachTarget(t,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(UT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,s,o,l,u,f,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(t,s))).next(_=>(i=_,u=Date.now(),this.removeTargets(t,i,e))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(d=Date.now(),hl()<=te.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function mN(n,t){return new pN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changes=new ho(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,On.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?rt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&yu(i.mutation,s,Pi.empty(),on.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ee()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ee()){const s=Xa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let l=iu();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Xa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ee()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let o=or();const l=mu(),u=function(){return mu()}();return e.forEach((f,d)=>{const m=i.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof fo)?o=o.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),yu(m.mutation,d,m.mutation.getFieldMask(),on.now())):l.set(d.key,Pi.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,m)=>l.set(d,m)),e.forEach((d,m)=>{var _;return u.set(d,new _N(m,(_=l.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(t,e){const i=mu();let s=new Pe((l,u)=>l-u),o=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(f=>{const d=e.get(f);if(d===null)return;let m=i.get(f)||Pi.empty();m=u.applyToLocalView(d,m),i.set(f,m);const _=(s.get(u.batchId)||ee()).add(f);s=s.insert(u.batchId,_)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,_=bA();m.forEach(v=>{if(!o.has(v)){const E=AA(e.get(v),i.get(v));E!==null&&_.set(v,E),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return rt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return It.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):pA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):rt.resolve(Xa());let u=Ru,f=o;return l.next(d=>rt.forEach(d,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?rt.resolve():this.remoteDocumentCache.getEntry(t,m).next(v=>{f=f.insert(m,v)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,ee())).next(m=>({batchId:u,changes:vA(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next(i=>{let s=iu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let l=iu();return this.indexManager.getCollectionParents(t,o).next(u=>rt.forEach(u,f=>{const d=function(_,v){return new Qu(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(m=>{m.forEach((_,v)=>{l=l.insert(_,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s))).next(l=>{o.forEach((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,On.newInvalidDocument(m)))});let u=iu();return l.forEach((f,d)=>{const m=o.get(f);m!==void 0&&yu(m.mutation,d,Pi.empty(),on.now()),rg(e,d)&&(u=u.insert(f,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return rt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:cs(s.createTime)}}(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:cN(s.bundledQuery),readTime:cs(s.readTime)}}(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.overlays=new Pe(It.comparator),this.Qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Xa();return rt.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.St(t,e,o)}),rt.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),rt.resolve()}getOverlaysForCollection(t,e,i){const s=Xa(),o=e.length+1,l=new It(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return rt.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new Pe((d,m)=>d-m);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=Xa(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Xa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=s)););return rt.resolve(u)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new BP(e,i));let o=this.Qr.get(e);o===void 0&&(o=ee(),this.Qr.set(e,o)),this.Qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.$r=new ln(gn.Ur),this.Kr=new ln(gn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new gn(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new gn(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new It(new Ae([])),i=new gn(e,t),s=new gn(e,t+1),o=[];return this.Kr.forEachInRange([i,s],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new It(new Ae([])),i=new gn(e,t),s=new gn(e,t+1);let o=ee();return this.Kr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new gn(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class gn{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return It.comparator(t.key,e.key)||Wt(t.Zr,e.Zr)}static Wr(t,e){return Wt(t.Zr,e.Zr)||It.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new ln(gn.Ur)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new zP(o,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Xr=this.Xr.add(new gn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return rt.resolve(l)}lookupMutationBatch(t,e){return rt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ti(i),o=s<0?0:s;return rt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?u_:this.nr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new gn(e,0),s=new gn(e,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,s],l=>{const u=this.ei(l.Zr);o.push(u)}),rt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ln(Wt);return e.forEach(s=>{const o=new gn(s,0),l=new gn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{i=i.add(u.Zr)})}),rt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;It.isDocumentKey(o)||(o=o.child(""));const l=new gn(new It(o),0);let u=new ln(Wt);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(u=u.add(f.Zr)),!0)},l),rt.resolve(this.ni(u))}ni(t){const e=[];return t.forEach(i=>{const s=this.ei(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){pe(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return rt.forEach(e.mutations,s=>{const o=new gn(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new gn(e,0),s=this.Xr.firstAfterOrEqual(i);return rt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.ii=t,this.docs=function(){return new Pe(It.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,l=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return rt.resolve(i?i.document.mutableCopy():On.newInvalidDocument(e))}getEntries(t,e){let i=or();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():On.newInvalidDocument(s))}),rt.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=or();const l=e.path,u=new It(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||tP(Jk(m),i)<=0||(s.has(m.key)||rg(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return rt.resolve(o)}getAllFromCollectionGroup(t,e,i,s){Lt(9500)}si(t,e){return rt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new xN(this)}getSize(t){return rt.resolve(this.size)}}class xN extends yN{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(i)}),rt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.persistence=t,this.oi=new ho(e=>d_(e),g_),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this._i=0,this.ai=new b_,this.targetCount=0,this.ui=Rl.cr()}forEachTarget(t,e){return this.oi.forEach((i,s)=>e(s)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),rt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Rl(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Tr(e),rt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),rt.waitFor(o).next(()=>s)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return rt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),rt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),rt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return rt.resolve(i)}containsKey(t,e){return rt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,e){this.ci={},this.overlays={},this.li=new eg(0),this.hi=!1,this.hi=!0,this.Pi=new TN,this.referenceDelegate=t(this),this.Ti=new AN(this),this.indexManager=new uN,this.remoteDocumentCache=function(s){return new wN(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new lN(e),this.Ei=new bN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new EN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new SN(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){mt("MemoryPersistence","Starting transaction:",t);const s=new RN(this.li.next());return this.referenceDelegate.di(),i(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(t,e){return rt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class RN extends nP{constructor(t){super(),this.currentSequenceNumber=t}}class E_{constructor(t){this.persistence=t,this.Vi=new b_,this.mi=null}static fi(t){return new E_(t)}get gi(){if(this.mi)return this.mi;throw Lt(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),rt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.gi,i=>{const s=It.fromPath(i);return this.pi(t,s).next(o=>{o||e.removeEntry(s,Ft.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return rt.or([()=>rt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Nd{constructor(t,e){this.persistence=t,this.yi=new ho(i=>rP(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=mN(this,e)}static fi(t,e){return new Nd(t,e)}di(){}Ai(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return rt.forEach(this.yi,(i,s)=>this.Dr(t,i,s).next(o=>o?rt.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(t,l=>this.Dr(t,l,e).next(u=>{u||(i++,o.removeEntry(l,Ft.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),rt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sd(t.data.value)),e}Dr(t,e,i){return rt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return rt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.ds=i,this.As=s}static Rs(t,e){let i=ee(),s=ee();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new T_(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return uD()?8:iP(Pn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.ws(t,e).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(t,e,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new CN;return this.Ss(t,e,l).next(u=>{if(o.result=u,this.fs)return this.Ds(t,e,l,u.size)})}).next(()=>o.result)}Ds(t,e,i,s){return i.documentReadCount<this.gs?(hl()<=te.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",fl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),rt.resolve()):(hl()<=te.DEBUG&&mt("QueryEngine","Query:",fl(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(hl()<=te.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",fl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,os(e))):rt.resolve())}ws(t,e){if(CT(e))return rt.resolve(null);let i=os(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=_y(e,null,"F"),i=os(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=ee(...o);return this.ys.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.vs(e,u);return this.Cs(e,d,l,f.readTime)?this.ws(t,_y(e,null,"F")):this.Fs(t,d,e,f)}))})))}bs(t,e,i,s){return CT(e)||s.isEqual(Ft.min())?rt.resolve(null):this.ys.getDocuments(t,i).next(o=>{const l=this.vs(e,o);return this.Cs(e,l,i,s)?rt.resolve(null):(hl()<=te.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fl(e)),this.Fs(t,l,e,Zk(s,Ru)).next(u=>u))})}vs(t,e){let i=new ln(yA(t));return e.forEach((s,o)=>{rg(t,o)&&(i=i.add(o))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,i){return hl()<=te.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",fl(e)),this.ys.getDocumentsMatchingQuery(t,e,ea.min(),i)}Fs(t,e,i,s){return this.ys.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LocalStore",DN=3e8;class MN{constructor(t,e,i,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new Pe(Wt),this.Os=new ho(o=>d_(o),g_),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function ON(n,t,e,i){return new MN(n,t,e,i)}async function FA(n,t){const e=qt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let f=ee();for(const d of s){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return e.localDocuments.getDocuments(i,f).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:u}))})})}function kN(n,t){const e=qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Bs.newChangeBuffer({trackRemovals:!0});return function(u,f,d,m){const _=d.batch,v=_.keys();let E=rt.resolve();return v.forEach(w=>{E=E.next(()=>m.getEntry(f,w)).next(x=>{const R=d.docVersions.get(w);pe(R!==null,48541),x.version.compareTo(R)<0&&(_.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),m.addEntry(x)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(f,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=ee();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function jA(n){const t=qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function PN(n,t){const e=qt(n),i=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const u=[];t.targetChanges.forEach((m,_)=>{const v=s.get(_);if(!v)return;u.push(e.Ti.removeMatchingKeys(o,m.removedDocuments,_).next(()=>e.Ti.addMatchingKeys(o,m.addedDocuments,_)));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(wn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),s=s.insert(_,E),function(x,R,O){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=DN?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(v,E,m)&&u.push(e.Ti.updateTargetData(o,E))});let f=or(),d=ee();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(NN(o,l,t.documentUpdates).next(m=>{f=m.qs,d=m.Qs})),!i.isEqual(Ft.min())){const m=e.Ti.getLastRemoteSnapshotVersion(o).next(_=>e.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return rt.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(e.xs=s,o))}function NN(n,t,e){let i=ee(),s=ee();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=or();return e.forEach((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(Ft.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):mt(S_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)}),{qs:l,Qs:s}})}function LN(n,t){const e=qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=u_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function VN(n,t){const e=qt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Ti.getTargetData(i,t).next(o=>o?(s=o,rt.resolve(s)):e.Ti.allocateTargetId(i).next(l=>(s=new qr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function Sy(n,t,e){const i=qt(n),s=i.xs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Bl(l))throw l;mt(S_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function FT(n,t,e){const i=qt(n);let s=Ft.min(),o=ee();return i.persistence.runTransaction("Execute query","readwrite",l=>function(f,d,m){const _=qt(f),v=_.Os.get(m);return v!==void 0?rt.resolve(_.xs.get(v)):_.Ti.getTargetData(d,m)}(i,l,os(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>i.Ms.getDocumentsMatchingQuery(l,t,e?s:Ft.min(),e?o:ee())).next(u=>(UN(i,wP(t),u),{documents:u,$s:o})))}function UN(n,t,e){let i=n.Ns.get(t)||Ft.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(t,i)}class jT{constructor(){this.activeTargetIds=DP()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zN{constructor(){this.xo=new jT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="ConnectivityMonitor";class qT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){mt(HT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){mt(HT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function wy(){return kf===null?kf=function(){return 268435456+Math.round(2147483648*Math.random())}():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jN{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===Cd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(t,e,i,s,o){const l=wy(),u=this.jo(t,e.toUriEncodedString());mt(Lm,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:d}=new URL(u),m=Nl(d);return this.Jo(t,u,f,i,m).then(_=>(mt(Lm,`Received RPC '${t}' ${l}: `,_),_),_=>{throw Sl(Lm,`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_})}Yo(t,e,i,s,o,l){return this.zo(t,e,i,s,o)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}jo(t,e){const i=FN[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class qN extends jN{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,o){const l=wy();return new Promise((u,f)=>{const d=new qx;d.setWithCredentials(!0),d.listenOnce(Yx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case id.NO_ERROR:const _=d.getResponseJson();mt(Cn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),u(_);break;case id.TIMEOUT:mt(Cn,`RPC '${t}' ${l} timed out`),f(new _t(at.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const v=d.getStatus();if(mt(Cn,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const x=function(O){const N=O.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(N)>=0?N:at.UNKNOWN}(w.status);f(new _t(x,w.message))}else f(new _t(at.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new _t(at.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{h_:t,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{mt(Cn,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(s);mt(Cn,`RPC '${t}' ${l} sending request:`,s),d.send(e,"POST",m,i,15)})}I_(t,e,i){const s=wy(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Kx(),u=$x(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const m=o.join("");mt(Cn,`Creating RPC '${t}' stream ${s}: ${m}`,f);const _=l.createWebChannel(m,f);this.E_(_);let v=!1,E=!1;const w=new HN({Zo:R=>{E?mt(Cn,`Not sending because RPC '${t}' stream ${s} is closed:`,R):(v||(mt(Cn,`Opening RPC '${t}' stream ${s} transport.`),_.open(),v=!0),mt(Cn,`RPC '${t}' stream ${s} sending:`,R),_.send(R))},Xo:()=>_.close()}),x=(R,O,N)=>{R.listen(O,j=>{try{N(j)}catch($){setTimeout(()=>{throw $},0)}})};return x(_,nu.EventType.OPEN,()=>{E||(mt(Cn,`RPC '${t}' stream ${s} transport opened.`),w.__())}),x(_,nu.EventType.CLOSE,()=>{E||(E=!0,mt(Cn,`RPC '${t}' stream ${s} transport closed`),w.u_(),this.d_(_))}),x(_,nu.EventType.ERROR,R=>{E||(E=!0,Sl(Cn,`RPC '${t}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new _t(at.UNAVAILABLE,"The operation could not be completed")))}),x(_,nu.EventType.MESSAGE,R=>{var O;if(!E){const N=R.data[0];pe(!!N,16349);const j=N,$=(j==null?void 0:j.error)||((O=j[0])===null||O===void 0?void 0:O.error);if($){mt(Cn,`RPC '${t}' stream ${s} received error:`,$);const F=$.status;let tt=function(D){const k=Qe[D];if(k!==void 0)return IA(k)}(F),M=$.message;tt===void 0&&(tt=at.INTERNAL,M="Unknown error status: "+F+" with message "+$.message),E=!0,w.u_(new _t(tt,M)),_.close()}else mt(Cn,`RPC '${t}' stream ${s} received:`,N),w.c_(N)}}),x(u,Gx.STAT_EVENT,R=>{R.stat===hy.PROXY?mt(Cn,`RPC '${t}' stream ${s} detected buffering proxy`):R.stat===hy.NOPROXY&&mt(Cn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n){return new KP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,e,i=1e3,s=1.5,o=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,e-i);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="PersistentStream";class qA{constructor(t,e,i,s,o,l,u,f){this.xi=t,this.S_=i,this.D_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new HA(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(ar(e.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===e&&this.z_(i,s)},i=>{t(()=>{const s=new _t(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return mt(YT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(mt(YT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YN extends qA{constructor(t,e,i,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=QP(this.serializer,t),i=function(o){if(!("targetChange"in o))return Ft.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ft.min():l.readTime?cs(l.readTime):Ft.min()}(t);return this.listener.Y_(e,i)}Z_(t){const e={};e.database=Ty(this.serializer),e.addTarget=function(o,l){let u;const f=l.target;if(u=my(f)?{documents:tN(o,f)}:{query:eN(o,f).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=OA(o,l.resumeToken);const d=vy(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ft.min())>0){u.readTime=Pd(o,l.snapshotVersion.toTimestamp());const d=vy(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=iN(this.serializer,t);i&&(e.labels=i),this.Q_(e)}X_(t){const e={};e.database=Ty(this.serializer),e.removeTarget=t,this.Q_(e)}}class GN extends qA{constructor(t,e,i,s,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=JP(t.writeResults,t.commitTime),i=cs(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=Ty(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ZP(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{}class KN extends $N{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(t,by(e,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _t(at.UNKNOWN,o.toString())})}Yo(t,e,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(t,by(e,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(at.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class WN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ar(e),this.ua=!1):mt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class XN{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{i.enqueueAndForget(async()=>{go(this)&&(mt(ro,"Restarting streams for network reachability change."),await async function(f){const d=qt(f);d.da.add(4),await th(d),d.Va.set("Unknown"),d.da.delete(4),await ug(d)}(this))})}),this.Va=new WN(i,s)}}async function ug(n){if(go(n))for(const t of n.Aa)await t(!0)}async function th(n){for(const t of n.Aa)await t(!1)}function YA(n,t){const e=qt(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),R_(e)?A_(e):Fl(e).N_()&&x_(e,t))}function w_(n,t){const e=qt(n),i=Fl(e);e.Ea.delete(t),i.N_()&&GA(e,t),e.Ea.size===0&&(i.N_()?i.k_():go(e)&&e.Va.set("Unknown"))}function x_(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Fl(n).Z_(t)}function GA(n,t){n.ma.Ke(t),Fl(n).X_(t)}function A_(n){n.ma=new qP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Fl(n).start(),n.Va.ca()}function R_(n){return go(n)&&!Fl(n).O_()&&n.Ea.size>0}function go(n){return qt(n).da.size===0}function $A(n){n.ma=void 0}async function QN(n){n.Va.set("Online")}async function ZN(n){n.Ea.forEach((t,e)=>{x_(n,t)})}async function JN(n,t){$A(n),R_(n)?(n.Va.Pa(t),A_(n)):n.Va.set("Unknown")}async function tL(n,t,e){if(n.Va.set("Online"),t instanceof MA&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ea.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ea.delete(u),s.ma.removeTarget(u))}(n,t)}catch(i){mt(ro,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ld(n,i)}else if(t instanceof od?n.ma.Xe(t):t instanceof DA?n.ma.ot(t):n.ma.nt(t),!e.isEqual(Ft.min()))try{const i=await jA(n.localStore);e.compareTo(i)>=0&&await function(o,l){const u=o.ma.It(l);return u.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ea.get(d);m&&o.Ea.set(d,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,d)=>{const m=o.Ea.get(f);if(!m)return;o.Ea.set(f,m.withResumeToken(wn.EMPTY_BYTE_STRING,m.snapshotVersion)),GA(o,f);const _=new qr(m.target,f,d,m.sequenceNumber);x_(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){mt(ro,"Failed to raise snapshot:",i),await Ld(n,i)}}async function Ld(n,t,e){if(!Bl(t))throw t;n.da.add(1),await th(n),n.Va.set("Offline"),e||(e=()=>jA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{mt(ro,"Retrying IndexedDB access"),await e(),n.da.delete(1),await ug(n)})}function KA(n,t){return t().catch(e=>Ld(n,e,t))}async function hg(n){const t=qt(n),e=ra(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:u_;for(;eL(t);)try{const s=await LN(t.localStore,i);if(s===null){t.Ia.length===0&&e.k_();break}i=s.batchId,nL(t,s)}catch(s){await Ld(t,s)}WA(t)&&XA(t)}function eL(n){return go(n)&&n.Ia.length<10}function nL(n,t){n.Ia.push(t);const e=ra(n);e.N_()&&e.ea&&e.ta(t.mutations)}function WA(n){return go(n)&&!ra(n).O_()&&n.Ia.length>0}function XA(n){ra(n).start()}async function iL(n){ra(n).ia()}async function sL(n){const t=ra(n);for(const e of n.Ia)t.ta(e.mutations)}async function rL(n,t,e){const i=n.Ia.shift(),s=y_.from(i,t,e);await KA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await hg(n)}async function aL(n,t){t&&ra(n).ea&&await async function(i,s){if(function(l){return jP(l)&&l!==at.ABORTED}(s.code)){const o=i.Ia.shift();ra(i).L_(),await KA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await hg(i)}}(n,t),WA(n)&&XA(n)}async function GT(n,t){const e=qt(n);e.asyncQueue.verifyOperationInProgress(),mt(ro,"RemoteStore received new credentials");const i=go(e);e.da.add(3),await th(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await ug(e)}async function oL(n,t){const e=qt(n);t?(e.da.delete(2),await ug(e)):t||(e.da.add(2),await th(e),e.Va.set("Unknown"))}function Fl(n){return n.fa||(n.fa=function(e,i,s){const o=qt(e);return o.oa(),new YN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:QN.bind(null,n),n_:ZN.bind(null,n),i_:JN.bind(null,n),Y_:tL.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),R_(n)?A_(n):n.Va.set("Unknown")):(await n.fa.stop(),$A(n))})),n.fa}function ra(n){return n.ga||(n.ga=function(e,i,s){const o=qt(e);return o.oa(),new GN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:iL.bind(null,n),i_:aL.bind(null,n),na:sL.bind(null,n),ra:rL.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await hg(n)):(await n.ga.stop(),n.Ia.length>0&&(mt(ro,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const l=Date.now()+i,u=new C_(t,e,l,s,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I_(n,t){if(ar("AsyncQueue",`${t}: ${n}`),Bl(n))return new _t(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(t){return new bl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||It.comparator(e.key,i.key):(e,i)=>It.comparator(e.key,i.key),this.keyedMap=iu(),this.sortedSet=new Pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new bl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.pa=new Pe(It.comparator)}track(t){const e=t.doc.key,i=this.pa.get(e);i?t.type!==0&&i.type===3?this.pa=this.pa.insert(e,t):t.type===3&&i.type!==1?this.pa=this.pa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.pa=this.pa.remove(e):t.type===1&&i.type===2?this.pa=this.pa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Lt(63341,{Vt:t,ya:i}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,i)=>{t.push(i)}),t}}class Cl{constructor(t,e,i,s,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,s,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Cl(t,e,bl.emptySet(e),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class cL{constructor(){this.queries=KT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=qt(e),o=s.queries;s.queries=KT(),o.forEach((l,u)=>{for(const f of u.Sa)f.onError(i)})})(this,new _t(at.ABORTED,"Firestore shutting down"))}}function KT(){return new ho(n=>mA(n),sg)}async function QA(n,t){const e=qt(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.Da()&&t.va()&&(i=2):(o=new lL,i=t.va()?0:1);try{switch(i){case 0:o.ba=await e.onListen(s,!0);break;case 1:o.ba=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=I_(l,`Initialization of query '${fl(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,o),o.Sa.push(t),t.Fa(e.onlineState),o.ba&&t.Ma(o.ba)&&D_(e)}async function ZA(n,t){const e=qt(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=t.va()?0:1:!o.Da()&&t.va()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function uL(n,t){const e=qt(n);let i=!1;for(const s of t){const o=s.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Ma(s)&&(i=!0);l.ba=s}}i&&D_(e)}function hL(n,t,e){const i=qt(n),s=i.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);i.queries.delete(t)}function D_(n){n.Ca.forEach(t=>{t.next()})}var xy,WT;(WT=xy||(xy={})).xa="default",WT.Cache="cache";class JA{constructor(t,e,i){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Cl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const i=e!=="Offline";return(!this.options.Qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.key=t}}class e1{constructor(t){this.key=t}}class fL{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ee(),this.mutatedKeys=ee(),this.Za=yA(t),this.Xa=new bl(this.Za)}get eu(){return this.Ha}tu(t,e){const i=e?e.nu:new $T,s=e?e.Xa:this.Xa;let o=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((m,_)=>{const v=s.get(m),E=rg(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;v&&E?v.data.isEqual(E.data)?w!==x&&(i.track({type:3,doc:E}),R=!0):this.ru(v,E)||(i.track({type:2,doc:E}),R=!0,(f&&this.Za(E,f)>0||d&&this.Za(E,d)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),R=!0):v&&!E&&(i.track({type:1,doc:v}),R=!0,(f||d)&&(u=!0)),R&&(E?(l=l.add(E),o=x?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{Xa:l,nu:i,Cs:u,mutatedKeys:o}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const l=t.nu.wa();l.sort((m,_)=>function(E,w){const x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Vt:R})}};return x(E)-x(w)}(m.type,_.type)||this.Za(m.doc,_.doc)),this.iu(i),s=s!=null&&s;const u=e&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Ja;return this.Ja=f,l.length!==0||d?{snapshot:new Cl(this.query,t.Xa,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $T,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ee(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const e=[];return t.forEach(i=>{this.Ya.has(i)||e.push(new e1(i))}),this.Ya.forEach(i=>{t.has(i)||e.push(new t1(i))}),e}au(t){this.Ha=t.$s,this.Ya=ee();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Cl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const M_="SyncEngine";class dL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class gL{constructor(t){this.key=t,this.cu=!1}}class pL{constructor(t,e,i,s,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ho(u=>mA(u),sg),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pe(It.comparator),this.Eu=new Map,this.du=new b_,this.Au={},this.Ru=new Map,this.Vu=Rl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mL(n,t,e=!0){const i=o1(n);let s;const o=i.hu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await n1(i,t,e,!0),s}async function yL(n,t){const e=o1(n);await n1(e,t,!0,!1)}async function n1(n,t,e,i){const s=await VN(n.localStore,os(t)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await _L(n,t,o,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&YA(n.remoteStore,s),u}async function _L(n,t,e,i,s){n.fu=(_,v,E)=>async function(x,R,O,N){let j=R.view.tu(O);j.Cs&&(j=await FT(x.localStore,R.query,!1).then(({documents:M})=>R.view.tu(M,j)));const $=N&&N.targetChanges.get(R.targetId),F=N&&N.targetMismatches.get(R.targetId)!=null,tt=R.view.applyChanges(j,x.isPrimaryClient,$,F);return QT(x,R.targetId,tt.ou),tt.snapshot}(n,_,v,E);const o=await FT(n.localStore,t,!0),l=new fL(t,o.$s),u=l.tu(o.documents),f=Ju.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),d=l.applyChanges(u,n.isPrimaryClient,f);QT(n,e,d.ou);const m=new dL(t,e,l);return n.hu.set(t,m),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),d.snapshot}async function vL(n,t,e){const i=qt(n),s=i.hu.get(t),o=i.Pu.get(s.targetId);if(o.length>1)return i.Pu.set(s.targetId,o.filter(l=>!sg(l,t))),void i.hu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Sy(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&w_(i.remoteStore,s.targetId),Ay(i,s.targetId)}).catch(zl)):(Ay(i,s.targetId),await Sy(i.localStore,s.targetId,!0))}async function bL(n,t){const e=qt(n),i=e.hu.get(t),s=e.Pu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),w_(e.remoteStore,i.targetId))}async function EL(n,t,e){const i=CL(n);try{const s=await function(l,u){const f=qt(l),d=on.now(),m=u.reduce((E,w)=>E.add(w.key),ee());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let w=or(),x=ee();return f.Bs.getEntries(E,m).next(R=>{w=R,w.forEach((O,N)=>{N.isValidDocument()||(x=x.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,w)).next(R=>{_=R;const O=[];for(const N of u){const j=VP(N,_.get(N.key).overlayedDocument);j!=null&&O.push(new fo(N.key,j,lA(j.value.mapValue),ls.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,O,u)}).next(R=>{v=R;const O=R.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(E,R.batchId,O)})}).then(()=>({batchId:v.batchId,changes:vA(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,f){let d=l.Au[l.currentUser.toKey()];d||(d=new Pe(Wt)),d=d.insert(u,f),l.Au[l.currentUser.toKey()]=d}(i,s.batchId,e),await eh(i,s.changes),await hg(i.remoteStore)}catch(s){const o=I_(s,"Failed to persist write");e.reject(o)}}async function i1(n,t){const e=qt(n);try{const i=await PN(e.localStore,t);t.targetChanges.forEach((s,o)=>{const l=e.Eu.get(o);l&&(pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?pe(l.cu,14607):s.removedDocuments.size>0&&(pe(l.cu,42227),l.cu=!1))}),await eh(e,i,t)}catch(i){await zl(i)}}function XT(n,t,e){const i=qt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.hu.forEach((o,l)=>{const u=l.view.Fa(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const f=qt(l);f.onlineState=u;let d=!1;f.queries.forEach((m,_)=>{for(const v of _.Sa)v.Fa(u)&&(d=!0)}),d&&D_(f)}(i.eventManager,t),s.length&&i.lu.Y_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function TL(n,t,e){const i=qt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Eu.get(t),o=s&&s.key;if(o){let l=new Pe(It.comparator);l=l.insert(o,On.newNoDocument(o,Ft.min()));const u=ee().add(o),f=new lg(Ft.min(),new Map,new Pe(Wt),l,u);await i1(i,f),i.Iu=i.Iu.remove(o),i.Eu.delete(t),O_(i)}else await Sy(i.localStore,t,!1).then(()=>Ay(i,t,e)).catch(zl)}async function SL(n,t){const e=qt(n),i=t.batch.batchId;try{const s=await kN(e.localStore,t);r1(e,i,null),s1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await eh(e,s)}catch(s){await zl(s)}}async function wL(n,t,e){const i=qt(n);try{const s=await function(l,u){const f=qt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next(_=>(pe(_!==null,37113),m=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>f.localDocuments.getDocuments(d,m))})}(i.localStore,t);r1(i,t,e),s1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await eh(i,s)}catch(s){await zl(s)}}function s1(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function r1(n,t,e){const i=qt(n);let s=i.Au[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Au[i.currentUser.toKey()]=s}}function Ay(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Pu.get(t))n.hu.delete(i),e&&n.lu.gu(i,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(i=>{n.du.containsKey(i)||a1(n,i)})}function a1(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(w_(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),O_(n))}function QT(n,t,e){for(const i of e)i instanceof t1?(n.du.addReference(i.key,t),xL(n,i)):i instanceof e1?(mt(M_,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,t),n.du.containsKey(i.key)||a1(n,i.key)):Lt(19791,{pu:i})}function xL(n,t){const e=t.key,i=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(i)||(mt(M_,"New document in limbo: "+e),n.Tu.add(i),O_(n))}function O_(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new It(Ae.fromString(t)),i=n.Vu.next();n.Eu.set(i,new gL(e)),n.Iu=n.Iu.insert(e,i),YA(n.remoteStore,new qr(os(p_(e.path)),i,"TargetPurposeLimboResolution",eg.le))}}async function eh(n,t,e){const i=qt(n),s=[],o=[],l=[];i.hu.isEmpty()||(i.hu.forEach((u,f)=>{l.push(i.fu(f,t,e).then(d=>{var m;if((d||e)&&i.isPrimaryClient){const _=d?!d.fromCache:(m=e==null?void 0:e.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){s.push(d);const _=T_.Rs(f.targetId,d);o.push(_)}}))}),await Promise.all(l),i.lu.Y_(s),await async function(f,d){const m=qt(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>rt.forEach(d,v=>rt.forEach(v.ds,E=>m.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>rt.forEach(v.As,E=>m.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!Bl(_))throw _;mt(S_,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const E=m.xs.get(v),w=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(w);m.xs=m.xs.insert(v,x)}}}(i.localStore,o))}async function AL(n,t){const e=qt(n);if(!e.currentUser.isEqual(t)){mt(M_,"User change. New user:",t.toKey());const i=await FA(e.localStore,t);e.currentUser=t,function(o,l){o.Ru.forEach(u=>{u.forEach(f=>{f.reject(new _t(at.CANCELLED,l))})}),o.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await eh(e,i.ks)}}function RL(n,t){const e=qt(n),i=e.Eu.get(t);if(i&&i.cu)return ee().add(i.key);{let s=ee();const o=e.Pu.get(t);if(!o)return s;for(const l of o){const u=e.hu.get(l);s=s.unionWith(u.view.eu)}return s}}function o1(n){const t=qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=i1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TL.bind(null,t),t.lu.Y_=uL.bind(null,t.eventManager),t.lu.gu=hL.bind(null,t.eventManager),t}function CL(n){const t=qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wL.bind(null,t),t}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return ON(this.persistence,new IN,t.initialUser,this.serializer)}Su(t){return new BA(E_.fi,this.serializer)}bu(t){return new zN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class IL extends Vd{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){pe(this.persistence.referenceDelegate instanceof Nd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new gN(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new BA(i=>Nd.fi(i,e),this.serializer)}}class Ry{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await oL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new cL}()}createDatastore(t){const e=cg(t.databaseInfo.databaseId),i=function(o){return new qN(o)}(t.databaseInfo);return function(o,l,u,f){return new KN(o,l,u,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,o,l,u){return new XN(i,s,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>XT(this.syncEngine,e,0),function(){return qT.C()?new qT:new BN}())}createSyncEngine(t,e){return function(s,o,l,u,f,d,m){const _=new pL(s,o,l,u,f,d);return m&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const o=qt(s);mt(ro,"RemoteStore shutting down."),o.da.add(5),await th(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):ar("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class DL{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=Zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{mt(aa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(mt(aa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=I_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Um(n,t){n.asyncQueue.verifyOperationInProgress(),mt(aa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await FA(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function ZT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await ML(n);mt(aa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>GT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>GT(t.remoteStore,s)),n._onlineComponents=t}async function ML(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(aa,"Using user provided OfflineComponentProvider");try{await Um(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===at.FAILED_PRECONDITION||s.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Sl("Error using user provided cache. Falling back to memory cache: "+e),await Um(n,new Vd)}}else mt(aa,"Using default OfflineComponentProvider"),await Um(n,new IL(void 0));return n._offlineComponents}async function c1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(aa,"Using user provided OnlineComponentProvider"),await ZT(n,n._uninitializedComponentsProvider._online)):(mt(aa,"Using default OnlineComponentProvider"),await ZT(n,new Ry))),n._onlineComponents}function OL(n){return c1(n).then(t=>t.syncEngine)}async function u1(n){const t=await c1(n),e=t.eventManager;return e.onListen=mL.bind(null,t.syncEngine),e.onUnlisten=vL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=yL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bL.bind(null,t.syncEngine),e}function kL(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,d){const m=new l1({next:v=>{m.xu(),l.enqueueAndForget(()=>ZA(o,_));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new _t(at.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?d.reject(new _t(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new JA(p_(u.path),m,{includeMetadataChanges:!0,Qa:!0});return QA(o,_)}(await u1(n),n.asyncQueue,t,e,i)),i.promise}function PL(n,t,e={}){const i=new nr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,d){const m=new l1({next:v=>{m.xu(),l.enqueueAndForget(()=>ZA(o,_)),v.fromCache&&f.source==="server"?d.reject(new _t(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new JA(u,m,{includeMetadataChanges:!0,Qa:!0});return QA(o,_)}(await u1(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,t,e){if(!e)throw new _t(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function NL(n,t,e,i){if(t===!0&&i===!0)throw new _t(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function tS(n){if(!It.isDocumentKey(n))throw new _t(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eS(n){if(It.isDocumentKey(n))throw new _t(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Lt(12329,{type:typeof n})}function oa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=fg(n);throw new _t(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firestore.googleapis.com",nS=!0;class iS{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=nS}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:nS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fN)throw new _t(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dg{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Hk;switch(i.type){case"firstParty":return new $k(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _t(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=JT.get(e);i&&(mt("ComponentProvider","Removing Datastore"),JT.delete(e),i.terminate())}(this),Promise.resolve()}}function LL(n,t,e,i={}){var s;n=oa(n,dg);const o=Nl(t),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(ex(`https://${f}`),nx("Firestore",!0)),l.host!==d1&&l.host!==f&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:f,ssl:o,emulatorOptions:i});if(!to(d,u)&&(n._setSettings(d),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=Dn.MOCK_USER;else{m=eD(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new _t(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(v)}n._authCredentials=new qk(new Xx(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jl(this.firestore,t,this._query)}}class Wn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wn(this.firestore,t,this._key)}}class Jr extends jl{constructor(t,e,i){super(t,e,p_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wn(this.firestore,null,new It(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function ol(n,t,...e){if(n=ui(n),f1("collection","path",t),n instanceof dg){const i=Ae.fromString(t,...e);return eS(i),new Jr(n,null,i)}{if(!(n instanceof Wn||n instanceof Jr))throw new _t(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ae.fromString(t,...e));return eS(i),new Jr(n.firestore,null,i)}}function zr(n,t,...e){if(n=ui(n),arguments.length===1&&(t=Zx.newId()),f1("doc","path",t),n instanceof dg){const i=Ae.fromString(t,...e);return tS(i),new Wn(n,null,new It(i))}{if(!(n instanceof Wn||n instanceof Jr))throw new _t(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ae.fromString(t,...e));return tS(i),new Wn(n.firestore,n instanceof Jr?n.converter:null,new It(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="AsyncQueue";class rS{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new HA(this,"async_queue_retry"),this.rc=()=>{const i=Vm();i&&mt(sS,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=Vm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=Vm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new nr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Bl(t))throw t;mt(sS,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,ar("INTERNAL UNHANDLED ERROR: ",aS(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const s=C_.createAndSchedule(this,t,e,i,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&Lt(47125,{cc:aS(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function aS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class nh extends dg{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new rS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new rS(t),this._firestoreClient=void 0,await t}}}function VL(n,t){const e=typeof n=="object"?n:ax(),i=typeof n=="string"?n:Cd,s=Jy(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=J2("firestore");o&&LL(s,...o)}return s}function k_(n){if(n._terminated)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UL(n),n._firestoreClient}function UL(n){var t,e,i;const s=n._freezeSettings(),o=function(u,f,d,m){return new lP(u,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,h1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new DL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Il(wn.fromBase64String(t))}catch(e){throw new _t(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Il(wn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new _t(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _t(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _t(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/^__.*__$/;class BL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new fo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zu(t,this.data,e,this.fieldTransforms)}}function p1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ic:n})}}class V_{constructor(t,e,i,s,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new V_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:i,Rc:!1});return s.Vc(t),s}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Ud(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(p1(this.Ic)&&zL.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class FL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||cg(t)}bc(t,e,i,s=!1){return new V_({Ic:t,methodName:e,wc:i,path:Sn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U_(n){const t=n._freezeSettings(),e=cg(n._databaseId);return new FL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function m1(n,t,e,i,s,o={}){const l=n.bc(o.merge||o.mergeFields?2:0,t,e,s);v1("Data must be an object, but it was:",l,i);const u=y1(i,l);let f,d;if(o.merge)f=new Pi(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const v=HL(t,_,e);if(!l.contains(v))throw new _t(at.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);YL(m,v)||m.push(v)}f=new Pi(m),d=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=l.fieldTransforms;return new BL(new xi(u),f,d)}function jL(n,t,e,i=!1){return z_(e,n.bc(i?4:3,t))}function z_(n,t){if(_1(n=ui(n)))return v1("Unsupported field value:",t,n),y1(n,t);if(n instanceof g1)return function(i,s){if(!p1(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let f=z_(u,s.fc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,t)}return function(i,s){if((i=ui(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=on.fromDate(i);return{timestampValue:Pd(s.serializer,o)}}if(i instanceof on){const o=new on(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pd(s.serializer,o)}}if(i instanceof N_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Il)return{bytesValue:OA(s.serializer,i._byteString)};if(i instanceof Wn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:v_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof L_)return function(l,u){return{mapValue:{fields:{[aA]:{stringValue:oA},[Id]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.gc("VectorValues must only contain numeric values.");return m_(u.serializer,d)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${fg(i)}`)}(n,t)}function y1(n,t){const e={};return tA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uo(n,(i,s)=>{const o=z_(s,t.Ac(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function _1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof on||n instanceof N_||n instanceof Il||n instanceof Wn||n instanceof g1||n instanceof L_)}function v1(n,t,e){if(!_1(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=fg(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function HL(n,t,e){if((t=ui(t))instanceof P_)return t._internalPath;if(typeof t=="string")return b1(n,t);throw Ud("Field path arguments must be of type string or ",n,!1,void 0,e)}const qL=new RegExp("[~\\*/\\[\\]]");function b1(n,t,e){if(t.search(qL)>=0)throw Ud(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new P_(...t.split("."))._internalPath}catch{throw Ud(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ud(n,t,e,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${s}`),f+=")"),new _t(at.INVALID_ARGUMENT,u+n+f)}function YL(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(B_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class GL extends E1{data(){return super.data()}}function B_(n,t){return typeof t=="string"?b1(n,t):t instanceof P_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _t(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F_{}class KL extends F_{}function Pf(n,t,...e){let i=[];t instanceof F_&&i.push(t),i=i.concat(e),function(o){const l=o.filter(f=>f instanceof j_).length,u=o.filter(f=>f instanceof gg).length;if(l>1||l>0&&u>0)throw new _t(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class gg extends KL{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gg(t,e,i)}_apply(t){const e=this._parse(t);return T1(t._query,e),new jl(t.firestore,t.converter,yy(t._query,e))}_parse(t){const e=U_(t.firestore);return function(o,l,u,f,d,m,_){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new _t(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){lS(_,m);const w=[];for(const x of _)w.push(oS(f,o,x));v={arrayValue:{values:w}}}else v=oS(f,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||lS(_,m),v=jL(u,l,_,m==="in"||m==="not-in");return Ze.create(d,m,v)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ll(n,t,e){const i=t,s=B_("where",n);return gg._create(s,i,e)}class j_ extends F_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new j_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Ui.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const f of u)T1(l,f),l=yy(l,f)}(t._query,e),new jl(t.firestore,t.converter,yy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function oS(n,t,e){if(typeof(e=ui(e))=="string"){if(e==="")throw new _t(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pA(t)&&e.indexOf("/")!==-1)throw new _t(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ae.fromString(e));if(!It.isDocumentKey(i))throw new _t(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return TT(n,new It(i))}if(e instanceof Wn)return TT(n,e._key);throw new _t(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(e)}.`)}function lS(n,t){if(!Array.isArray(n)||n.length===0)throw new _t(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T1(n,t){const e=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new _t(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _t(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class WL{convertValue(t,e="none"){switch(sa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ia(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Lt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return uo(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,s;const o=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[Id].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Ye(l.doubleValue));return new L_(o)}convertGeoPoint(t){return new N_(Ye(t.latitude),Ye(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ig(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const e=na(t);return new on(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ae.fromString(t);pe(UA(i),9688,{name:t});const s=new Iu(i.get(1),i.get(3)),o=new It(i.popFirst(5));return s.isEqual(e)||ar(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class w1 extends E1{constructor(t,e,i,s,o,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(B_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ld extends w1{data(t={}){return super.data(t)}}class XL{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new ru(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ld(this._firestore,this._userDataWriter,i.key,i,new ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _t(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const f=new ld(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ru(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new ld(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ru(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:QL(u.type),doc:f,oldIndex:d,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function QL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){n=oa(n,Wn);const t=oa(n.firestore,nh);return kL(k_(t),n._key).then(e=>JL(t,n,e))}class x1 extends WL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Il(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wn(this.firestore,null,e)}}function Kc(n){n=oa(n,jl);const t=oa(n.firestore,nh),e=k_(t),i=new x1(t);return $L(n._query),PL(e,n._query).then(s=>new XL(t,i,n,s))}function pl(n,t,e){n=oa(n,Wn);const i=oa(n.firestore,nh),s=S1(n.converter,t,e);return A1(i,[m1(U_(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,ls.none())])}function ZL(n,t){const e=oa(n.firestore,nh),i=zr(n),s=S1(n.converter,t);return A1(e,[m1(U_(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,ls.exists(!1))]).then(()=>i)}function A1(n,t){return function(i,s){const o=new nr;return i.asyncQueue.enqueueAndForget(async()=>EL(await OL(i),s,o)),o.promise}(k_(n),t)}function JL(n,t,e){const i=e.docs.get(t._key),s=new x1(n);return new w1(n,s,t._key,i,new ru(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){Ul=s})(Ll),Tl(new eo("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new nh(new Yk(i.getProvider("auth-internal")),new Kk(l,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _t(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(d.options.projectId,m)}(l,s),l);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Qr(uT,hT,t),Qr(uT,hT,"esm2017")})();const $a={EMAILJS_SERVICE_ID:"NQbcTEsLqqTxBfhk4",EMAILJS_TEMPLATE_ID:"template_6qcikwj",EMAILJS_PUBLIC_KEY:"ocDh7Ou7OaNwwoq5A",FIREBASE_VAPID_KEY:"BAcwjPKvHOq5paW-cCe0FYARL2LQiSa6ESiVFVW1q3n-aCQ2BrNllZti302OS3fDE8OahY_qaz2sTeGX4i4vyLE",FIREBASE_API_KEY:"AIzaSyBBJwo1yVkrDB-7xDn9eJotrqRwbavgkIQ",FIREBASE_AUTH_DOMAIN:"smart-expense-tracker-95fd6.firebaseapp.com",FIREBASE_PROJECT_ID:"smart-expense-tracker-95fd6",FIREBASE_STORAGE_BUCKET:"smart-expense-tracker-95fd6.firebasestorage.app",FIREBASE_MESSAGING_SENDER_ID:"153451200309",FIREBASE_APP_ID:"1:153451200309:web:56dfe1b585513b1495567c"};self.config=$a;const tV={apiKey:$a.FIREBASE_API_KEY||"missing-api-key",authDomain:$a.FIREBASE_AUTH_DOMAIN||"missing-auth-domain",projectId:$a.FIREBASE_PROJECT_ID||"missing-project-id",storageBucket:$a.FIREBASE_STORAGE_BUCKET||"missing-storage-bucket",messagingSenderId:$a.FIREBASE_MESSAGING_SENDER_ID||"missing-sender-id",appId:$a.FIREBASE_APP_ID||"missing-app-id"},R1=rx(tV),Gn=Fk(R1),oi=VL(R1);function eV(){const n=Kd(),[t,e]=X.useState(""),[i,s]=X.useState(""),[o,l]=X.useState(""),u=async f=>{f.preventDefault();try{await CO(Gn,t,i),n("/dashboard")}catch(d){console.error("Login Error:",d.code,d.message),l("Login failed. Check your credentials.")}};return J.jsx("div",{className:"container",children:J.jsxs("form",{onSubmit:u,className:"form",children:[J.jsx("h2",{children:"Login"}),o&&J.jsx("p",{className:"error",children:o}),J.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:f=>e(f.target.value),required:!0}),J.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:f=>s(f.target.value),required:!0}),J.jsx("button",{type:"submit",children:"Login"}),J.jsxs("p",{children:["Don't have an account? ",J.jsx(Xd,{to:"/signup",children:"Sign up"})]})]})})}function nV(){const n=Kd(),[t,e]=X.useState({email:"",username:"",password:""}),[i,s]=X.useState({email:"",username:"",password:"",general:""}),[o,l]=X.useState(!1),u=()=>{const m={email:"",username:"",password:"",general:""};let _=!0;const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;t.email.trim()?v.test(t.email.trim())||(m.email="Invalid email format.",_=!1):(m.email="Email is required.",_=!1);const E=/^[a-zA-Z0-9._-]{3,20}$/;return t.username.trim()?E.test(t.username.trim())||(m.username="Username must be 3–20 characters, alphanumeric, dots, dashes, or underscores.",_=!1):(m.username="Username is required.",_=!1),t.password?t.password.length<6?(m.password="Password must be at least 6 characters.",_=!1):t.password.length<8&&(m.password="For better security, use 8+ characters with mixed case and numbers."):(m.password="Password is required.",_=!1),s(m),_},f=async m=>{if(m.preventDefault(),!!u()){l(!0),s({email:"",username:"",password:"",general:""});try{const _=t.email.trim(),v=t.username.trim(),E=await RO(Gn,_,t.password);await pl(zr(oi,"users",E.user.uid),{username:v,email:_,budget:0,lastBudgetMonth:null,previousBudget:0}),n("/dashboard")}catch(_){console.error("Signup error:",_.code,_.message);let v="Signup failed. Please try again.";switch(_.code){case"auth/email-already-in-use":v="This email is already registered. Try logging in.",s(E=>({...E,email:v}));break;case"auth/invalid-email":v="Invalid email format.",s(E=>({...E,email:v}));break;case"auth/weak-password":v="Password is too weak. Use at least 6 characters.",s(E=>({...E,password:v}));break;case"auth/operation-not-allowed":v="Email/password signup is disabled.",s(E=>({...E,general:v}));break;default:s(E=>({...E,general:v}))}}finally{l(!1)}}},d=m=>{const{name:_,value:v}=m.target;e(E=>({...E,[_]:v})),s(E=>({...E,[_]:"",general:""}))};return J.jsx("div",{className:"container",children:J.jsxs("form",{onSubmit:f,className:"form",children:[J.jsx("h2",{children:"Sign Up"}),i.general&&J.jsx("p",{className:"error",children:i.general}),J.jsxs("div",{children:[J.jsx("input",{type:"text",name:"username",placeholder:"Username",value:t.username,onChange:d,required:!0,"aria-label":"Username","aria-describedby":"username-error"}),i.username&&J.jsx("p",{className:"error",id:"username-error",children:i.username})]}),J.jsxs("div",{children:[J.jsx("input",{type:"email",name:"email",placeholder:"Email",value:t.email,onChange:d,required:!0,"aria-label":"Email","aria-describedby":"email-error"}),i.email&&J.jsx("p",{className:"error",id:"email-error",children:i.email})]}),J.jsxs("div",{children:[J.jsx("input",{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:d,required:!0,"aria-label":"Password","aria-describedby":"password-error"}),i.password&&J.jsx("p",{className:"error",id:"password-error",children:i.password})]}),J.jsx("button",{type:"submit",disabled:o,children:o?"Signing in...":"Sign Up"}),J.jsxs("p",{className:"link",children:["Already have an account? ",J.jsx(Xd,{to:"/",children:"Login"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ih(n){return n+.5|0}const Yr=(n,t,e)=>Math.max(Math.min(n,e),t);function au(n){return Yr(ih(n*2.55),0,255)}function ta(n){return Yr(ih(n*255),0,255)}function Ks(n){return Yr(ih(n/2.55)/100,0,1)}function cS(n){return Yr(ih(n*100),0,100)}const Si={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cy=[..."0123456789ABCDEF"],iV=n=>Cy[n&15],sV=n=>Cy[(n&240)>>4]+Cy[n&15],Lf=n=>(n&240)>>4===(n&15),rV=n=>Lf(n.r)&&Lf(n.g)&&Lf(n.b)&&Lf(n.a);function aV(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Si[n[1]]*17,g:255&Si[n[2]]*17,b:255&Si[n[3]]*17,a:t===5?Si[n[4]]*17:255}:(t===7||t===9)&&(e={r:Si[n[1]]<<4|Si[n[2]],g:Si[n[3]]<<4|Si[n[4]],b:Si[n[5]]<<4|Si[n[6]],a:t===9?Si[n[7]]<<4|Si[n[8]]:255})),e}const oV=(n,t)=>n<255?t(n):"";function lV(n){var t=rV(n)?iV:sV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+oV(n.a,t):void 0}const cV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function C1(n,t,e){const i=t*Math.min(e,1-e),s=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function uV(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function hV(n,t,e){const i=C1(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function fV(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function H_(n){const e=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(e,i,s),l=Math.min(e,i,s),u=(o+l)/2;let f,d,m;return o!==l&&(m=o-l,d=u>.5?m/(2-o-l):m/(o+l),f=fV(e,i,s,m,o),f=f*60+.5),[f|0,d||0,u]}function q_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ta)}function Y_(n,t,e){return q_(C1,n,t,e)}function dV(n,t,e){return q_(hV,n,t,e)}function gV(n,t,e){return q_(uV,n,t,e)}function I1(n){return(n%360+360)%360}function pV(n){const t=cV.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?au(+t[5]):ta(+t[5]));const s=I1(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=dV(s,o,l):t[1]==="hsv"?i=gV(s,o,l):i=Y_(s,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function mV(n,t){var e=H_(n);e[0]=I1(e[0]+t),e=Y_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function yV(n){if(!n)return;const t=H_(n),e=t[0],i=cS(t[1]),s=cS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Ks(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const uS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _V(){const n={},t=Object.keys(hS),e=Object.keys(uS);let i,s,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)o=e[s],u=u.replace(o,uS[o]);o=parseInt(hS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Vf;function vV(n){Vf||(Vf=_V(),Vf.transparent=[0,0,0,0]);const t=Vf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function EV(n){const t=bV.exec(n);let e=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?au(l):Yr(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?au(i):Yr(i,0,255)),s=255&(t[4]?au(s):Yr(s,0,255)),o=255&(t[6]?au(o):Yr(o,0,255)),{r:i,g:s,b:o,a:e}}}function TV(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ks(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const zm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,cl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function SV(n,t,e){const i=cl(Ks(n.r)),s=cl(Ks(n.g)),o=cl(Ks(n.b));return{r:ta(zm(i+e*(cl(Ks(t.r))-i))),g:ta(zm(s+e*(cl(Ks(t.g))-s))),b:ta(zm(o+e*(cl(Ks(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Uf(n,t,e){if(n){let i=H_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Y_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function D1(n,t){return n&&Object.assign(t||{},n)}function fS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ta(n[3]))):(t=D1(n,{r:0,g:0,b:0,a:1}),t.a=ta(t.a)),t}function wV(n){return n.charAt(0)==="r"?EV(n):pV(n)}class ku{constructor(t){if(t instanceof ku)return t;const e=typeof t;let i;e==="object"?i=fS(t):e==="string"&&(i=aV(t)||vV(t)||wV(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=D1(this._rgb);return t&&(t.a=Ks(t.a)),t}set rgb(t){this._rgb=fS(t)}rgbString(){return this._valid?TV(this._rgb):void 0}hexString(){return this._valid?lV(this._rgb):void 0}hslString(){return this._valid?yV(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-s.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=SV(this._rgb,t._rgb,e)),this}clone(){return new ku(this.rgb)}alpha(t){return this._rgb.a=ta(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ih(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Uf(this._rgb,2,t),this}darken(t){return Uf(this._rgb,2,-t),this}saturate(t){return Uf(this._rgb,1,t),this}desaturate(t){return Uf(this._rgb,1,-t),this}rotate(t){return mV(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ys(){}const xV=(()=>{let n=0;return()=>n++})();function Jt(n){return n==null}function De(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ze(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function li(n,t){return ze(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const AV=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,M1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function xe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function _e(n,t,e,i){let s,o,l;if(De(n))for(o=n.length,s=0;s<o;s++)t.call(e,n[s],s);else if(ne(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)t.call(e,n[l[s]],l[s])}function zd(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Bd(n){if(De(n))return n.map(Bd);if(ne(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Bd(n[e[s]]);return t}return n}function O1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function RV(n,t,e,i){if(!O1(n))return;const s=t[n],o=e[n];ne(s)&&ne(o)?Pu(s,o,i):t[n]=Bd(o)}function Pu(n,t,e){const i=De(t)?t:[t],s=i.length;if(!ne(n))return n;e=e||{};const o=e.merger||RV;let l;for(let u=0;u<s;++u){if(l=i[u],!ne(l))continue;const f=Object.keys(l);for(let d=0,m=f.length;d<m;++d)o(f[d],n,l,e)}return n}function _u(n,t){return Pu(n,t,{merger:CV})}function CV(n,t,e){if(!O1(n))return;const i=t[n],s=e[n];ne(i)&&ne(s)?_u(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Bd(s))}const dS={"":n=>n,x:n=>n.x,y:n=>n.y};function IV(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function DV(n){const t=IV(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function la(n,t){return(dS[t]||(dS[t]=DV(t)))(n)}function G_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Nu=n=>typeof n<"u",ca=n=>typeof n=="function",gS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function MV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ue=Math.PI,Re=2*ue,OV=Re+ue,Fd=Number.POSITIVE_INFINITY,kV=ue/180,Ge=ue/2,ja=ue/4,pS=ue*2/3,Gr=Math.log10,us=Math.sign;function vu(n,t,e){return Math.abs(n-t)<e}function mS(n){const t=Math.round(n);n=vu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Gr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function PV(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function NV(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Dl(n){return!NV(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function LV(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function k1(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ni(n){return n*(ue/180)}function $_(n){return n*(180/ue)}function yS(n){if(!ze(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function P1(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ue&&(o+=Re),{angle:o,distance:s}}function Iy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function VV(n,t){return(n-t+OV)%Re-ue}function Mn(n){return(n%Re+Re)%Re}function Lu(n,t,e,i){const s=Mn(n),o=Mn(t),l=Mn(e),u=Mn(o-s),f=Mn(l-s),d=Mn(s-o),m=Mn(s-l);return s===o||s===l||i&&o===l||u>f&&d<m}function pn(n,t,e){return Math.max(t,Math.min(e,n))}function UV(n){return pn(n,-32768,32767)}function Qs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function K_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const Zs=(n,t,e,i)=>K_(n,e,i?s=>{const o=n[s][t];return o<e||o===e&&n[s+1][t]===e}:s=>n[s][t]<e),zV=(n,t,e)=>K_(n,e,i=>n[i][t]>=e);function BV(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const N1=["push","pop","shift","splice","unshift"];function FV(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),N1.forEach(e=>{const i="_onData"+G_(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function _S(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(N1.forEach(o=>{delete n[o]}),delete n._chartjs)}function L1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const V1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function U1(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,V1.call(window,()=>{i=!1,n.apply(t,e)}))}}function jV(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const W_=n=>n==="start"?"left":n==="end"?"right":"center",In=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,HV=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function z1(n,t,e){const i=t.length;let s=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=l.axis,{min:_,max:v,minDefined:E,maxDefined:w}=l.getUserBounds();if(E){if(s=Math.min(Zs(f,m,_).lo,e?i:Zs(t,m,l.getPixelForValue(_)).lo),d){const x=f.slice(0,s+1).reverse().findIndex(R=>!Jt(R[u.axis]));s-=Math.max(0,x)}s=pn(s,0,i-1)}if(w){let x=Math.max(Zs(f,l.axis,v,!0).hi+1,e?0:Zs(t,m,l.getPixelForValue(v),!0).hi+1);if(d){const R=f.slice(x-1).findIndex(O=>!Jt(O[u.axis]));x+=Math.max(0,R)}o=pn(x,s,i)-s}else o=i-s}return{start:s,count:o}}function B1(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),o}const zf=n=>n===0||n===1,vS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Re/e)),bS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Re/e)+1,bu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ge)+1,easeOutSine:n=>Math.sin(n*Ge),easeInOutSine:n=>-.5*(Math.cos(ue*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>zf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>zf(n)?n:vS(n,.075,.3),easeOutElastic:n=>zf(n)?n:bS(n,.075,.3),easeInOutElastic(n){return zf(n)?n:n<.5?.5*vS(n*2,.1125,.45):.5+.5*bS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-bu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bu.easeInBounce(n*2)*.5:bu.easeOutBounce(n*2-1)*.5+.5};function X_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ES(n){return X_(n)?n:new ku(n)}function Bm(n){return X_(n)?n:new ku(n).saturate(.5).darken(.1).hexString()}const qV=["x","y","borderWidth","radius","tension"],YV=["color","borderColor","backgroundColor"];function GV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:YV},numbers:{type:"number",properties:qV}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $V(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const TS=new Map;function KV(n,t){t=t||{};const e=n+JSON.stringify(t);let i=TS.get(e);return i||(i=new Intl.NumberFormat(n,t),TS.set(e,i)),i}function sh(n,t,e){return KV(t,e).format(n)}const F1={values(n){return De(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=WV(n,e)}const l=Gr(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),sh(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Gr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?F1.numeric.call(this,n,t,e):""}};function WV(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var pg={formatters:F1};function XV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ao=Object.create(null),Dy=Object.create(null);function Eu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Fm(n,t,e){return typeof t=="string"?Pu(Eu(n,t),e):Pu(Eu(n,""),t)}class QV{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Bm(s.backgroundColor),this.hoverBorderColor=(i,s)=>Bm(s.borderColor),this.hoverColor=(i,s)=>Bm(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Fm(this,t,e)}get(t){return Eu(this,t)}describe(t,e){return Fm(Dy,t,e)}override(t,e){return Fm(ao,t,e)}route(t,e,i,s){const o=Eu(this,t),l=Eu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[s];return ne(f)?Object.assign({},d,f):Ht(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Me=new QV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GV,$V,XV]);function ZV(n){return!n||Jt(n.size)||Jt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function jd(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function JV(n,t,e,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let f,d,m,_,v;for(f=0;f<u;f++)if(_=e[f],_!=null&&!De(_))l=jd(n,s,o,l,_);else if(De(_))for(d=0,m=_.length;d<m;d++)v=_[d],v!=null&&!De(v)&&(l=jd(n,s,o,l,v));n.restore();const E=o.length/2;if(E>e.length){for(f=0;f<E;f++)delete s[o[f]];o.splice(0,E)}return l}function Ha(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function SS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function My(n,t,e,i){j1(n,t,e,i,null)}function j1(n,t,e,i,s){let o,l,u,f,d,m,_,v;const E=t.pointStyle,w=t.rotation,x=t.radius;let R=(w||0)*kV;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),E){default:s?n.ellipse(e,i,s/2,x,0,0,Re):n.arc(e,i,x,0,Re),n.closePath();break;case"triangle":m=s?s/2:x,n.moveTo(e+Math.sin(R)*m,i-Math.cos(R)*x),R+=pS,n.lineTo(e+Math.sin(R)*m,i-Math.cos(R)*x),R+=pS,n.lineTo(e+Math.sin(R)*m,i-Math.cos(R)*x),n.closePath();break;case"rectRounded":d=x*.516,f=x-d,l=Math.cos(R+ja)*f,_=Math.cos(R+ja)*(s?s/2-d:f),u=Math.sin(R+ja)*f,v=Math.sin(R+ja)*(s?s/2-d:f),n.arc(e-_,i-u,d,R-ue,R-Ge),n.arc(e+v,i-l,d,R-Ge,R),n.arc(e+_,i+u,d,R,R+Ge),n.arc(e-v,i+l,d,R+Ge,R+ue),n.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*x,m=s?s/2:f,n.rect(e-m,i-f,2*m,2*f);break}R+=ja;case"rectRot":_=Math.cos(R)*(s?s/2:x),l=Math.cos(R)*x,u=Math.sin(R)*x,v=Math.sin(R)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+v,i-l),n.lineTo(e+_,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":R+=ja;case"cross":_=Math.cos(R)*(s?s/2:x),l=Math.cos(R)*x,u=Math.sin(R)*x,v=Math.sin(R)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":_=Math.cos(R)*(s?s/2:x),l=Math.cos(R)*x,u=Math.sin(R)*x,v=Math.sin(R)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),R+=ja,_=Math.cos(R)*(s?s/2:x),l=Math.cos(R)*x,u=Math.sin(R)*x,v=Math.sin(R)*(s?s/2:x),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=s?s/2:Math.cos(R)*x,u=Math.sin(R)*x,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(s?s/2:x),i+Math.sin(R)*x);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Js(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function mg(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function yg(n){n.restore()}function t4(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function e4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function n4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Jt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function i4(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,m=s.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,m),n.lineTo(u,m),n.stroke()}}function s4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function oo(n,t,e,i,s,o={}){const l=De(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=s.string,n4(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&s4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Jt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),i4(n,e,i,d,o),i+=Number(s.lineHeight);n.restore()}function Vu(n,t){const{x:e,y:i,w:s,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ue,ue,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,ue,Ge,!0),n.lineTo(e+s-l.bottomRight,i+o),n.arc(e+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Ge,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Ge,!0),n.lineTo(e+l.topLeft,i)}const r4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o4(n,t){const e=(""+n).match(r4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const l4=n=>+n||0;function Q_(n,t){const e={},i=ne(t),s=i?Object.keys(t):t,o=ne(n)?i?l=>Ht(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=l4(o(l));return e}function H1(n){return Q_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Za(n){return Q_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Nn(n){const t=H1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function an(n,t){n=n||{},t=t||Me.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(a4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Ht(n.family,t.family),lineHeight:o4(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return s.string=ZV(s),s}function ou(n,t,e,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function c4(n,t,e){const{min:i,max:s}=n,o=M1(t,(s-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function fa(n,t){return Object.assign(Object.create(n),t)}function Z_(n,t=[""],e,i,s=()=>n[0]){const o=e||n;typeof i>"u"&&(i=$1("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>Z_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return Y1(u,f,()=>y4(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return xS(u).includes(f)},ownKeys(u){return xS(u)},set(u,f,d){const m=u._storage||(u._storage=s());return u[f]=m[f]=d,delete u._keys,!0}})}function Ml(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:q1(n,i),setContext:o=>Ml(n,o,e,i),override:o=>Ml(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return Y1(o,l,()=>h4(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function q1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:ca(e)?e:()=>e,isIndexable:ca(i)?i:()=>i}}const u4=(n,t)=>n?n+G_(t):t,J_=(n,t)=>ne(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Y1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function h4(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let u=i[t];return ca(u)&&l.isScriptable(t)&&(u=f4(t,u,n,e)),De(u)&&u.length&&(u=d4(t,u,n,l.isIndexable)),J_(t,u)&&(u=Ml(u,s,o&&o[t],l)),u}function f4(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),J_(n,f)&&(f=tv(s._scopes,s,n,f)),f}function d4(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(ne(t[0])){const f=t,d=s._scopes.filter(m=>m!==f);t=[];for(const m of f){const _=tv(d,s,n,m);t.push(Ml(_,o,l&&l[n],u))}}return t}function G1(n,t,e){return ca(n)?n(t,e):n}const g4=(n,t)=>n===!0?t:typeof n=="string"?la(t,n):void 0;function p4(n,t,e,i,s){for(const o of t){const l=g4(e,o);if(l){n.add(l);const u=G1(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function tv(n,t,e,i){const s=t._rootScopes,o=G1(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let f=wS(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=wS(u,l,o,f,i),f===null)?!1:Z_(Array.from(u),[""],s,o,()=>m4(t,e,i))}function wS(n,t,e,i,s){for(;e;)e=p4(n,t,e,i,s);return e}function m4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return De(s)&&ne(e)?e:s||{}}function y4(n,t,e,i){let s;for(const o of t)if(s=$1(u4(o,n),e),typeof s<"u")return J_(n,s)?tv(e,i,n,s):s}function $1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function xS(n){let t=n._keys;return t||(t=n._keys=_4(n._scopes)),t}function _4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function K1(n,t,e,i){const{iScale:s}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,f,d,m;for(u=0,f=i;u<f;++u)d=u+e,m=t[d],l[u]={r:s.parse(la(m,o),d)};return l}const v4=Number.EPSILON||1e-14,Ol=(n,t)=>t<n.length&&!n[t].skip&&n[t],W1=n=>n==="x"?"y":"x";function b4(n,t,e,i){const s=n.skip?t:n,o=t,l=e.skip?t:e,u=Iy(o,s),f=Iy(l,o);let d=u/(u+f),m=f/(u+f);d=isNaN(d)?0:d,m=isNaN(m)?0:m;const _=i*d,v=i*m;return{previous:{x:o.x-_*(l.x-s.x),y:o.y-_*(l.y-s.y)},next:{x:o.x+v*(l.x-s.x),y:o.y+v*(l.y-s.y)}}}function E4(n,t,e){const i=n.length;let s,o,l,u,f,d=Ol(n,0);for(let m=0;m<i-1;++m)if(f=d,d=Ol(n,m+1),!(!f||!d)){if(vu(t[m],0,v4)){e[m]=e[m+1]=0;continue}s=e[m]/t[m],o=e[m+1]/t[m],u=Math.pow(s,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[m]=s*l*t[m],e[m+1]=o*l*t[m])}}function T4(n,t,e="x"){const i=W1(e),s=n.length;let o,l,u,f=Ol(n,0);for(let d=0;d<s;++d){if(l=u,u=f,f=Ol(n,d+1),!u)continue;const m=u[e],_=u[i];l&&(o=(m-l[e])/3,u[`cp1${e}`]=m-o,u[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-m)/3,u[`cp2${e}`]=m+o,u[`cp2${i}`]=_+o*t[d])}}function S4(n,t="x"){const e=W1(t),i=n.length,s=Array(i).fill(0),o=Array(i);let l,u,f,d=Ol(n,0);for(l=0;l<i;++l)if(u=f,f=d,d=Ol(n,l+1),!!f){if(d){const m=d[t]-f[t];s[l]=m!==0?(d[e]-f[e])/m:0}o[l]=u?d?us(s[l-1])!==us(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}E4(n,s,o),T4(n,o,t)}function Bf(n,t,e){return Math.max(Math.min(n,e),t)}function w4(n,t){let e,i,s,o,l,u=Js(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&Js(n[e+1],t),o&&(s=n[e],l&&(s.cp1x=Bf(s.cp1x,t.left,t.right),s.cp1y=Bf(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=Bf(s.cp2x,t.left,t.right),s.cp2y=Bf(s.cp2y,t.top,t.bottom)))}function x4(n,t,e,i,s){let o,l,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")S4(n,s);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],f=b4(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&w4(n,e)}function ev(){return typeof window<"u"&&typeof document<"u"}function nv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Hd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _g=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function A4(n,t){return _g(n).getPropertyValue(t)}const R4=["top","right","bottom","left"];function Ja(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=R4[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const C4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function I4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,u,f;if(C4(s,o,n.target))u=s,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function Ka(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=_g(e),o=s.boxSizing==="border-box",l=Ja(s,"padding"),u=Ja(s,"border","width"),{x:f,y:d,box:m}=I4(n,e),_=l.left+(m&&u.left),v=l.top+(m&&u.top);let{width:E,height:w}=t;return o&&(E-=l.width+u.width,w-=l.height+u.height),{x:Math.round((f-_)/E*e.width/i),y:Math.round((d-v)/w*e.height/i)}}function D4(n,t,e){let i,s;if(t===void 0||e===void 0){const o=n&&nv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=_g(o),f=Ja(u,"border","width"),d=Ja(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=Hd(u.maxWidth,o,"clientWidth"),s=Hd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Fd,maxHeight:s||Fd}}const Ff=n=>Math.round(n*10)/10;function M4(n,t,e,i){const s=_g(n),o=Ja(s,"margin"),l=Hd(s.maxWidth,n,"clientWidth")||Fd,u=Hd(s.maxHeight,n,"clientHeight")||Fd,f=D4(n,t,e);let{width:d,height:m}=f;if(s.boxSizing==="content-box"){const v=Ja(s,"border","width"),E=Ja(s,"padding");d-=E.width+v.width,m-=E.height+v.height}return d=Math.max(0,d-o.width),m=Math.max(0,i?d/i:m-o.height),d=Ff(Math.min(d,l,f.maxWidth)),m=Ff(Math.min(m,u,f.maxHeight)),d&&!m&&(m=Ff(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,d=Ff(Math.floor(m*i))),{width:d,height:m}}function AS(n,t,e){const i=t||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const O4=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ev()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function RS(n,t){const e=A4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Wa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function k4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function P4(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Wa(n,s,e),u=Wa(s,o,e),f=Wa(o,t,e),d=Wa(l,u,e),m=Wa(u,f,e);return Wa(d,m,e)}const N4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},L4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function El(n,t,e){return n?N4(t,e):L4()}function X1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Q1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Z1(n){return n==="angle"?{between:Lu,compare:VV,normalize:Mn}:{between:Qs,compare:(t,e)=>t-e,normalize:t=>t}}function CS({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function V4(n,t,e){const{property:i,start:s,end:o}=e,{between:l,normalize:u}=Z1(i),f=t.length;let{start:d,end:m,loop:_}=n,v,E;if(_){for(d+=f,m+=f,v=0,E=f;v<E&&l(u(t[d%f][i]),s,o);++v)d--,m--;d%=f,m%=f}return m<d&&(m+=f),{start:d,end:m,loop:_,style:n.style}}function J1(n,t,e){if(!e)return[n];const{property:i,start:s,end:o}=e,l=t.length,{compare:u,between:f,normalize:d}=Z1(i),{start:m,end:_,loop:v,style:E}=V4(n,t,e),w=[];let x=!1,R=null,O,N,j;const $=()=>f(s,j,O)&&u(s,j)!==0,F=()=>u(o,O)===0||f(o,j,O),tt=()=>x||$(),M=()=>!x||F();for(let C=m,D=m;C<=_;++C)N=t[C%l],!N.skip&&(O=d(N[i]),O!==j&&(x=f(O,s,o),R===null&&tt()&&(R=u(O,s)===0?C:D),R!==null&&M()&&(w.push(CS({start:R,end:C,loop:v,count:l,style:E})),R=null),D=C,j=O));return R!==null&&w.push(CS({start:R,end:_,loop:v,count:l,style:E})),w}function tR(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const o=J1(i[s],n.points,t);o.length&&e.push(...o)}return e}function U4(n,t,e,i){let s=0,o=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&n[o%t].skip;)o--;return o%=t,{start:s,end:o}}function z4(n,t,e,i){const s=n.length,o=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%s];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%s,end:(f-1)%s,loop:i}),t=l=d.stop?f:null):(l=f,u.skip&&(t=f)),u=d}return l!==null&&o.push({start:t%s,end:l%s,loop:i}),o}function B4(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const o=!!n._loop,{start:l,end:u}=U4(e,s,o,i);if(i===!0)return IS(n,[{start:l,end:u,loop:o}],e,t);const f=u<l?u+s:u,d=!!n._fullLoop&&l===0&&u===s-1;return IS(n,z4(e,l,f,d),e,t)}function IS(n,t,e,i){return!i||!i.setContext||!e?t:F4(n,t,e,i)}function F4(n,t,e,i){const s=n._chart.getContext(),o=DS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,d=[];let m=o,_=t[0].start,v=_;function E(w,x,R,O){const N=u?-1:1;if(w!==x){for(w+=f;e[w%f].skip;)w-=N;for(;e[x%f].skip;)x+=N;w%f!==x%f&&(d.push({start:w%f,end:x%f,loop:R,style:O}),m=O,_=x%f)}}for(const w of t){_=u?_:w.start;let x=e[_%f],R;for(v=_+1;v<=w.end;v++){const O=e[v%f];R=DS(i.setContext(fa(s,{type:"segment",p0:x,p1:O,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:l}))),j4(R,m)&&E(_,v-1,w.loop,m),x=O,m=R}_<v-1&&E(_,v-1,w.loop,m)}return d}function DS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function j4(n,t){if(!t)return!1;const e=[],i=function(s,o){return X_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function jf(n,t,e){return n.options.clip?n[e]:t[e]}function H4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:jf(e,t,"left"),right:jf(e,t,"right"),top:jf(i,t,"top"),bottom:jf(i,t,"bottom")}:t}function eR(n,t){const e=t._clip;if(e.disabled)return!1;const i=H4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class q4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=V1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gs=new q4;const MS="transparent",Y4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=ES(n||MS),s=i.valid&&ES(t||MS);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class G4{constructor(t,e,i,s){const o=e[i];s=ou([t.to,s,o,t.from]);const l=ou([t.from,o,s]);this._active=!0,this._fn=t.fn||Y4[t.type||typeof l],this._easing=bu[t.easing]||bu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ou([t.to,e,s,t.from]),this._from=ou([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class nR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ne(t))return;const e=Object.keys(Me.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!ne(o))return;const l={};for(const u of e)l[u]=o[u];(De(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=K4(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&$4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const m=e[d];let _=o[d];const v=i.get(d);if(_)if(v&&_.active()){_.update(v,m,u);continue}else _.cancel();if(!v||!v.duration){t[d]=m;continue}o[d]=_=new G4(v,t,d,m),s.push(_)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Gs.add(this._chart,i),!0}}function $4(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function K4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function OS(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function W4(n,t,e){if(e===!1)return!1;const i=OS(n,e),s=OS(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function X4(n){let t,e,i,s;return ne(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function iR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function kS(n,t,e,i={}){const s=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let m=!1;for(l=0,u=s.length;l<u;++l){if(f=+s[l],f===e){if(m=!0,i.all)continue;break}d=n.values[f],ze(d)&&(o||t===0||us(t)===us(d))&&(t+=d)}return!m&&!i.all?0:t}function Q4(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,m;for(f=0,d=l.length;f<d;++f)m=l[f],u[f]={[s]:m,[o]:n[m]};return u}function jm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Z4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function J4(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function t3(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function PS(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function NS(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,m=Z4(o,l,i),_=t.length;let v;for(let E=0;E<_;++E){const w=t[E],{[f]:x,[d]:R}=w,O=w._stacks||(w._stacks={});v=O[d]=t3(s,m,x),v[u]=R,v._top=PS(v,l,!0,i.type),v._bottom=PS(v,l,!1,i.type);const N=v._visualValues||(v._visualValues={});N[u]=R}}function Hm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function e3(n,t){return fa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function n3(n,t,e){return fa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Wc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const qm=n=>n==="reset"||n==="none",LS=(n,t)=>t?n:Object.assign({},n),i3=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:iR(e,!0),values:null};class Li{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=jm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Wc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(_,v,E,w)=>_==="x"?v:_==="r"?w:E,o=e.xAxisID=Ht(i.xAxisID,Hm(t,"x")),l=e.yAxisID=Ht(i.yAxisID,Hm(t,"y")),u=e.rAxisID=Ht(i.rAxisID,Hm(t,"r")),f=e.indexAxis,d=e.iAxisID=s(f,o,l,u),m=e.vAxisID=s(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_S(this._data,this),t._stacked&&Wc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ne(e)){const s=this._cachedMeta;this._data=Q4(e,s)}else if(i!==e){if(i){_S(i,this);const s=this._cachedMeta;Wc(s),s._parsed=[]}e&&Object.isExtensible(e)&&FV(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=jm(e.vScale,e),e.stack!==i.stack&&(s=!0,Wc(e),e.stack=i.stack),this._resyncElements(t),(s||o!==e._stacked)&&(NS(this,e._parsed),e._stacked=jm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],m,_,v;if(this._parsing===!1)i._parsed=s,i._sorted=!0,v=s;else{De(s[t])?v=this.parseArrayData(i,s,t,e):ne(s[t])?v=this.parseObjectData(i,s,t,e):v=this.parsePrimitiveData(i,s,t,e);const E=()=>_[u]===null||d&&_[u]<d[u];for(m=0;m<e;++m)i._parsed[m+t]=_=v[m],f&&(E()&&(f=!1),d=_);i._sorted=f}l&&NS(this,v)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),m=o===l,_=new Array(s);let v,E,w;for(v=0,E=s;v<E;++v)w=v+i,_[v]={[u]:m||o.parse(d[w],w),[f]:l.parse(e[w],w)};return _}parseArrayData(t,e,i,s){const{xScale:o,yScale:l}=t,u=new Array(s);let f,d,m,_;for(f=0,d=s;f<d;++f)m=f+i,_=e[m],u[f]={x:o.parse(_[0],m),y:l.parse(_[1],m)};return u}parseObjectData(t,e,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(s);let m,_,v,E;for(m=0,_=s;m<_;++m)v=m+i,E=e[v],d[m]={x:o.parse(la(E,u),v),y:l.parse(la(E,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:iR(s,!0),values:e._stacks[t.axis]._visualValues};return kS(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let l=o===null?NaN:o;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=kS(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),f=i3(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=J4(u);let v,E;function w(){E=s[v];const x=E[u.axis];return!ze(E[t.axis])||m>x||_<x}for(v=0;v<l&&!(!w()&&(this.updateRangeFromParsed(d,t,E,f),o));++v);if(o){for(v=l-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(d,t,E,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s][t.axis],ze(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=X4(Ht(this.options.clip,W4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||s.length-u,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,u,f),m=u;m<u+f;++m){const _=s[m];_.hidden||(_.active&&d?l.push(_):_.draw(t,o))}for(m=0;m<l.length;++m)l[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=n3(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=e3(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&Nu(i);if(u)return LS(u,f);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),_=s?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),m),E=Object.keys(Me.elements[t]),w=()=>this.getContext(i,s,e),x=d.resolveNamedOptions(v,E,w,_);return x.$shared&&(x.$shared=f,o[l]=Object.freeze(LS(x,f))),x}_resolveAnimations(t,e,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(s.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),v=m.getOptionScopes(this.getDataset(),_);f=m.createResolver(v,this.getContext(t,i,e))}const d=new nR(s,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||qm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,s){qm(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!qm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const s=i.length,o=e.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,i=!0){const s=this._cachedMeta,o=s.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Wc(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dt(Li,"defaults",{}),dt(Li,"datasetElementType",null),dt(Li,"dataElementType",null);function s3(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=e.length;s<o;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=L1(i.sort((s,o)=>s-o))}return n._cache.$bar}function r3(n){const t=n.iScale,e=s3(t,n.type);let i=t._length,s,o,l,u;const f=()=>{l===32767||l===-32768||(Nu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=e.length;s<o;++s)l=t.getPixelForValue(e[s]),f();for(u=void 0,s=0,o=t.ticks.length;s<o;++s)l=t.getPixelForTick(s),f();return i}function a3(n,t,e,i){const s=e.barThickness;let o,l;return Jt(s)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function o3(n,t,e,i){const s=t.pixels,o=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function l3(n,t,e,i){const s=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(s,o),u=Math.max(s,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:s,end:o,min:l,max:u}}function sR(n,t,e,i){return De(n)?l3(n,t,e,i):t[e.axis]=e.parse(n,i),t}function VS(n,t,e,i){const s=n.iScale,o=n.vScale,l=s.getLabels(),u=s===o,f=[];let d,m,_,v;for(d=e,m=e+i;d<m;++d)v=t[d],_={},_[s.axis]=u||s.parse(l[d],d),f.push(sR(v,_,o,d));return f}function Ym(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function c3(n,t,e){return n!==0?us(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function u3(n){let t,e,i,s,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:i,reverse:t,top:s,bottom:o}}function h3(n,t,e,i){let s=t.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:m}=u3(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=d:(e._bottom||0)===i?s=m:(o[US(m,l,u,f)]=!0,s=d)),o[US(s,l,u,f)]=!0,n.borderSkipped=o}function US(n,t,e,i){return i?(n=f3(n,t,e),n=zS(n,e,t)):n=zS(n,t,e),n}function f3(n,t,e){return n===t?e:n===e?t:n}function zS(n,t,e){return n==="start"?t:n==="end"?e:n}function d3(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class cd extends Li{parsePrimitiveData(t,e,i,s){return VS(t,e,i,s)}parseArrayData(t,e,i,s){return VS(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,m=l.axis==="x"?u:f,_=[];let v,E,w,x;for(v=i,E=i+s;v<E;++v)x=e[v],w={},w[o.axis]=o.parse(la(x,d),v),_.push(sR(la(x,m),w,l,v));return _}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,o=this.getParsed(t),l=o._custom,u=Ym(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,s);for(let E=e;E<e+i;E++){const w=this.getParsed(E),x=o||Jt(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),R=this._calculateBarIndexPixels(E,m),O=(w._stacks||{})[u.axis],N={horizontal:d,base:x.base,enableBorderRadius:!O||Ym(w._custom)||l===O._top||l===O._bottom,x:d?x.head:R.center,y:d?R.center:x.head,height:d?R.size:Math.abs(x.size),width:d?Math.abs(x.size):R.size};v&&(N.options=_||this.resolveDataElementOptions(E,t[E].active?"active":s));const j=N.options||t[E].options;h3(N,j,O,l),d3(N,j,m.ratio),this.updateElement(t[E],E,N,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=m=>{const _=m._parsed.find(E=>E[i.axis]===f),v=_&&_[m.vScale.axis];if(Jt(v)||isNaN(v))return!0};for(const m of s)if(!(e!==void 0&&d(m))&&((o===!1||l.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ht(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let o,l;for(o=0,l=e.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||r3(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,m=Ym(d);let _=f[e.axis],v=0,E=i?this.applyStack(e,f,i):_,w,x;E!==_&&(v=E-_,E=_),m&&(_=d.barStart,E=d.barEnd-d.barStart,_!==0&&us(_)!==us(d.barEnd)&&(v=0),v+=_);const R=!Jt(o)&&!m?o:v;let O=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(v+E):w=O,x=w-O,Math.abs(x)<l){x=c3(x,e,u)*l,_===u&&(O-=x/2);const N=e.getPixelForDecimal(0),j=e.getPixelForDecimal(1),$=Math.min(N,j),F=Math.max(N,j);O=Math.max(Math.min(O,F),$),w=O+x,i&&!m&&(f._stacks[e.axis]._visualValues[s]=e.getValueForPixel(w)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const N=us(x)*e.getLineWidthForValue(u)/2;O+=N,x-=N}return{size:x,base:O,head:w,center:w+x/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,o=s.skipNull,l=Ht(s.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const m=o?this._getStackCount(t):e.stackCount,_=s.barThickness==="flex"?o3(t,e,s,m*d):a3(t,e,s,m*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Ht(v,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;u=_.start+_.chunk*w+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}dt(cd,"id","bar"),dt(cd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),dt(cd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ud extends Li{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const o=super.parsePrimitiveData(t,e,i,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,s){const o=super.parseArrayData(t,e,i,s);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ht(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,s){const o=super.parseObjectData(t,e,i,s);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ht(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),u=s.getLabelForValue(l.x),f=o.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+f+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,s),m=l.axis,_=u.axis;for(let v=e;v<e+i;v++){const E=t[v],w=!o&&this.getParsed(v),x={},R=x[m]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[m]),O=x[_]=o?u.getBasePixel():u.getPixelForValue(w[_]);x.skip=isNaN(R)||isNaN(O),d&&(x.options=f||this.resolveDataElementOptions(v,E.active?"active":s),o&&(x.options.radius=0)),this.updateElement(E,v,x,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=Ht(i&&i._custom,o),s}}dt(ud,"id","bubble"),dt(ud,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),dt(ud,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function g3(n,t,e){let i=1,s=1,o=0,l=0;if(t<Re){const u=n,f=u+t,d=Math.cos(u),m=Math.sin(u),_=Math.cos(f),v=Math.sin(f),E=(j,$,F)=>Lu(j,u,f,!0)?1:Math.max($,$*e,F,F*e),w=(j,$,F)=>Lu(j,u,f,!0)?-1:Math.min($,$*e,F,F*e),x=E(0,d,_),R=E(Ge,m,v),O=w(ue,d,_),N=w(ue+Ge,m,v);i=(x-O)/2,s=(R-N)/2,o=-(x+O)/2,l=-(R+N)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:l}}class Qa extends Li{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=f=>+i[f];if(ne(i[t])){const{key:f="value"}=this._parsing;o=d=>+la(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)s._parsed[l]=o(l)}}_getRotation(){return Ni(this.options.rotation-90)}_getCircumference(){return Ni(this.options.circumference)}_getRotationExtents(){let t=Re,e=-Re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(AV(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:w,offsetY:x}=g3(_,m,f),R=(i.width-l)/v,O=(i.height-l)/E,N=Math.max(Math.min(R,O)/2,0),j=M1(this.options.radius,N),$=Math.max(j*f,0),F=(j-$)/this._getVisibleDatasetWeightTotal();this.offsetX=w*j,this.offsetY=x*j,s.total=this.calculateTotal(),this.outerRadius=j-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Re)}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,m=(u.left+u.right)/2,_=(u.top+u.bottom)/2,v=o&&d.animateScale,E=v?0:this.innerRadius,w=v?0:this.outerRadius,{sharedOptions:x,includeOptions:R}=this._getSharedOptions(e,s);let O=this._getRotation(),N;for(N=0;N<e;++N)O+=this._circumference(N,o);for(N=e;N<e+i;++N){const j=this._circumference(N,o),$=t[N],F={x:m+this.offsetX,y:_+this.offsetY,startAngle:O,endAngle:O+j,circumference:j,outerRadius:w,innerRadius:E};R&&(F.options=x||this.resolveDataElementOptions(N,$.active?"active":s)),O+=j,this.updateElement($,N,F,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Re*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=sh(e._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,o,l,u,f;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,u=l.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)f=u.resolveDataElementOptions(s),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}dt(Qa,"id","doughnut"),dt(Qa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),dt(Qa,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),dt(Qa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:s,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class hd extends Li{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=z1(e,s,l);this._drawStart=u,this._drawCount=f,B1(e)&&(u=0,f=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,u,f,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,s),v=l.axis,E=u.axis,{spanGaps:w,segment:x}=this.options,R=Dl(w)?w:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||s==="none",N=e+i,j=t.length;let $=e>0&&this.getParsed(e-1);for(let F=0;F<j;++F){const tt=t[F],M=O?tt:{};if(F<e||F>=N){M.skip=!0;continue}const C=this.getParsed(F),D=Jt(C[E]),k=M[v]=l.getPixelForValue(C[v],F),L=M[E]=o||D?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,C,f):C[E],F);M.skip=isNaN(k)||isNaN(L)||D,M.stop=F>0&&Math.abs(C[v]-$[v])>R,x&&(M.parsed=C,M.raw=d.data[F]),_&&(M.options=m||this.resolveDataElementOptions(F,tt.active?"active":s)),O||this.updateElement(tt,F,M,s),$=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}dt(hd,"id","line"),dt(hd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),dt(hd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Tu extends Li{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=sh(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,e,i,s){return K1.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,f=l.options.animation,d=this._cachedMeta.rScale,m=d.xCenter,_=d.yCenter,v=d.getIndexAngle(0)-.5*ue;let E=v,w;const x=360/this.countVisibleElements();for(w=0;w<e;++w)E+=this._computeAngle(w,s,x);for(w=e;w<e+i;w++){const R=t[w];let O=E,N=E+this._computeAngle(w,s,x),j=l.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;E=N,o&&(f.animateScale&&(j=0),f.animateRotate&&(O=N=v));const $={x:m,y:_,innerRadius:0,outerRadius:j,startAngle:O,endAngle:N,options:this.resolveDataElementOptions(w,R.active?"active":s)};this.updateElement(R,w,$,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ni(this.resolveDataElementOptions(t,e).angle||i):0}}dt(Tu,"id","polarArea"),dt(Tu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),dt(Tu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:s,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Oy extends Qa{}dt(Oy,"id","pie"),dt(Oy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fd extends Li{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return K1.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],o=e.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===s.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const o=this._cachedMeta.rScale,l=s==="reset";for(let u=e;u<e+i;u++){const f=t[u],d=this.resolveDataElementOptions(u,f.active?"active":s),m=o.getPointPositionForValue(u,this.getParsed(u).r),_=l?o.xCenter:m.x,v=l?o.yCenter:m.y,E={x:_,y:v,angle:m.angle,skip:isNaN(_)||isNaN(v),options:d};this.updateElement(f,u,E,s)}}}dt(fd,"id","radar"),dt(fd,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),dt(fd,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dd extends Li{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),u=s.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:o,count:l}=z1(e,i,s);if(this._drawStart=o,this._drawCount=l,B1(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,m=this.resolveDataElementOptions(e,s),_=this.getSharedOptions(m),v=this.includeOptions(s,_),E=l.axis,w=u.axis,{spanGaps:x,segment:R}=this.options,O=Dl(x)?x:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||s==="none";let j=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const F=t[$],tt=this.getParsed($),M=N?F:{},C=Jt(tt[w]),D=M[E]=l.getPixelForValue(tt[E],$),k=M[w]=o||C?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,tt,f):tt[w],$);M.skip=isNaN(D)||isNaN(k)||C,M.stop=$>0&&Math.abs(tt[E]-j[E])>O,R&&(M.parsed=tt,M.raw=d.data[$]),v&&(M.options=_||this.resolveDataElementOptions($,F.active?"active":s)),N||this.updateElement(F,$,M,s),j=tt}this.updateSharedOptions(_,s,m)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let f=e.length-1;f>=0;--f)u=Math.max(u,e[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,o,l)/2}}dt(dd,"id","scatter"),dt(dd,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),dt(dd,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var p3=Object.freeze({__proto__:null,BarController:cd,BubbleController:ud,DoughnutController:Qa,LineController:hd,PieController:Oy,PolarAreaController:Tu,RadarController:fd,ScatterController:dd});function qa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class iv{constructor(t){dt(this,"options");this.options=t||{}}static override(t){Object.assign(iv.prototype,t)}init(){}formats(){return qa()}parse(){return qa()}format(){return qa()}add(){return qa()}diff(){return qa()}startOf(){return qa()}endOf(){return qa()}}var m3={_date:iv};function y3(n,t,e,i){const{controller:s,data:o,_sorted:l}=n,u=s._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?zV:Zs;if(i){if(s._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const v=d(o,t,e-_),E=d(o,t,e+_);return{lo:v.lo,hi:E.hi}}}}else{const m=d(o,t,e);if(f){const{vScale:_}=s._cachedMeta,{_parsed:v}=n,E=v.slice(0,m.lo+1).reverse().findIndex(x=>!Jt(x[_.axis]));m.lo-=Math.max(0,E);const w=v.slice(m.hi).findIndex(x=>!Jt(x[_.axis]));m.hi+=Math.max(0,w)}return m}}return{lo:0,hi:o.length-1}}function vg(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:m}=o[u],{lo:_,hi:v}=y3(o[u],t,l,s);for(let E=_;E<=v;++E){const w=m[E];w.skip||i(w,d,E)}}}function _3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Gm(n,t,e,i,s){const o=[];return!s&&!n.isPointInArea(t)||vg(n,e,t,function(u,f,d){!s&&!Js(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function v3(n,t,e,i){let s=[];function o(l,u,f){const{startAngle:d,endAngle:m}=l.getProps(["startAngle","endAngle"],i),{angle:_}=P1(l,{x:t.x,y:t.y});Lu(_,d,m)&&s.push({element:l,datasetIndex:u,index:f})}return vg(n,e,t,o),s}function b3(n,t,e,i,s,o){let l=[];const u=_3(e);let f=Number.POSITIVE_INFINITY;function d(m,_,v){const E=m.inRange(t.x,t.y,s);if(i&&!E)return;const w=m.getCenterPoint(s);if(!(!!o||n.isPointInArea(w))&&!E)return;const R=u(t,w);R<f?(l=[{element:m,datasetIndex:_,index:v}],f=R):R===f&&l.push({element:m,datasetIndex:_,index:v})}return vg(n,e,t,d),l}function $m(n,t,e,i,s,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?v3(n,t,e,s):b3(n,t,e,i,s,o)}function BS(n,t,e,i,s){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return vg(n,e,t,(f,d,m)=>{f[l]&&f[l](t[e],s)&&(o.push({element:f,datasetIndex:d,index:m}),u=u||f.inRange(t.x,t.y,s))}),i&&!u?[]:o}var E3={modes:{index(n,t,e,i){const s=Ka(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Gm(n,s,o,i,l):$m(n,s,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,_=d.data[m];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:m})}),f):[]},dataset(n,t,e,i){const s=Ka(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Gm(n,s,o,i,l):$m(n,s,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:f,index:m})}return u},point(n,t,e,i){const s=Ka(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Gm(n,s,o,i,l)},nearest(n,t,e,i){const s=Ka(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return $m(n,s,o,e.intersect,i,l)},x(n,t,e,i){const s=Ka(t,n);return BS(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Ka(t,n);return BS(n,s,"y",e.intersect,i)}}};const rR=["left","top","right","bottom"];function Xc(n,t){return n.filter(e=>e.pos===t)}function FS(n,t){return n.filter(e=>rR.indexOf(e.pos)===-1&&e.box.axis===t)}function Qc(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function T3(n){const t=[];let e,i,s,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return t}function S3(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!rR.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function w3(n,t){const e=S3(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*i:f&&t.availableWidth,u.height=s):(u.width=i,u.height=m?m*s:f&&t.availableHeight)}return e}function x3(n){const t=T3(n),e=Qc(t.filter(d=>d.box.fullSize),!0),i=Qc(Xc(t,"left"),!0),s=Qc(Xc(t,"right")),o=Qc(Xc(t,"top"),!0),l=Qc(Xc(t,"bottom")),u=FS(t,"x"),f=FS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(f).concat(l).concat(u),chartArea:Xc(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:o.concat(l).concat(u)}}function jS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function aR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function A3(n,t,e,i){const{pos:s,box:o}=e,l=n.maxPadding;if(!ne(s)){e.size&&(n[s]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[s]+=e.size}o.getPadding&&aR(l,o.getPadding());const u=Math.max(0,t.outerWidth-jS(l,n,"left","right")),f=Math.max(0,t.outerHeight-jS(l,n,"top","bottom")),d=u!==n.w,m=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:m}:{same:m,other:d}}function R3(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function C3(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function lu(n,t,e,i){const s=[];let o,l,u,f,d,m;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,C3(u.horizontal,t));const{same:_,other:v}=A3(t,e,u,i);d|=_&&s.length,m=m||v,f.fullSize||s.push(u)}return d&&lu(s,t,e,i)||m}function Hf(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function HS(n,t,e,i){const s=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*m,v=d.size||f.height;Nu(d.start)&&(l=d.start),f.fullSize?Hf(f,s.left,l,e.outerWidth-s.right-s.left,v):Hf(f,t.left+d.placed,l,_,v),d.start=l,d.placed+=_,l=f.bottom}else{const _=t.h*m,v=d.size||f.width;Nu(d.start)&&(o=d.start),f.fullSize?Hf(f,o,s.top,v,e.outerHeight-s.bottom-s.top):Hf(f,o,t.top+d.placed,v,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=l}var kn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Nn(n.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=x3(n.boxes),f=u.vertical,d=u.horizontal;_e(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const m=f.reduce((x,R)=>R.box.options&&R.box.options.display===!1?x:x+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),v=Object.assign({},s);aR(v,Nn(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:s.left,y:s.top},s),w=w3(f.concat(d),_);lu(u.fullSize,E,_,w),lu(f,E,_,w),lu(d,E,_,w)&&lu(f,E,_,w),R3(E),HS(u.leftAndTop,E,_,w),E.x+=E.w,E.y+=E.h,HS(u.rightAndBottom,E,_,w),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},_e(u.chartArea,x=>{const R=x.box;Object.assign(R,n.chartArea),R.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class oR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class I3 extends oR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const gd="$chartjs",D3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qS=n=>n===null||n==="";function M3(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[gd]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",qS(s)){const o=RS(n,"width");o!==void 0&&(n.width=o)}if(qS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=RS(n,"height");o!==void 0&&(n.height=o)}return n}const lR=O4?{passive:!0}:!1;function O3(n,t,e){n&&n.addEventListener(t,e,lR)}function k3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,lR)}function P3(n,t){const e=D3[n.type]||n.type,{x:i,y:s}=Ka(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function qd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function N3(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||qd(u.addedNodes,i),l=l&&!qd(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function L3(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||qd(u.removedNodes,i),l=l&&!qd(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Uu=new Map;let YS=0;function cR(){const n=window.devicePixelRatio;n!==YS&&(YS=n,Uu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function V3(n,t){Uu.size||window.addEventListener("resize",cR),Uu.set(n,t)}function U3(n){Uu.delete(n),Uu.size||window.removeEventListener("resize",cR)}function z3(n,t,e){const i=n.canvas,s=i&&nv(i);if(!s)return;const o=U1((u,f)=>{const d=s.clientWidth;e(u,f),d<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,m=f.contentRect.height;d===0&&m===0||o(d,m)});return l.observe(s),V3(n,o),l}function Km(n,t,e){e&&e.disconnect(),t==="resize"&&U3(n)}function B3(n,t,e){const i=n.canvas,s=U1(o=>{n.ctx!==null&&e(P3(o,n))},n);return O3(i,t,s),s}class F3 extends oR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(M3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gd])return!1;const i=e[gd].initial;["height","width"].forEach(o=>{const l=i[o];Jt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[gd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:N3,detach:L3,resize:z3}[e]||B3;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Km,detach:Km,resize:Km}[e]||k3)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return M4(t,e,i,s)}isAttached(t){const e=t&&nv(t);return!!(e&&e.isConnected)}}function j3(n){return!ev()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?I3:F3}class zi{constructor(){dt(this,"x");dt(this,"y");dt(this,"active",!1);dt(this,"options");dt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Dl(this.x)&&Dl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}dt(zi,"defaults",{}),dt(zi,"defaultRoutes");function H3(n,t){const e=n.options.ticks,i=q3(n),s=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?G3(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>s)return $3(t,d,o,l/s),d;const m=Y3(o,t,s);if(l>0){let _,v;const E=l>1?Math.round((f-u)/(l-1)):null;for(qf(t,d,m,Jt(E)?0:u-E,u),_=0,v=l-1;_<v;_++)qf(t,d,m,o[_],o[_+1]);return qf(t,d,m,f,Jt(E)?t.length:f+E),d}return qf(t,d,m),d}function q3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function Y3(n,t,e){const i=K3(n),s=t.length/e;if(!i)return Math.max(s,1);const o=PV(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>s)return f}return Math.max(s,1)}function G3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function $3(n,t,e,i){let s=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),s++,o=e[s*i])}function qf(n,t,e,i,s){const o=Ht(i,0),l=Math.min(Ht(s,n.length),n.length);let u=0,f,d,m;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),m=o;m<0;)u++,m=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===m&&(t.push(n[d]),u++,m=Math.round(o+u*e))}function K3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const W3=n=>n==="left"?"right":n==="right"?"left":n,GS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,$S=(n,t)=>Math.min(t||n,n);function KS(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function X3(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(s),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(s-1))/2,f+=s<t?d:-d,f<o-u||f>l+u)))return f}function Q3(n,t){_e(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function Zc(n){return n.drawTicks?n.tickLength:0}function WS(n,t){if(!n.display)return 0;const e=an(n.font,t),i=Nn(n.padding);return(De(n.text)?n.text.length:1)*e.lineHeight+i.height}function Z3(n,t){return fa(n,{scale:t,type:"scale"})}function J3(n,t,e){return fa(n,{tick:e,index:t,type:"tick"})}function t6(n,t,e){let i=W_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=W3(i)),i}function e6(n,t,e,i){const{top:s,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:m}=f;let _=0,v,E,w;const x=l-s,R=u-o;if(n.isHorizontal()){if(E=In(i,o,u),ne(e)){const O=Object.keys(e)[0],N=e[O];w=m[O].getPixelForValue(N)+x-t}else e==="center"?w=(d.bottom+d.top)/2+x-t:w=GS(n,e,t);v=u-o}else{if(ne(e)){const O=Object.keys(e)[0],N=e[O];E=m[O].getPixelForValue(N)-R+t}else e==="center"?E=(d.left+d.right)/2-R+t:E=GS(n,e,t);w=In(i,l,s),_=e==="left"?-Ge:Ge}return{titleX:E,titleY:w,maxWidth:v,rotation:_}}class po extends zi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=li(t,Number.POSITIVE_INFINITY),e=li(e,Number.NEGATIVE_INFINITY),i=li(i,Number.POSITIVE_INFINITY),s=li(s,Number.NEGATIVE_INFINITY),{min:li(t,i),max:li(e,s),minDefined:ze(t),maxDefined:ze(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=s&&e>i?e:i,{min:li(e,li(i,e)),max:li(i,li(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=c4(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?KS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=H3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=xe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=$S(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let l=s,u,f,d;if(!this._isVisible()||!e.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),_=m.widest.width,v=m.highest.height,E=pn(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(t.offset?.5:1)),f=this.maxHeight-Zc(t.grid)-e.padding-WS(t.title,this.chart.options.font),d=Math.sqrt(_*_+v*v),l=$_(Math.min(Math.asin(pn((m.highest.height+6)/u,-1,1)),Math.asin(pn(f/d,-1,1))-Math.asin(pn(v/d,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=WS(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Zc(o)+f):(t.height=this.maxHeight,t.width=Zc(o)+f),i.display&&this.ticks.length){const{first:d,last:m,widest:_,highest:v}=this._getLabelSizes(),E=i.padding*2,w=Ni(this.labelRotation),x=Math.cos(w),R=Math.sin(w);if(u){const O=i.mirror?0:R*_.width+x*v.height;t.height=Math.min(this.maxHeight,t.height+O+E)}else{const O=i.mirror?0:x*_.width+R*v.height;t.width=Math.min(this.maxWidth,t.width+O+E)}this._calculatePadding(d,m,R,x)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;f?d?(v=s*t.width,E=i*e.height):(v=i*t.height,E=s*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-_+l)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Jt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=KS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/$S(e,i));let d=0,m=0,_,v,E,w,x,R,O,N,j,$,F;for(_=0;_<e;_+=f){if(w=t[_].label,x=this._resolveTickFontOptions(_),s.font=R=x.string,O=o[R]=o[R]||{data:{},gc:[]},N=x.lineHeight,j=$=0,!Jt(w)&&!De(w))j=jd(s,O.data,O.gc,j,w),$=N;else if(De(w))for(v=0,E=w.length;v<E;++v)F=w[v],!Jt(F)&&!De(F)&&(j=jd(s,O.data,O.gc,j,F),$+=N);l.push(j),u.push($),d=Math.max(j,d),m=Math.max($,m)}Q3(o,e);const tt=l.indexOf(d),M=u.indexOf(m),C=D=>({width:l[D]||0,height:u[D]||0});return{first:C(0),last:C(e-1),widest:C(tt),highest:C(M),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return UV(this._alignToPixels?Ha(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=J3(this.getContext(),t,i))}return this.$context||(this.$context=Z3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ni(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*s?u/i:f/s:f*s<u*i?f/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),v=Zc(o),E=[],w=u.setContext(this.getContext()),x=w.display?w.width:0,R=x/2,O=function(W){return Ha(i,W,x)};let N,j,$,F,tt,M,C,D,k,L,z,P;if(l==="top")N=O(this.bottom),M=this.bottom-v,D=N-R,L=O(t.top)+R,P=t.bottom;else if(l==="bottom")N=O(this.top),L=t.top,P=O(t.bottom)-R,M=N+R,D=this.top+v;else if(l==="left")N=O(this.right),tt=this.right-v,C=N-R,k=O(t.left)+R,z=t.right;else if(l==="right")N=O(this.left),k=t.left,z=O(t.right)-R,tt=N+R,C=this.left+v;else if(e==="x"){if(l==="center")N=O((t.top+t.bottom)/2+.5);else if(ne(l)){const W=Object.keys(l)[0],lt=l[W];N=O(this.chart.scales[W].getPixelForValue(lt))}L=t.top,P=t.bottom,M=N+R,D=M+v}else if(e==="y"){if(l==="center")N=O((t.left+t.right)/2);else if(ne(l)){const W=Object.keys(l)[0],lt=l[W];N=O(this.chart.scales[W].getPixelForValue(lt))}tt=N-R,C=tt-v,k=t.left,z=t.right}const $t=Ht(s.ticks.maxTicksLimit,_),Ct=Math.max(1,Math.ceil(_/$t));for(j=0;j<_;j+=Ct){const W=this.getContext(j),lt=o.setContext(W),pt=u.setContext(W),Et=lt.lineWidth,U=lt.color,nt=pt.dash||[],ut=pt.dashOffset,ct=lt.tickWidth,vt=lt.tickColor,Vt=lt.tickBorderDash||[],Rt=lt.tickBorderDashOffset;$=X3(this,j,f),$!==void 0&&(F=Ha(i,$,Et),d?tt=C=k=z=F:M=D=L=P=F,E.push({tx1:tt,ty1:M,tx2:C,ty2:D,x1:k,y1:L,x2:z,y2:P,width:Et,color:U,borderDash:nt,borderDashOffset:ut,tickWidth:ct,tickColor:vt,tickBorderDash:Vt,tickBorderDashOffset:Rt}))}return this._ticksLength=_,this._borderValue=N,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:m,mirror:_}=o,v=Zc(i.grid),E=v+m,w=_?-m:E,x=-Ni(this.labelRotation),R=[];let O,N,j,$,F,tt,M,C,D,k,L,z,P="middle";if(s==="top")tt=this.bottom-w,M=this._getXAxisLabelAlignment();else if(s==="bottom")tt=this.top+w,M=this._getXAxisLabelAlignment();else if(s==="left"){const Ct=this._getYAxisLabelAlignment(v);M=Ct.textAlign,F=Ct.x}else if(s==="right"){const Ct=this._getYAxisLabelAlignment(v);M=Ct.textAlign,F=Ct.x}else if(e==="x"){if(s==="center")tt=(t.top+t.bottom)/2+E;else if(ne(s)){const Ct=Object.keys(s)[0],W=s[Ct];tt=this.chart.scales[Ct].getPixelForValue(W)+E}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")F=(t.left+t.right)/2-E;else if(ne(s)){const Ct=Object.keys(s)[0],W=s[Ct];F=this.chart.scales[Ct].getPixelForValue(W)}M=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?P="top":f==="end"&&(P="bottom"));const $t=this._getLabelSizes();for(O=0,N=u.length;O<N;++O){j=u[O],$=j.label;const Ct=o.setContext(this.getContext(O));C=this.getPixelForTick(O)+o.labelOffset,D=this._resolveTickFontOptions(O),k=D.lineHeight,L=De($)?$.length:1;const W=L/2,lt=Ct.color,pt=Ct.textStrokeColor,Et=Ct.textStrokeWidth;let U=M;l?(F=C,M==="inner"&&(O===N-1?U=this.options.reverse?"left":"right":O===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?d==="near"||x!==0?z=-L*k+k/2:d==="center"?z=-$t.highest.height/2-W*k+k:z=-$t.highest.height+k/2:d==="near"||x!==0?z=k/2:d==="center"?z=$t.highest.height/2-W*k:z=$t.highest.height-L*k,_&&(z*=-1),x!==0&&!Ct.showLabelBackdrop&&(F+=k/2*Math.sin(x))):(tt=C,z=(1-L)*k/2);let nt;if(Ct.showLabelBackdrop){const ut=Nn(Ct.backdropPadding),ct=$t.heights[O],vt=$t.widths[O];let Vt=z-ut.top,Rt=0-ut.left;switch(P){case"middle":Vt-=ct/2;break;case"bottom":Vt-=ct;break}switch(M){case"center":Rt-=vt/2;break;case"right":Rt-=vt;break;case"inner":O===N-1?Rt-=vt:O>0&&(Rt-=vt/2);break}nt={left:Rt,top:Vt,width:vt+ut.width,height:ct+ut.height,color:Ct.backdropColor}}R.push({label:$,font:D,textOffset:z,options:{rotation:x,color:lt,strokeColor:pt,strokeWidth:Et,textAlign:U,textBaseline:P,translation:[F,tt],backdrop:nt}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ni(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,m;return e==="left"?s?(m=this.right+o,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m+=f)):(m=this.right-u,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m=this.left)):e==="right"?s?(m=this.left+o,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m-=f)):(m=this.left+u,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=s.length;o<l;++o){const f=s[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,m,_,v;this.isHorizontal()?(d=Ha(t,this.left,l)-l/2,m=Ha(t,this.right,u)+u/2,_=v=f):(_=Ha(t,this.top,l)-l/2,v=Ha(t,this.bottom,u)+u/2,d=m=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(m,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&mg(i,s);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,m=l.textOffset;oo(i,d,0,m,f,u)}s&&yg(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=an(i.font),l=Nn(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||ne(e)?(f+=l.bottom,De(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:m,maxWidth:_,rotation:v}=e6(this,f,e,u);oo(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:t6(u,e,s),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),s=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==po.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return an(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Yf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;s6(e)&&(i=this.register(e));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,n6(t,l,i),this.override&&Me.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Me[s]&&(delete Me[s][i],this.override&&delete ao[i])}}function n6(n,t,e){const i=Pu(Object.create(null),[e?Me.get(e):{},Me.get(t),n.defaults]);Me.set(t,i),n.defaultRoutes&&i6(t,n.defaultRoutes),n.descriptors&&Me.describe(t,n.descriptors)}function i6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");Me.route(o,s,f,u)})}function s6(n){return"id"in n&&"defaults"in n}class r6{constructor(){this.controllers=new Yf(Li,"datasets",!0),this.elements=new Yf(zi,"elements"),this.plugins=new Yf(Object,"plugins"),this.scales=new Yf(po,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):_e(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=G_(t);xe(i["before"+s],[],i),e[t](i),xe(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var is=new r6;class a6{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,s,o.options];if(xe(u,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Ht(i.options&&i.options.plugins,{}),o=o6(i);return s===!1&&!e?[]:c6(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function o6(n){const t={},e=[],i=Object.keys(is.plugins.items);for(let o=0;o<i.length;o++)e.push(is.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function l6(n,t){return!t&&n===!1?null:n===!0?{}:n}function c6(n,{plugins:t,localIds:e},i,s){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=l6(i[f],s);d!==null&&o.push({plugin:u,options:u6(n.config,{plugin:u,local:e[f]},d,l)})}return o}function u6(n,{plugin:t,local:e},i,s){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ky(n,t){const e=Me.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function h6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function f6(n,t){return n===t?"_index_":"_value_"}function XS(n){if(n==="x"||n==="y"||n==="r")return n}function d6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Py(n,...t){if(XS(n))return n;for(const e of t){const i=e.axis||d6(e.position)||n.length>1&&XS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function QS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function g6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return QS(n,"x",e[0])||QS(n,"y",e[0])}return{}}function p6(n,t){const e=ao[n.type]||{scales:{}},i=t.scales||{},s=ky(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!ne(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=Py(l,u,g6(l,n),Me.scales[u.type]),d=f6(f,s),m=e.scales||{};o[l]=_u(Object.create(null),[{axis:f},u,m[f],m[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||ky(u,t),m=(ao[u]||{}).scales||{};Object.keys(m).forEach(_=>{const v=h6(_,f),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),_u(o[E],[{axis:v},i[E],m[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];_u(u,[Me.scales[u.type],Me.scale])}),o}function uR(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=p6(n,t)}function hR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function m6(n){return n=n||{},n.data=hR(n.data),uR(n),n}const ZS=new Map,fR=new Set;function Gf(n,t){let e=ZS.get(n);return e||(e=t(),ZS.set(n,e),fR.add(e)),e}const Jc=(n,t,e)=>{const i=la(t,e);i!==void 0&&n.add(i)};class y6{constructor(t){this._config=m6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),uR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Gf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Gf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Gf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(_=>Jc(f,t,_))),m.forEach(_=>Jc(f,s,_)),m.forEach(_=>Jc(f,ao[o]||{},_)),m.forEach(_=>Jc(f,Me,_)),m.forEach(_=>Jc(f,Dy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),fR.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,ao[e]||{},Me.datasets[e]||{},{type:e},Me,Dy]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=JS(this._resolverCache,t,s);let f=l;if(v6(l,e)){o.$shared=!1,i=ca(i)?i():i;const d=this.createResolver(t,i,u);f=Ml(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],s){const{resolver:o}=JS(this._resolverCache,t,i);return ne(e)?Ml(o,e,void 0,s):o}}function JS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:Z_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const _6=n=>ne(n)&&Object.getOwnPropertyNames(n).some(t=>ca(n[t]));function v6(n,t){const{isScriptable:e,isIndexable:i}=q1(n);for(const s of t){const o=e(s),l=i(s),u=(l||o)&&n[s];if(o&&(ca(u)||_6(u))||l&&De(u))return!0}return!1}var b6="4.5.0";const E6=["top","bottom","left","right","chartArea"];function tw(n,t){return n==="top"||n==="bottom"||E6.indexOf(n)===-1&&t==="x"}function ew(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function nw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),xe(e&&e.onComplete,[n],t)}function T6(n){const t=n.chart,e=t.options.animation;xe(e&&e.onProgress,[n],t)}function dR(n){return ev()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pd={},iw=n=>{const t=dR(n);return Object.values(pd).filter(e=>e.canvas===t).pop()};function S6(n,t,e){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=t){const l=n[s];delete n[s],(e>0||o>t)&&(n[o+e]=l)}}}function w6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class ci{static register(...t){is.add(...t),sw()}static unregister(...t){is.remove(...t),sw()}constructor(t,e){const i=this.config=new y6(e),s=dR(t),o=iw(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||j3(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,m=f&&f.width;if(this.id=xV(),this.ctx=u,this.canvas=f,this.width=m,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new a6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jV(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],pd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Gs.listen(this,"complete",nw),Gs.listen(this,"progress",T6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return Jt(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():AS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SS(this.canvas,this.ctx),this}stop(){return Gs.stop(this),this}resize(t,e){Gs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,AS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),xe(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};_e(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=Py(l,u),d=f==="r",m=f==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),_e(o,l=>{const u=l.options,f=u.id,d=Py(f,u),m=Ht(u.type,l.dtype);(u.position===void 0||tw(u.position,d)!==tw(l.dposition))&&(u.position=l.dposition),s[f]=!0;let _=null;if(f in i&&i[f].type===m)_=i[f];else{const v=is.getScale(m);_=new v({id:f,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),_e(s,(l,u)=>{l||delete i[u]}),_e(i,l=>{kn.configure(this,l,l.options),kn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(ew("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||ky(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=is.getController(u),{datasetElementType:d,dataElementType:m}=Me.datasets[u];Object.assign(f,{dataElementType:is.getElement(m),datasetElementType:d&&is.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){_e(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:_}=this.getDatasetMeta(d),v=!s&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||_e(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ew("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){_e(this.scales,t=>{kn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!gS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of e){const l=i==="_removeElements"?-o:o;S6(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<e;o++)if(!gS(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],_e(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ca(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gs.has(this)?this.attached&&!Gs.running(this)&&Gs.start(this):(this.draw(),nw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,o;for(s=0,o=e.length;s<o;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=eR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&mg(e,s),t.controller.draw(),s&&yg(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Js(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const o=E3.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=fa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Nu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Gs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),SS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete pd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};_e(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},s=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){_e(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},_e(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!zd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,o=(f,d)=>f.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:o}=this,l=e,u=this._getActiveElements(t,s,i,l),f=MV(t),d=w6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,xe(o.onHover,[t,u,this],this),f&&xe(o.onClick,[t,u,this],this));const m=!zd(u,s);return(m||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=d,m}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}dt(ci,"defaults",Me),dt(ci,"instances",pd),dt(ci,"overrides",ao),dt(ci,"registry",is),dt(ci,"version",b6),dt(ci,"getChart",iw);function sw(){return _e(ci.instances,n=>n._plugins.invalidate())}function x6(n,t,e){const{startAngle:i,x:s,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:m}=f,_=Math.min(d/l,Mn(i-e));if(n.beginPath(),n.arc(s,o,l-d/2,i+_/2,e-_/2),u>0){const v=Math.min(d/u,Mn(i-e));n.arc(s,o,u+d/2,e-v/2,i+v/2,!0)}else{const v=Math.min(d/2,l*Mn(i-e));if(m==="round")n.arc(s,o,v,e-ue/2,i+ue/2,!0);else if(m==="bevel"){const E=2*v*v,w=-E*Math.cos(e+ue/2)+s,x=-E*Math.sin(e+ue/2)+o,R=E*Math.cos(i+ue/2)+s,O=E*Math.sin(i+ue/2)+o;n.lineTo(w,x),n.lineTo(R,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function A6(n,t,e){const{startAngle:i,pixelMargin:s,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=s/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>s?(d=s/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,s,e+Ge,i-Ge),n.closePath(),n.clip()}function R6(n){return Q_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function C6(n,t,e,i){const s=R6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return pn(f,0,Math.min(o,d))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:pn(s.innerStart,0,l),innerEnd:pn(s.innerEnd,0,l)}}function ul(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Yd(n,t,e,i,s,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:m}=t,_=Math.max(t.outerRadius+i+e-d,0),v=m>0?m+i+e+d:0;let E=0;const w=s-f;if(i){const Ct=m>0?m-i:0,W=_>0?_-i:0,lt=(Ct+W)/2,pt=lt!==0?w*lt/(lt+i):w;E=(w-pt)/2}const x=Math.max(.001,w*_-e/ue)/_,R=(w-x)/2,O=f+R+E,N=s-R-E,{outerStart:j,outerEnd:$,innerStart:F,innerEnd:tt}=C6(t,v,_,N-O),M=_-j,C=_-$,D=O+j/M,k=N-$/C,L=v+F,z=v+tt,P=O+F/L,$t=N-tt/z;if(n.beginPath(),o){const Ct=(D+k)/2;if(n.arc(l,u,_,D,Ct),n.arc(l,u,_,Ct,k),$>0){const Et=ul(C,k,l,u);n.arc(Et.x,Et.y,$,k,N+Ge)}const W=ul(z,N,l,u);if(n.lineTo(W.x,W.y),tt>0){const Et=ul(z,$t,l,u);n.arc(Et.x,Et.y,tt,N+Ge,$t+Math.PI)}const lt=(N-tt/v+(O+F/v))/2;if(n.arc(l,u,v,N-tt/v,lt,!0),n.arc(l,u,v,lt,O+F/v,!0),F>0){const Et=ul(L,P,l,u);n.arc(Et.x,Et.y,F,P+Math.PI,O-Ge)}const pt=ul(M,O,l,u);if(n.lineTo(pt.x,pt.y),j>0){const Et=ul(M,D,l,u);n.arc(Et.x,Et.y,j,O-Ge,D)}}else{n.moveTo(l,u);const Ct=Math.cos(D)*_+l,W=Math.sin(D)*_+u;n.lineTo(Ct,W);const lt=Math.cos(k)*_+l,pt=Math.sin(k)*_+u;n.lineTo(lt,pt)}n.closePath()}function I6(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){Yd(n,t,e,i,f,s);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%Re||Re))}return Yd(n,t,e,i,f,s),n.fill(),f}function D6(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:m,borderDash:_,borderDashOffset:v,borderRadius:E}=f,w=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=v,w?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let x=t.endAngle;if(o){Yd(n,t,e,i,x,s);for(let R=0;R<o;++R)n.stroke();isNaN(u)||(x=l+(u%Re||Re))}w&&A6(n,t,x),f.selfJoin&&x-l>=ue&&E===0&&m!=="miter"&&x6(n,t,x),o||(Yd(n,t,e,i,x,s),n.stroke())}class cu extends zi{constructor(e){super();dt(this,"circumference");dt(this,"endAngle");dt(this,"fullCircles");dt(this,"innerRadius");dt(this,"outerRadius");dt(this,"pixelMargin");dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.getProps(["x","y"],s),{angle:l,distance:u}=P1(o,{x:e,y:i}),{startAngle:f,endAngle:d,innerRadius:m,outerRadius:_,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),E=(this.options.spacing+this.options.borderWidth)/2,w=Ht(v,d-f),x=Lu(l,f,d)&&f!==d,R=w>=Re||x,O=Qs(u,m+E,_+E);return R&&O}getCenterPoint(e){const{x:i,y:s,startAngle:o,endAngle:l,innerRadius:u,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:m}=this.options,_=(o+l)/2,v=(u+f+m+d)/2;return{x:i+Math.cos(_)*v,y:s+Math.sin(_)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Re?Math.floor(s/Re):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const d=1-Math.sin(Math.min(ue,s||0)),m=o*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,I6(e,this,m,l,u),D6(e,this,m,l,u),e.restore()}}dt(cu,"id","arc"),dt(cu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),dt(cu,"defaultRoutes",{backgroundColor:"backgroundColor"}),dt(cu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function gR(n,t,e=t){n.lineCap=Ht(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ht(e.borderDash,t.borderDash)),n.lineDashOffset=Ht(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ht(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ht(e.borderWidth,t.borderWidth),n.strokeStyle=Ht(e.borderColor,t.borderColor)}function M6(n,t,e){n.lineTo(e.x,e.y)}function O6(n){return n.stepped?t4:n.tension||n.cubicInterpolationMode==="monotone"?e4:M6}function pR(n,t,e={}){const i=n.length,{start:s=0,end:o=i-1}=e,{start:l,end:u}=t,f=Math.max(s,l),d=Math.min(o,u),m=s<l&&o<l||s>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!m?i+d-f:d-f}}function k6(n,t,e,i){const{points:s,options:o}=t,{count:l,start:u,loop:f,ilen:d}=pR(s,e,i),m=O6(o);let{move:_=!0,reverse:v}=i||{},E,w,x;for(E=0;E<=d;++E)w=s[(u+(v?d-E:E))%l],!w.skip&&(_?(n.moveTo(w.x,w.y),_=!1):m(n,x,w,v,o.stepped),x=w);return f&&(w=s[(u+(v?d:0))%l],m(n,x,w,v,o.stepped)),!!f}function P6(n,t,e,i){const s=t.points,{count:o,start:l,ilen:u}=pR(s,e,i),{move:f=!0,reverse:d}=i||{};let m=0,_=0,v,E,w,x,R,O;const N=$=>(l+(d?u-$:$))%o,j=()=>{x!==R&&(n.lineTo(m,R),n.lineTo(m,x),n.lineTo(m,O))};for(f&&(E=s[N(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=s[N(v)],E.skip)continue;const $=E.x,F=E.y,tt=$|0;tt===w?(F<x?x=F:F>R&&(R=F),m=(_*m+$)/++_):(j(),n.lineTo($,F),w=tt,_=0,x=R=F),O=F}j()}function Ny(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?P6:k6}function N6(n){return n.stepped?k4:n.tension||n.cubicInterpolationMode==="monotone"?P4:Wa}function L6(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),gR(n,t.options),n.stroke(s)}function V6(n,t,e,i){const{segments:s,options:o}=t,l=Ny(t);for(const u of s)gR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const U6=typeof Path2D=="function";function z6(n,t,e,i){U6&&!t.options.segment?L6(n,t,e,i):V6(n,t,e,i)}class $r extends zi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;x4(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=B4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],o=this.points,l=tR(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],f=N6(i);let d,m;for(d=0,m=l.length;d<m;++d){const{start:_,end:v}=l[d],E=o[_],w=o[v];if(E===w){u.push(E);continue}const x=Math.abs((s-E[e])/(w[e]-E[e])),R=f(E,w,x,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Ny(this)(t,this,e,i)}path(t,e,i){const s=this.segments,o=Ny(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),z6(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dt($r,"id","line"),dt($r,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),dt($r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),dt($r,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function rw(n,t,e,i){const s=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<s.radius+s.hitRadius}class md extends zi{constructor(e){super();dt(this,"parsed");dt(this,"skip");dt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],s);return Math.pow(e-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return rw(this,e,"x",i)}inYRange(e,i){return rw(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!Js(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,My(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}dt(md,"id","point"),dt(md,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),dt(md,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function mR(n,t){const{x:e,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,m,_;return n.horizontal?(_=l/2,u=Math.min(e,s),f=Math.max(e,s),d=i-_,m=i+_):(_=o/2,u=e-_,f=e+_,d=Math.min(i,s),m=Math.max(i,s)),{left:u,top:d,right:f,bottom:m}}function Kr(n,t,e,i){return n?0:pn(t,e,i)}function B6(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=H1(i);return{t:Kr(s.top,o.top,0,e),r:Kr(s.right,o.right,0,t),b:Kr(s.bottom,o.bottom,0,e),l:Kr(s.left,o.left,0,t)}}function F6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=Za(s),l=Math.min(t,e),u=n.borderSkipped,f=i||ne(s);return{topLeft:Kr(!f||u.top||u.left,o.topLeft,0,l),topRight:Kr(!f||u.top||u.right,o.topRight,0,l),bottomLeft:Kr(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:Kr(!f||u.bottom||u.right,o.bottomRight,0,l)}}function j6(n){const t=mR(n),e=t.right-t.left,i=t.bottom-t.top,s=B6(n,e/2,i/2),o=F6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Wm(n,t,e,i){const s=t===null,o=e===null,u=n&&!(s&&o)&&mR(n,i);return u&&(s||Qs(t,u.left,u.right))&&(o||Qs(e,u.top,u.bottom))}function H6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function q6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Xm(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class yd extends zi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=j6(this),u=H6(l.radius)?Vu:q6;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Xm(l,e,o)),t.clip(),u(t,Xm(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Xm(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Wm(this,t,e,i)}inXRange(t,e){return Wm(this,t,null,e)}inYRange(t,e){return Wm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}dt(yd,"id","bar"),dt(yd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),dt(yd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Y6=Object.freeze({__proto__:null,ArcElement:cu,BarElement:yd,LineElement:$r,PointElement:md});const Ly=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],aw=Ly.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function yR(n){return Ly[n%Ly.length]}function _R(n){return aw[n%aw.length]}function G6(n,t){return n.borderColor=yR(t),n.backgroundColor=_R(t),++t}function $6(n,t){return n.backgroundColor=n.data.map(()=>yR(t++)),t}function K6(n,t){return n.backgroundColor=n.data.map(()=>_R(t++)),t}function W6(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Qa?t=$6(e,t):s instanceof Tu?t=K6(e,t):s&&(t=G6(e,t))}}function ow(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function X6(n){return n&&(n.borderColor||n.backgroundColor)}function Q6(){return Me.borderColor!=="rgba(0,0,0,0.1)"||Me.backgroundColor!=="rgba(0,0,0,0.1)"}var Z6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s,l=ow(i)||X6(s)||o&&ow(o)||Q6();if(!e.forceOverride&&l)return;const u=W6(n);i.forEach(u)}};function J6(n,t,e,i,s){const o=s.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let f=0;const d=t+e-1;let m=t,_,v,E,w,x;for(l[f++]=n[m],_=0;_<o-2;_++){let R=0,O=0,N;const j=Math.floor((_+1)*u)+1+t,$=Math.min(Math.floor((_+2)*u)+1,e)+t,F=$-j;for(N=j;N<$;N++)R+=n[N].x,O+=n[N].y;R/=F,O/=F;const tt=Math.floor(_*u)+1+t,M=Math.min(Math.floor((_+1)*u)+1,e)+t,{x:C,y:D}=n[m];for(E=w=-1,N=tt;N<M;N++)w=.5*Math.abs((C-R)*(n[N].y-D)-(C-n[N].x)*(O-D)),w>E&&(E=w,v=n[N],x=N);l[f++]=v,m=x}return l[f++]=n[d],l}function t5(n,t,e,i){let s=0,o=0,l,u,f,d,m,_,v,E,w,x;const R=[],O=t+e-1,N=n[t].x,$=n[O].x-N;for(l=t;l<t+e;++l){u=n[l],f=(u.x-N)/$*i,d=u.y;const F=f|0;if(F===m)d<w?(w=d,_=l):d>x&&(x=d,v=l),s=(o*s+u.x)/++o;else{const tt=l-1;if(!Jt(_)&&!Jt(v)){const M=Math.min(_,v),C=Math.max(_,v);M!==E&&M!==tt&&R.push({...n[M],x:s}),C!==E&&C!==tt&&R.push({...n[C],x:s})}l>0&&tt!==E&&R.push(n[tt]),R.push(u),m=F,o=0,w=x=d,_=v=E=l}}return R}function vR(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function lw(n){n.data.datasets.forEach(t=>{vR(t)})}function e5(n,t){const e=t.length;let i=0,s;const{iScale:o}=n,{min:l,max:u,minDefined:f,maxDefined:d}=o.getUserBounds();return f&&(i=pn(Zs(t,o.axis,l).lo,0,e-1)),d?s=pn(Zs(t,o.axis,u).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var n5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){lw(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:l,indexAxis:u}=s,f=n.getDatasetMeta(o),d=l||s.data;if(ou([u,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const m=n.scales[f.xAxisID];if(m.type!=="linear"&&m.type!=="time"||n.options.parsing)return;let{start:_,count:v}=e5(f,d);const E=e.threshold||4*i;if(v<=E){vR(s);return}Jt(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let w;switch(e.algorithm){case"lttb":w=J6(d,_,v,i,e);break;case"min-max":w=t5(d,_,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=w})},destroy(n){lw(n)}};function i5(n,t,e){const i=n.segments,s=n.points,o=t.points,l=[];for(const u of i){let{start:f,end:d}=u;d=bg(f,d,s);const m=Vy(e,s[f],s[d],u.loop);if(!t.segments){l.push({source:u,target:m,start:s[f],end:s[d]});continue}const _=tR(t,m);for(const v of _){const E=Vy(e,o[v.start],o[v.end],v.loop),w=J1(u,s,E);for(const x of w)l.push({source:x,target:v,start:{[e]:cw(m,E,"start",Math.max)},end:{[e]:cw(m,E,"end",Math.min)}})}}return l}function Vy(n,t,e,i){if(i)return;let s=t[n],o=e[n];return n==="angle"&&(s=Mn(s),o=Mn(o)),{property:n,start:s,end:o}}function s5(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=bg(l,u,s);const f=s[l],d=s[u];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function bg(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function cw(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function bR(n,t){let e=[],i=!1;return De(n)?(i=!0,e=n):e=s5(n,t),e.length?new $r({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function uw(n){return n&&n.fill!==!1}function r5(n,t,e){let s=n[t].fill;const o=[t];let l;if(!e)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!ze(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;o.push(s),s=l.fill}return!1}function a5(n,t,e){const i=u5(n);if(ne(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return ze(s)&&Math.floor(s)===s?o5(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function o5(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function l5(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:ne(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function c5(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:ne(n)?i=n.value:i=t.getBaseValue(),i}function u5(n){const t=n.options,e=t.fill;let i=Ht(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function h5(n){const{scale:t,index:e,line:i}=n,s=[],o=i.segments,l=i.points,u=f5(t,e);u.push(bR({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let m=d.start;m<=d.end;m++)d5(s,l[m],u)}return new $r({points:s,options:{}})}function f5(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function d5(n,t,e){const i=[];for(let s=0;s<e.length;s++){const o=e[s],{first:l,last:u,point:f}=g5(o,t,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(n.push(f),!u)break}}n.push(...i)}function g5(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],o=n.segments,l=n.points;let u=!1,f=!1;for(let d=0;d<o.length;d++){const m=o[d],_=l[m.start][e],v=l[m.end][e];if(Qs(s,_,v)){u=s===_,f=s===v;break}}return{first:u,last:f,point:i}}class ER{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:o,radius:l}=this;return e=e||{start:0,end:Re},t.arc(s,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,o=t.angle;return{x:e+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function p5(n){const{chart:t,fill:e,line:i}=n;if(ze(e))return m5(t,e);if(e==="stack")return h5(n);if(e==="shape")return!0;const s=y5(n);return s instanceof ER?s:bR(s,i)}function m5(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function y5(n){return(n.scale||{}).getPointPositionForValue?v5(n):_5(n)}function _5(n){const{scale:t={},fill:e}=n,i=l5(e,t);if(ze(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function v5(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,l=c5(e,t,o),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new ER({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<s;++f)u.push(t.getPointPositionForValue(f,l));return u}function Qm(n,t,e){const i=p5(t),{chart:s,index:o,line:l,scale:u,axis:f}=t,d=l.options,m=d.fill,_=d.backgroundColor,{above:v=_,below:E=_}=m||{},w=s.getDatasetMeta(o),x=eR(s,w);i&&l.points.length&&(mg(n,e),b5(n,{line:l,target:i,above:v,below:E,area:e,scale:u,axis:f,clip:x}),yg(n))}function b5(n,t){const{line:e,target:i,above:s,below:o,area:l,scale:u,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let m=o;o!==s&&(d==="x"?(hw(n,i,l.top),Zm(n,{line:e,target:i,color:s,scale:u,property:d,clip:f}),n.restore(),n.save(),hw(n,i,l.bottom)):d==="y"&&(fw(n,i,l.left),Zm(n,{line:e,target:i,color:o,scale:u,property:d,clip:f}),n.restore(),n.save(),fw(n,i,l.right),m=s)),Zm(n,{line:e,target:i,color:m,scale:u,property:d,clip:f}),n.restore()}function hw(n,t,e){const{segments:i,points:s}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,m=s[f],_=s[bg(f,d,s)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(m.x,e),n.lineTo(m.x,m.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function fw(n,t,e){const{segments:i,points:s}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,m=s[f],_=s[bg(f,d,s)];o?(n.moveTo(m.x,m.y),o=!1):(n.lineTo(e,m.y),n.lineTo(m.x,m.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,_.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Zm(n,t){const{line:e,target:i,property:s,color:o,scale:l,clip:u}=t,f=i5(e,i,s);for(const{source:d,target:m,start:_,end:v}of f){const{style:{backgroundColor:E=o}={}}=d,w=i!==!0;n.save(),n.fillStyle=E,E5(n,l,u,w&&Vy(s,_,v)),n.beginPath();const x=!!e.pathSegment(n,d);let R;if(w){x?n.closePath():dw(n,i,v,s);const O=!!i.pathSegment(n,m,{move:x,reverse:!0});R=x&&O,R||dw(n,i,_,s)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function E5(n,t,e,i){const s=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let f,d,m,_;o==="x"?(f=l,d=s.top,m=u,_=s.bottom):(f=s.left,d=l,m=s.right,_=u),n.beginPath(),e&&(f=Math.max(f,e.left),m=Math.min(m,e.right),d=Math.max(d,e.top),_=Math.min(_,e.bottom)),n.rect(f,d,m-f,_-d),n.clip()}}function dw(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var T5={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let o,l,u,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof $r&&(f={visible:n.isDatasetVisible(l),index:l,fill:a5(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,s.push(f);for(l=0;l<i;++l)f=s[l],!(!f||f.fill===!1)&&(f.fill=r5(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Qm(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;uw(o)&&Qm(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!uw(i)||e.drawTime!=="beforeDatasetDraw"||Qm(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},S5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class pw extends zi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=xe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=an(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=gw(i,o);let d,m;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(l,o,u,f)+10):(m=this.maxHeight,d=this._fitCols(l,s,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],m=s+u;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-m;return this.legendItems.forEach((w,x)=>{const R=i+e/2+o.measureText(w.text).width;(x===0||d[d.length-1]+R+2*u>l)&&(_+=m,d[d.length-(x>0?0:1)]=0,E+=m,v++),f[x]={left:0,top:E,row:v,width:R,height:s},d[d.length-1]+=R+u}),_}_fitCols(t,e,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],m=l-t;let _=u,v=0,E=0,w=0,x=0;return this.legendItems.forEach((R,O)=>{const{itemWidth:N,itemHeight:j}=w5(i,e,o,R,s);O>0&&E+j+2*u>m&&(_+=v+u,d.push({width:v,height:E}),w+=v+u,x++,v=E=0),f[O]={left:w,top:E,col:x,width:N,height:j},v=Math.max(v,N),E+=j+u}),_+=v,d.push({width:v,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,l=El(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=In(i,this.left+s,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=In(i,this.left+s,this.right-this.lineWidths[u])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+s}else{let u=0,f=In(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=In(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;mg(t,this),this._draw(),yg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,u=Me.color,f=El(t.rtl,this.left,this.width),d=an(l.font),{padding:m}=l,_=d.size,v=_/2;let E;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:w,boxHeight:x,itemHeight:R}=gw(l,_),O=function(tt,M,C){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;s.save();const D=Ht(C.lineWidth,1);if(s.fillStyle=Ht(C.fillStyle,u),s.lineCap=Ht(C.lineCap,"butt"),s.lineDashOffset=Ht(C.lineDashOffset,0),s.lineJoin=Ht(C.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=Ht(C.strokeStyle,u),s.setLineDash(Ht(C.lineDash,[])),l.usePointStyle){const k={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},L=f.xPlus(tt,w/2),z=M+v;j1(s,k,L,z,l.pointStyleWidth&&w)}else{const k=M+Math.max((_-x)/2,0),L=f.leftForLtr(tt,w),z=Za(C.borderRadius);s.beginPath(),Object.values(z).some(P=>P!==0)?Vu(s,{x:L,y:k,w,h:x,radius:z}):s.rect(L,k,w,x),s.fill(),D!==0&&s.stroke()}s.restore()},N=function(tt,M,C){oo(s,C.text,tt,M+R/2,d,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},j=this.isHorizontal(),$=this._computeTitleHeight();j?E={x:In(o,this.left+m,this.right-i[0]),y:this.top+m+$,line:0}:E={x:this.left+m,y:In(o,this.top+$+m,this.bottom-e[0].height),line:0},X1(this.ctx,t.textDirection);const F=R+m;this.legendItems.forEach((tt,M)=>{s.strokeStyle=tt.fontColor,s.fillStyle=tt.fontColor;const C=s.measureText(tt.text).width,D=f.textAlign(tt.textAlign||(tt.textAlign=l.textAlign)),k=w+v+C;let L=E.x,z=E.y;f.setWidth(this.width),j?M>0&&L+k+m>this.right&&(z=E.y+=F,E.line++,L=E.x=In(o,this.left+m,this.right-i[E.line])):M>0&&z+F>this.bottom&&(L=E.x=L+e[E.line].width+m,E.line++,z=E.y=In(o,this.top+$+m,this.bottom-e[E.line].height));const P=f.x(L);if(O(P,z,tt),L=HV(D,L+w+v,j?L+k:this.right,t.rtl),N(f.x(L),z,tt),j)E.x+=k+m;else if(typeof tt.text!="string"){const $t=d.lineHeight;E.y+=TR(tt,$t)+m}else E.y+=F}),Q1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=an(e.font),s=Nn(e.padding);if(!e.display)return;const o=El(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=s.top+f;let m,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+d,_=In(t.align,_,this.right-v);else{const w=this.columnSizes.reduce((x,R)=>Math.max(x,R.height),0);m=d+In(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const E=In(u,_,_+v);l.textAlign=o.textAlign(W_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,oo(l,e.text,E,m,i)}_computeTitleHeight(){const t=this.options.title,e=an(t.font),i=Nn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,o;if(Qs(t,this.left,this.right)&&Qs(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Qs(t,s.left,s.left+s.width)&&Qs(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!R5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=S5(s,i);s&&!o&&xe(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&xe(e.onHover,[t,i,this],this)}else i&&xe(e.onClick,[t,i,this],this)}}function w5(n,t,e,i,s){const o=x5(i,n,t,e),l=A5(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function x5(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(s).width}function A5(n,t,e){let i=n;return typeof t.text!="string"&&(i=TR(t,e)),i}function TR(n,t){const e=n.text?n.text.length:0;return t*e}function R5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var C5={id:"legend",_element:pw,start(n,t,e){const i=n.legend=new pw({ctx:n.ctx,options:e,chart:n});kn.configure(n,i,e),kn.addBox(n,i)},stop(n){kn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;kn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),m=Nn(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class sv extends zi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=De(i.text)?i.text.length:1;this._padding=Nn(i.padding);const o=s*an(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:l}=this,u=l.align;let f=0,d,m,_;return this.isHorizontal()?(m=In(u,i,o),_=e+t,d=o-i):(l.position==="left"?(m=i+t,_=In(u,s,e),f=ue*-.5):(m=o-t,_=In(u,e,s),f=ue*.5),d=s-e),{titleX:m,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=an(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);oo(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:W_(e.align),textBaseline:"middle",translation:[l,u]})}}function I5(n,t){const e=new sv({ctx:n.ctx,options:t,chart:n});kn.configure(n,e,t),kn.addBox(n,e),n.titleBlock=e}var D5={id:"title",_element:sv,start(n,t,e){I5(n,e)},stop(n){const t=n.titleBlock;kn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;kn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $f=new WeakMap;var M5={id:"subtitle",start(n,t,e){const i=new sv({ctx:n.ctx,options:e,chart:n});kn.configure(n,i,e),kn.addBox(n,i),$f.set(n,i)},stop(n){kn.removeBox(n,$f.get(n)),$f.delete(n)},beforeUpdate(n,t,e){const i=$f.get(n);kn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),s+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),m=Iy(t,d);m<s&&(s=m,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ns(n,t){return t&&(De(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function $s(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function O5(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function mw(n,t){const e=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=an(t.bodyFont),d=an(t.titleFont),m=an(t.footerFont),_=o.length,v=s.length,E=i.length,w=Nn(t.padding);let x=w.height,R=0,O=i.reduce(($,F)=>$+F.before.length+F.lines.length+F.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,_&&(x+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),O){const $=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;x+=E*$+(O-E)*f.lineHeight+(O-1)*t.bodySpacing}v&&(x+=t.footerMarginTop+v*m.lineHeight+(v-1)*t.footerSpacing);let N=0;const j=function($){R=Math.max(R,e.measureText($).width+N)};return e.save(),e.font=d.string,_e(n.title,j),e.font=f.string,_e(n.beforeBody.concat(n.afterBody),j),N=t.displayColors?l+2+t.boxPadding:0,_e(i,$=>{_e($.before,j),_e($.lines,j),_e($.after,j)}),N=0,e.font=m.string,_e(n.footer,j),e.restore(),R+=w.width,{width:R,height:x}}function k5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function P5(n,t,e,i){const{x:s,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+o+l>t.width||n==="right"&&s-o-l<0)return!0}function N5(n,t,e,i){const{x:s,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=s<=(u+f)/2?"left":"right":s<=o/2?d="left":s>=l-o/2&&(d="right"),P5(d,n,t,e)&&(d="center"),d}function yw(n,t,e){const i=e.yAlign||t.yAlign||k5(n,e);return{xAlign:e.xAlign||t.xAlign||N5(n,t,e,i),yAlign:i}}function L5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function V5(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function _w(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=s+o,{topLeft:m,topRight:_,bottomLeft:v,bottomRight:E}=Za(l);let w=L5(t,u);const x=V5(t,f,d);return f==="center"?u==="left"?w+=d:u==="right"&&(w-=d):u==="left"?w-=Math.max(m,v)+s:u==="right"&&(w+=Math.max(_,E)+s),{x:pn(w,0,i.width-t.width),y:pn(x,0,i.height-t.height)}}function Kf(n,t,e){const i=Nn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function vw(n){return ns([],$s(n))}function U5(n,t,e){return fa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function bw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const SR={beforeTitle:Ys,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ys,beforeBody:Ys,beforeLabel:Ys,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Jt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ys,afterBody:Ys,beforeFooter:Ys,footer:Ys,afterFooter:Ys};function Yn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?SR[t].call(e,i):s}class Uy extends zi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,o=new nR(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=U5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Yn(i,"beforeTitle",this,t),o=Yn(i,"title",this,t),l=Yn(i,"afterTitle",this,t);let u=[];return u=ns(u,$s(s)),u=ns(u,$s(o)),u=ns(u,$s(l)),u}getBeforeBody(t,e){return vw(Yn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return _e(t,o=>{const l={before:[],lines:[],after:[]},u=bw(i,o);ns(l.before,$s(Yn(u,"beforeLabel",this,o))),ns(l.lines,Yn(u,"label",this,o)),ns(l.after,$s(Yn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,e){return vw(Yn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Yn(i,"beforeFooter",this,t),o=Yn(i,"footer",this,t),l=Yn(i,"afterFooter",this,t);let u=[];return u=ns(u,$s(s)),u=ns(u,$s(o)),u=ns(u,$s(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(O5(this.chart,e[f]));return t.filter&&(u=u.filter((m,_,v)=>t.filter(m,_,v,i))),t.itemSort&&(u=u.sort((m,_)=>t.itemSort(m,_,i))),_e(u,m=>{const _=bw(t.callbacks,m);s.push(Yn(_,"labelColor",this,m)),o.push(Yn(_,"labelPointStyle",this,m)),l.push(Yn(_,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=uu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=mw(this,i),d=Object.assign({},u,f),m=yw(this.chart,i,d),_=_w(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:m,bottomRight:_}=Za(u),{x:v,y:E}=t,{width:w,height:x}=e;let R,O,N,j,$,F;return o==="center"?($=E+x/2,s==="left"?(R=v,O=R-l,j=$+l,F=$-l):(R=v+w,O=R+l,j=$-l,F=$+l),N=R):(s==="left"?O=v+Math.max(f,m)+l:s==="right"?O=v+w-Math.max(d,_)-l:O=this.caretX,o==="top"?(j=E,$=j-l,R=O-l,N=O+l):(j=E+x,$=j+l,R=O+l,N=O-l),F=j),{x1:R,x2:O,x3:N,y1:j,y2:$,y3:F}}drawTitle(t,e,i){const s=this.title,o=s.length;let l,u,f;if(o){const d=El(i.rtl,this.x,this.width);for(t.x=Kf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=an(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(s[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,m=an(o.bodyFont),_=Kf(this,"left",o),v=s.x(_),E=f<m.lineHeight?(m.lineHeight-f)/2:0,w=e.y+E;if(o.usePointStyle){const x={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=s.leftForLtr(v,d)+d/2,O=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,My(t,x,R,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,My(t,x,R,O)}else{t.lineWidth=ne(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const x=s.leftForLtr(v,d),R=s.leftForLtr(s.xPlus(v,1),d-2),O=Za(l.borderRadius);Object.values(O).some(N=>N!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Vu(t,{x,y:w,w:d,h:f,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Vu(t,{x:R,y:w+1,w:d-2,h:f-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(x,w,d,f),t.strokeRect(x,w,d,f),t.fillStyle=l.backgroundColor,t.fillRect(R,w+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:m}=i,_=an(i.bodyFont);let v=_.lineHeight,E=0;const w=El(i.rtl,this.x,this.width),x=function(C){e.fillText(C,w.x(t.x+E),t.y+v/2),t.y+=v+o},R=w.textAlign(l);let O,N,j,$,F,tt,M;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=Kf(this,R,i),e.fillStyle=i.bodyColor,_e(this.beforeBody,x),E=u&&R!=="right"?l==="center"?d/2+m:d+2+m:0,$=0,tt=s.length;$<tt;++$){for(O=s[$],N=this.labelTextColors[$],e.fillStyle=N,_e(O.before,x),j=O.lines,u&&j.length&&(this._drawColorBox(e,t,$,w,i),v=Math.max(_.lineHeight,f)),F=0,M=j.length;F<M;++F)x(j[F]),v=_.lineHeight;_e(O.after,x)}E=0,v=_.lineHeight,_e(this.afterBody,x),t.y-=o}drawFooter(t,e,i){const s=this.footer,o=s.length;let l,u;if(o){const f=El(i.rtl,this.x,this.width);for(t.x=Kf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=an(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(s[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:m}=i,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:w}=Za(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+_,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+d,f+m-w),e.quadraticCurveTo(u+d,f+m,u+d-w,f+m),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+E,f+m),e.quadraticCurveTo(u,f+m,u,f+m-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=uu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=mw(this,t),f=Object.assign({},l,this._size),d=yw(e,t,f),m=_w(t,f,d,e);(s._to!==m.x||o._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Nn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,e),X1(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Q1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!zd(i,s),l=this._positionChanged(s,e);(o||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!zd(l,o)||u;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,l=uu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}dt(Uy,"positioners",uu);var z5={id:"tooltip",_element:Uy,positioners:uu,afterInit(n,t,e){e&&(n.tooltip=new Uy({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},B5=Object.freeze({__proto__:null,Colors:Z6,Decimation:n5,Filler:T5,Legend:C5,SubTitle:M5,Title:D5,Tooltip:z5});const F5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function j5(n,t,e,i){const s=n.indexOf(t);if(s===-1)return F5(n,t,e,i);const o=n.lastIndexOf(t);return s!==o?e:s}const H5=(n,t)=>n===null?null:pn(Math.round(n),0,t);function Ew(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class zy extends po{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:o}of e)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Jt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:j5(i,t,Ht(e,t),this._addedLabels),H5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return Ew.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}dt(zy,"id","category"),dt(zy,"defaults",{ticks:{callback:Ew}});function q5(n,t){const e=[],{bounds:s,step:o,min:l,max:u,precision:f,count:d,maxTicks:m,maxDigits:_,includeBounds:v}=n,E=o||1,w=m-1,{min:x,max:R}=t,O=!Jt(l),N=!Jt(u),j=!Jt(d),$=(R-x)/(_+1);let F=mS((R-x)/w/E)*E,tt,M,C,D;if(F<1e-14&&!O&&!N)return[{value:x},{value:R}];D=Math.ceil(R/F)-Math.floor(x/F),D>w&&(F=mS(D*F/w/E)*E),Jt(f)||(tt=Math.pow(10,f),F=Math.ceil(F*tt)/tt),s==="ticks"?(M=Math.floor(x/F)*F,C=Math.ceil(R/F)*F):(M=x,C=R),O&&N&&o&&LV((u-l)/o,F/1e3)?(D=Math.round(Math.min((u-l)/F,m)),F=(u-l)/D,M=l,C=u):j?(M=O?l:M,C=N?u:C,D=d-1,F=(C-M)/D):(D=(C-M)/F,vu(D,Math.round(D),F/1e3)?D=Math.round(D):D=Math.ceil(D));const k=Math.max(yS(F),yS(M));tt=Math.pow(10,Jt(f)?k:f),M=Math.round(M*tt)/tt,C=Math.round(C*tt)/tt;let L=0;for(O&&(v&&M!==l?(e.push({value:l}),M<l&&L++,vu(Math.round((M+L*F)*tt)/tt,l,Tw(l,$,n))&&L++):M<l&&L++);L<D;++L){const z=Math.round((M+L*F)*tt)/tt;if(N&&z>u)break;e.push({value:z})}return N&&v&&C!==u?e.length&&vu(e[e.length-1].value,u,Tw(u,$,n))?e[e.length-1].value=u:e.push({value:u}):(!N||C===u)&&e.push({value:C}),e}function Tw(n,t,{horizontal:e,minRotation:i}){const s=Ni(i),o=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Gd extends po{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=f=>s=e?s:f,u=f=>o=i?o:f;if(t){const f=us(s),d=us(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(s===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(s-f)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=q5(s,o);return t.bounds==="ticks"&&k1(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return sh(t,this.chart.options.locale,this.options.ticks.format)}}class By extends Gd{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ze(t)?t:0,this.max=ze(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ni(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}dt(By,"id","linear"),dt(By,"defaults",{ticks:{callback:pg.formatters.numeric}});const zu=n=>Math.floor(Gr(n)),Ya=(n,t)=>Math.pow(10,zu(n)+t);function Sw(n){return n/Math.pow(10,zu(n))===1}function ww(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function Y5(n,t){const e=t-n;let i=zu(e);for(;ww(n,t,i)>10;)i++;for(;ww(n,t,i)<10;)i--;return Math.min(i,zu(n))}function G5(n,{min:t,max:e}){t=li(n.min,t);const i=[],s=zu(t);let o=Y5(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=s>o?Math.pow(10,s):0,d=Math.round((t-f)*l)/l,m=Math.floor((t-f)/u/10)*u*10;let _=Math.floor((d-m)/Math.pow(10,o)),v=li(n.min,Math.round((f+m+_*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:Sw(v),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,l=o>=0?1:l),v=Math.round((f+m+_*Math.pow(10,o))*l)/l;const E=li(n.max,v);return i.push({value:E,major:Sw(E),significand:_}),i}class Fy extends po{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Gd.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ze(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ze(t)?Math.max(0,t):null,this.max=ze(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ze(this._userMin)&&(this.min=t===Ya(this.min,0)?Ya(this.min,-1):Ya(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const o=u=>i=t?i:u,l=u=>s=e?s:u;i===s&&(i<=0?(o(1),l(10)):(o(Ya(i,-1)),l(Ya(s,1)))),i<=0&&o(Ya(s,-1)),s<=0&&l(Ya(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=G5(e,this);return t.bounds==="ticks"&&k1(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":sh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Gr(t),this._valueRange=Gr(this.max)-Gr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Gr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}dt(Fy,"id","logarithmic"),dt(Fy,"defaults",{ticks:{callback:pg.formatters.logarithmic,major:{enabled:!0}}});function jy(n){const t=n.ticks;if(t.display&&n.display){const e=Nn(t.backdropPadding);return Ht(t.font&&t.font.size,Me.font.size)+e.height}return 0}function $5(n,t,e){return e=De(e)?e:[e],{w:JV(n,t.string,e),h:e.length*t.lineHeight}}function xw(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function K5(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?ue/o:0;for(let f=0;f<o;f++){const d=l.setContext(n.getPointLabelContext(f));s[f]=d.padding;const m=n.getPointPosition(f,n.drawingArea+s[f],u),_=an(d.font),v=$5(n.ctx,_,n._pointLabels[f]);i[f]=v;const E=Mn(n.getIndexAngle(f)+u),w=Math.round($_(E)),x=xw(w,m.x,v.w,0,180),R=xw(w,m.y,v.h,90,270);W5(e,t,E,x,R)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Z5(n,i,s)}function W5(n,t,e,i,s){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,f=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),s.start<t.t?(f=(t.t-s.start)/l,n.t=Math.min(n.t,t.t-f)):s.end>t.b&&(f=(s.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function X5(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:l,size:u}=e,f=n.getPointPosition(t,i+s+l,o),d=Math.round($_(Mn(f.angle+Ge))),m=eU(f.y,u.h,d),_=J5(d),v=tU(f.x,u.w,_);return{visible:!0,x:f.x,y:m,textAlign:_,left:v,top:m,right:v+u.w,bottom:m+u.h}}function Q5(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:o}=n;return!(Js({x:e,y:i},t)||Js({x:e,y:o},t)||Js({x:s,y:i},t)||Js({x:s,y:o},t))}function Z5(n,t,e){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,f={extra:jy(o)/2,additionalAngle:l?ue/s:0};let d;for(let m=0;m<s;m++){f.padding=e[m],f.size=t[m];const _=X5(n,m,f);i.push(_),u==="auto"&&(_.visible=Q5(_,d),_.visible&&(d=_))}return i}function J5(n){return n===0||n===180?"center":n<180?"left":"right"}function tU(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function eU(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function nU(n,t,e){const{left:i,top:s,right:o,bottom:l}=e,{backdropColor:u}=t;if(!Jt(u)){const f=Za(t.borderRadius),d=Nn(t.backdropPadding);n.fillStyle=u;const m=i-d.left,_=s-d.top,v=o-i+d.width,E=l-s+d.height;Object.values(f).some(w=>w!==0)?(n.beginPath(),Vu(n,{x:m,y:_,w:v,h:E,radius:f}),n.fill()):n.fillRect(m,_,v,E)}}function iU(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(s));nU(e,l,o);const u=an(l.font),{x:f,y:d,textAlign:m}=o;oo(e,n._pointLabels[s],f,d+u.lineHeight/2,u,{color:l.color,textAlign:m,textBaseline:"middle"})}}function wR(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Re);else{let o=n.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),s.lineTo(o.x,o.y)}}function sU(n,t,e,i,s){const o=n.ctx,l=t.circular,{color:u,lineWidth:f}=t;!l&&!i||!u||!f||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),wR(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function rU(n,t,e){return fa(n,{label:e,index:t,type:"pointLabel"})}class hu extends Gd{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Nn(jy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ze(t)&&!isNaN(t)?t:0,this.max=ze(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jy(this.options))}generateTickLabels(t){Gd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=xe(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?K5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=Re/(this._pointLabels.length||1),i=this.options.startAngle||0;return Mn(t*e+Ni(i))}getDistanceFromCenterForValue(t){if(Jt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Jt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return rU(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Ge+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),wR(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:o}=e,l=this._pointLabels.length;let u,f,d;if(e.pointLabels.display&&iU(this,l),s.display&&this.ticks.forEach((m,_)=>{if(_!==0||_===0&&this.min<0){f=this.getDistanceFromCenterForValue(m.value);const v=this.getContext(_),E=s.setContext(v),w=o.setContext(v);sU(this,E,f,l,w)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const m=i.setContext(this.getPointLabelContext(u)),{color:_,lineWidth:v}=m;!v||!_||(t.lineWidth=v,t.strokeStyle=_,t.setLineDash(m.borderDash),t.lineDashOffset=m.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(f)),m=an(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),d.showLabelBackdrop){t.font=m.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const _=Nn(d.backdropPadding);t.fillRect(-l/2-_.left,-o-m.size/2-_.top,l+_.width,m.size+_.height)}oo(t,u.label,0,-o,m,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}dt(hu,"id","radialLinear"),dt(hu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),dt(hu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),dt(hu,"descriptors",{angleLines:{_fallback:"grid"}});const Eg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kn=Object.keys(Eg);function Aw(n,t){return n-t}function Rw(n,t){if(Jt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ze(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(Dl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,s)),+l)}function Cw(n,t,e,i){const s=Kn.length;for(let o=Kn.indexOf(n);o<s-1;++o){const l=Eg[Kn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Kn[o]}return Kn[s-1]}function aU(n,t,e,i,s){for(let o=Kn.length-1;o>=Kn.indexOf(e);o--){const l=Kn[o];if(Eg[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Kn[e?Kn.indexOf(e):0]}function oU(n){for(let t=Kn.indexOf(n)+1,e=Kn.length;t<e;++t)if(Eg[Kn[t]].common)return Kn[t]}function Iw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=K_(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function lU(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+s.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function Dw(n,t,e){const i=[],s={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return o===0||!e?i:lU(n,i,s,e)}class Bu extends po{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new m3._date(t.adapters.date);s.init(e),_u(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Rw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=ze(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),o=ze(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=BV(s,o,l);return this._unit=e.unit||(i.autoSkip?Cw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):aU(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:oU(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),Dw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=pn(e,0,l),i=pn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||Cw(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ht(s.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=Dl(f)||f===!0,m={};let _=e,v,E;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(v=_,E=0;v<i;v=+t.add(v,u,l),E++)Iw(m,v,w);return(v===i||s.bounds==="ticks"||E===1)&&Iw(m,v,w),Object.keys(m).sort(Aw).map(x=>+x)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,l=e||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const o=this.options,l=o.ticks.callback;if(l)return xe(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,m=f&&u[f],_=d&&u[d],v=i[e],E=d&&_&&v&&v.major;return this._adapter.format(t,s||(E?_:m))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Ni(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Dw(this,[t],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Rw(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return L1(t.sort(Aw))}}dt(Bu,"id","time"),dt(Bu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wf(n,t,e){let i=0,s=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Zs(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Zs(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[s]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class Hy extends Bu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Wf(e,this.min),this._tableRange=Wf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let l,u,f,d,m;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)m=s[l+1],f=s[l-1],d=s[l],Math.round((m+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Wf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Wf(this._table,i*this._tableRange+this._minPos,!0)}}dt(Hy,"id","timeseries"),dt(Hy,"defaults",Bu.defaults);var cU=Object.freeze({__proto__:null,CategoryScale:zy,LinearScale:By,LogarithmicScale:Fy,RadialLinearScale:hu,TimeScale:Bu,TimeSeriesScale:Hy});const uU=[p3,Y6,B5,cU];ci.register(...uU);function hU(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}hU(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var rv=n=>typeof n=="number"&&!isNaN(n),Fu=n=>typeof n=="string",xR=n=>typeof n=="function",fU=n=>Fu(n)||rv(n),dU=n=>X.isValidElement(n)||Fu(n)||xR(n)||rv(n),gU=1,AR=()=>`${gU++}`,hs=new Map,qy=[],Mw=new Set,RR=()=>hs.size>0,pU=(n,{containerId:t})=>{var e;return(e=hs.get(t||1))==null?void 0:e.toasts.get(n)};function mU(n,t){var e;if(t)return!!((e=hs.get(t))!=null&&e.isToastActive(n));let i=!1;return hs.forEach(s=>{s.isToastActive(n)&&(i=!0)}),i}function yU(n){if(!RR()){qy=qy.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||fU(n))hs.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=hs.get(n.containerId);t?t.removeToast(n.id):hs.forEach(e=>{e.removeToast(n.id)})}}var _U=(n={})=>{hs.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function vU(n,t){dU(n)&&(RR()||qy.push({content:n,options:t}),hs.forEach(e=>{e.buildToast(n,t)}))}function CR(n,t){hs.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function bU(n){return Mw.add(n),()=>{Mw.delete(n)}}function EU(n){return n&&(Fu(n.toastId)||rv(n.toastId))?n.toastId:AR()}function rh(n,t){return vU(n,t),t.toastId}function Tg(n,t){return{...t,type:t&&t.type||n,toastId:EU(t)}}function Sg(n){return(t,e)=>rh(t,Tg(n,e))}function xt(n,t){return rh(n,Tg("default",t))}xt.loading=(n,t)=>rh(n,Tg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function TU(n,{pending:t,error:e,success:i},s){let o;t&&(o=Fu(t)?xt.loading(t,s):xt.loading(t.render,{...s,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,m,_)=>{if(m==null){xt.dismiss(o);return}let v={type:d,...l,...s,data:_},E=Fu(m)?{render:m}:m;return o?xt.update(o,{...v,...E}):xt(E.render,{...v,...E}),_},f=xR(n)?n():n;return f.then(d=>u("success",i,d)).catch(d=>u("error",e,d)),f}xt.promise=TU;xt.success=Sg("success");xt.info=Sg("info");xt.error=Sg("error");xt.warning=Sg("warning");xt.warn=xt.warning;xt.dark=(n,t)=>rh(n,Tg("default",{theme:"dark",...t}));function SU(n){yU(n)}xt.dismiss=SU;xt.clearWaitingQueue=_U;xt.isActive=mU;xt.update=(n,t={})=>{let e=pU(n,t);if(e){let{props:i,content:s}=e,o={delay:100,...i,...t,toastId:t.toastId||n,updateId:AR()};o.toastId!==n&&(o.staleId=n);let l=o.render||s;delete o.render,rh(l,o)}};xt.done=n=>{xt.update(n,{progress:1})};xt.onChange=bU;xt.play=n=>CR(!0,n);xt.pause=n=>CR(!1,n);class ah{constructor(t=0,e="Network Error"){this.status=t,this.text=e}}const wU=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,t)=>Promise.resolve(localStorage.setItem(n,t)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Tn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:wU()},av=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},xU=(n,t="https://api.emailjs.com")=>{if(!n)return;const e=av(n);Tn.publicKey=e.publicKey,Tn.blockHeadless=e.blockHeadless,Tn.storageProvider=e.storageProvider,Tn.blockList=e.blockList,Tn.limitRate=e.limitRate,Tn.origin=e.origin||t},IR=async(n,t,e={})=>{const i=await fetch(Tn.origin+n,{method:"POST",headers:e,body:t}),s=await i.text(),o=new ah(i.status,s);if(i.ok)return o;throw o},DR=(n,t,e)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},AU=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},MR=n=>n.webdriver||!n.languages||n.languages.length===0,OR=()=>new ah(451,"Unavailable For Headless Browser"),RU=(n,t)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},CU=n=>{var t;return!((t=n.list)!=null&&t.length)||!n.watchVariable},IU=(n,t)=>n instanceof FormData?n.get(t):n[t],kR=(n,t)=>{if(CU(n))return!1;RU(n.list,n.watchVariable);const e=IU(t,n.watchVariable);return typeof e!="string"?!1:n.list.includes(e)},PR=()=>new ah(403,"Forbidden"),DU=(n,t)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},MU=async(n,t,e)=>{const i=Number(await e.get(n)||0);return t-Date.now()+i},NR=async(n,t,e)=>{if(!t.throttle||!e)return!1;DU(t.throttle,t.id);const i=t.id||n;return await MU(i,t.throttle,e)>0?!0:(await e.set(i,Date.now().toString()),!1)},LR=()=>new ah(429,"Too Many Requests"),OU=async(n,t,e,i)=>{const s=av(i),o=s.publicKey||Tn.publicKey,l=s.blockHeadless||Tn.blockHeadless,u=s.storageProvider||Tn.storageProvider,f={...Tn.blockList,...s.blockList},d={...Tn.limitRate,...s.limitRate};return l&&MR(navigator)?Promise.reject(OR()):(DR(o,n,t),AU(e),e&&kR(f,e)?Promise.reject(PR()):await NR(location.pathname,d,u)?Promise.reject(LR()):IR("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"}))},kU=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},PU=n=>typeof n=="string"?document.querySelector(n):n,NU=async(n,t,e,i)=>{const s=av(i),o=s.publicKey||Tn.publicKey,l=s.blockHeadless||Tn.blockHeadless,u=Tn.storageProvider||s.storageProvider,f={...Tn.blockList,...s.blockList},d={...Tn.limitRate,...s.limitRate};if(l&&MR(navigator))return Promise.reject(OR());const m=PU(e);DR(o,n,t),kU(m);const _=new FormData(m);return kR(f,_)?Promise.reject(PR()):await NR(location.pathname,d,u)?Promise.reject(LR()):(_.append("lib_version","4.4.1"),_.append("service_id",n),_.append("template_id",t),_.append("user_id",o),IR("/api/v1.0/email/send-form",_))},Jm={init:xU,send:OU,sendForm:NU,EmailJSResponseStatus:ah};function LU(){const n=Kd(),[t,e]=X.useState(!0),[i,s]=X.useState(!0),[o,l]=X.useState(!0),[u,f]=X.useState(!0),[d,m]=X.useState(!1),[_,v]=X.useState(!1),[E,w]=X.useState(!1),[x,R]=X.useState(!1),[O,N]=X.useState(!1),[j,$]=X.useState(""),[F,tt]=X.useState(""),[M,C]=X.useState([]),[D,k]=X.useState(0),[L,z]=X.useState({name:"",amount:"",category:"Food"}),[P,$t]=X.useState(!0),[Ct,W]=X.useState("Set a budget to get spending insights."),[lt,pt]=X.useState(!1),[Et,U]=X.useState(""),[nt,ut]=X.useState(null),[ct,vt]=X.useState(""),[Vt,Rt]=X.useState({}),[Ne,he]=X.useState({}),[Xn,Qn]=X.useState("Add expenses to receive daily spending advice."),[$e,ps]=X.useState(null),[Yt,Be]=X.useState(!navigator.onLine),ms=X.useRef(null),ur=X.useRef(null),xn=X.useRef(null),mo=X.useRef(null),hr=X.useRef(null),Le=X.useRef({category:null,daily:null,monthly:null,forecast:null,previous:null});X.useEffect(()=>{const ot="ocDh7Ou7OaNwwoq5A";try{Jm.init({publicKey:ot,blockHeadless:!0,limitRate:{id:"app",throttle:1e4}}),console.log("EmailJS initialized with public key:",ot)}catch(ht){console.error("EmailJS initialization failed:",ht),xt.error("EmailJS initialization failed: "+ht.message)}},[]),X.useEffect(()=>{const ot=()=>Be(!1),ht=()=>Be(!0);return window.addEventListener("online",ot),window.addEventListener("offline",ht),Be(!navigator.onLine),()=>{window.removeEventListener("online",ot),window.removeEventListener("offline",ht)}},[]),X.useEffect(()=>{const ot=Gn.onAuthStateChanged(async ht=>{var gt,wt,Dt,Tt,yt;if(!ht||ht.isAnonymous)n("/login");else try{const kt=zr(oi,"users",ht.uid),St=await Nf(kt);St.exists()?($(((gt=St.data())==null?void 0:gt.username)||"User"),tt(((wt=St.data())==null?void 0:wt.budget)||""),$t(!((Dt=St.data())!=null&&Dt.budget)||((Tt=St.data())==null?void 0:Tt.lastBudgetMonth)!==new Date().getMonth())):(console.warn("User document not found. Creating new document."),await pl(kt,{username:ht.displayName||"User",email:ht.email||""}),$(ht.displayName||"User"),$t(!0)),await Hl(ht.uid,St.exists()&&((yt=St.data())==null?void 0:yt.email)||ht.email),await _s(ht.uid),await Je(ht.uid)}catch(kt){console.error("Firestore auth error:",kt),kt.code==="unavailable"?(Be(!0),W("You are offline. Set a budget to get insights when reconnected."),Qn("You are offline. Add expenses when reconnected for advice."),he({}),xt.error("You are offline. Some features may be unavailable.")):xt.error("Failed to load user data. Check Firebase configuration.")}finally{e(!1)}});return()=>ot()},[n]),X.useEffect(()=>{$e&&ms.current&&ur.current&&xn.current&&!u&&_o($e.category,$e.daily,$e.monthly)},[$e,u]);const ys=async()=>{try{await Gn.signOut(),n("/")}catch(ot){console.error("Logout error:",ot),xt.error("Failed to log out. Please try again.")}},Hl=async(ot,ht)=>{var gt,wt,Dt;s(!0);try{const Tt=zr(oi,"users",ot),yt=await Nf(Tt),St=new Date().getMonth(),ie=yt.exists()?(gt=yt.data())==null?void 0:gt.lastBudgetMonth:null;yt.exists()?ie!==St?($t(!0),await pl(Tt,{lastBudgetMonth:St,previousBudget:((wt=yt.data())==null?void 0:wt.budget)||0,email:ht},{merge:!0})):($t(!1),tt(((Dt=yt.data())==null?void 0:Dt.budget)||"")):(await pl(Tt,{email:ht,lastBudgetMonth:St,budget:0}),$t(!0))}catch(Tt){console.error("Firestore checkForBudgetReset error:",Tt),Tt.code==="unavailable"?(Be(!0),xt.error("You are offline. Budget data may not be updated.")):xt.error("Failed to load budget data. Check Firebase configuration.")}finally{s(!1)}},fr=async()=>{var ht;const ot=(ht=Gn.currentUser)==null?void 0:ht.uid;if(!ot||!F||isNaN(F)||F<=0){xt.error("Please enter a valid budget amount.");return}s(!0);try{await pl(zr(oi,"users",ot),{budget:parseFloat(F)},{merge:!0}),$t(!1),await _s(ot)}catch(gt){console.error("Firestore setUserBudget error:",gt),gt.code==="unavailable"?(Be(!0),xt.error("You are offline. Budget will be saved when you reconnect.")):xt.error("Failed to set budget. Check Firebase configuration.")}finally{s(!1)}},_s=async ot=>{l(!0),f(!0);try{const ht=new Date,gt=new Date(ht.getFullYear(),ht.getMonth(),1).getTime(),wt=ol(oi,"users",ot,"expenses"),Dt=Pf(wt,ll("timestamp",">=",gt)),Tt=await Kc(Dt),yt=[];let kt=0;const St={},ie={Food:0,Transport:0,Entertainment:0,Bills:0,Other:0},Bt=`${ht.getFullYear()}-${(ht.getMonth()+1).toString().padStart(2,"0")}`,Pt={[Bt]:0};Tt.empty||Tt.forEach(zt=>{const jt=zt.data();if(jt.amount&&jt.timestamp&&jt.category){yt.push({id:zt.id,...jt}),kt+=jt.amount;const se=new Date(jt.timestamp),Fn=se.toLocaleDateString("en-US",{month:"short",day:"numeric"}),tn=`${se.getFullYear()}-${(se.getMonth()+1).toString().padStart(2,"0")}`;St[Fn]=(St[Fn]||0)+jt.amount,ie[jt.category]=(ie[jt.category]||0)+jt.amount,tn===Bt&&(Pt[tn]=(Pt[tn]||0)+jt.amount)}}),C(yt),k(kt),W(Ce(F,kt)),await fe(ie,ot),await Ln(kt,ot),ps({category:ie,daily:St,monthly:Pt})}catch(ht){console.error("Firestore loadExpenses error:",ht),ht.code==="unavailable"?(Be(!0),W("You are offline. Set a budget to get insights when reconnected."),Qn("You are offline. Add expenses when reconnected for advice."),he({}),xt.error("You are offline. Expense data may not be available.")):xt.error("Failed to load expenses. Check Firebase configuration.")}finally{l(!1),f(!1)}},yo=async()=>{var Dt;const ot=(Dt=Gn.currentUser)==null?void 0:Dt.uid;if(!ot||Yt){xt.error(Yt?"You are offline. Expenses cannot be added.":"User not authenticated.");return}const{name:ht,amount:gt,category:wt}=L;if(!ht||!gt||isNaN(gt)||gt<=0){xt.error("Please enter a valid expense name and amount.");return}l(!0);try{await ZL(ol(oi,"users",ot,"expenses"),{name:ht,amount:parseFloat(gt),category:wt,timestamp:Date.now()}),z({name:"",amount:"",category:"Food"}),await _s(ot),await Je(ot)}catch(Tt){console.error("Firestore addExpense error:",Tt),Tt.code==="unavailable"?(Be(!0),xt.error("You are offline. Expense will be synced when you reconnect.")):xt.error("Failed to add expense. Check Firebase configuration.")}finally{l(!1)}},Ce=(ot,ht)=>{const gt=parseFloat(ot);return gt?ht>gt?"You’ve overspent. Consider reducing non-essential expenses.":ht>gt*.9?"You're close to your limit. Consider saving more.":ht<gt*.5?"Great job! You are well below budget.":"You are spending moderately. Keep it up.":"Set a budget to get spending insights."},fe=async(ot,ht)=>{const gt=parseFloat(F);if(!gt){he({});return}const wt={},Dt=["Food","Transport","Entertainment","Bills","Other"];Dt.forEach(Tt=>{const kt=(ot[Tt]||0)/(gt/Dt.length)*100;kt>=100?wt[Tt]=`❗ You’ve overspent on ${Tt}`:kt>=80&&(wt[Tt]=`⚠ You’ve spent ${kt.toFixed(0)}% of your ${Tt} budget`)}),he(wt)},Ln=async(ot,ht)=>{const gt=parseFloat(F);if(!gt){Qn("Set a budget to receive daily spending advice.");return}const wt=new Date,Dt=new Date(wt.getFullYear(),wt.getMonth()+1,0).getDate(),Tt=wt.getDate(),yt=Dt-Tt+1,kt=gt-ot,St=kt/yt;let ie;St<0?ie=`You're ₦${Math.abs(kt).toFixed(2)} above pace. Spend no more than ₦0/day to recover.`:St<gt/Dt*.5?ie=`You're spending faster than planned. Keep daily spending under ₦${St.toFixed(2)} to stay on track.`:ie=`You're on track! Keep spending under ₦${St.toFixed(2)}/day.`,Qn(ie)},Je=async ot=>{N(!0),v(!0);try{const ht=new Date,gt=new Date(ht.getFullYear(),ht.getMonth()-6,1).getTime(),wt=ol(oi,"users",ot,"expenses"),Dt=Pf(wt,ll("timestamp",">=",gt)),Tt=await Kc(Dt),yt={},kt={};Tt.forEach(Pt=>{const zt=Pt.data();if(zt.amount&&zt.timestamp&&zt.category){const jt=new Date(zt.timestamp),se=`${jt.getFullYear()}-${(jt.getMonth()+1).toString().padStart(2,"0")}`;yt[zt.category]=(yt[zt.category]||0)+zt.amount,kt[se]=(kt[se]||0)+1}});const St={};let ie=0;["Food","Transport","Entertainment","Bills","Other"].forEach(Pt=>{const zt=yt[Pt]||0,jt=Object.keys(kt).length>0?zt/Object.keys(kt).length:0;St[Pt]={predicted:jt,actual:M.filter(se=>se.category===Pt).reduce((se,Fn)=>se+Fn.amount,0),suggestion:jt>0?`You normally spend ₦${jt.toFixed(2)} on ${Pt}. Consider adjusting to ₦${(jt*.9).toFixed(2)}.`:`No ${Pt} spending recorded recently.`},ie+=jt}),St.summary=`Projected total spending for next month: ₦${ie.toFixed(2)}. Review category suggestions to optimize your budget.`,Rt(St),setTimeout(()=>ql(St),100)}catch(ht){console.error("Firestore predictExpenses error:",ht),ht.code==="unavailable"?(Be(!0),xt.error("You are offline. Predictions may not be available.")):xt.error("Failed to load expense predictions. Check Firebase configuration.")}finally{N(!1),v(!1)}},_o=(ot,ht,gt)=>{var kt,St,ie;const wt=(kt=ms.current)==null?void 0:kt.getContext("2d"),Dt=(St=ur.current)==null?void 0:St.getContext("2d"),Tt=(ie=xn.current)==null?void 0:ie.getContext("2d");Le.current.category&&Le.current.category.destroy(),Le.current.daily&&Le.current.daily.destroy(),Le.current.monthly&&Le.current.monthly.destroy();const yt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:15,boxWidth:20,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(30, 58, 138, 0.8)",titleFont:{size:14,family:"Arial",weight:"bold"},bodyFont:{size:12,family:"Arial"},padding:10,cornerRadius:5,callbacks:{label:Bt=>Bt.label==="No Data"?"No expenses recorded":`₦${Bt.raw.toFixed(2)}`}}},animation:{duration:1e3,easing:"easeOutQuart"}};if(wt&&(Le.current.category=new ci(wt,{type:"pie",data:{labels:Object.keys(ot).length>0?Object.keys(ot):["No Data"],datasets:[{data:Object.keys(ot).length>0?Object.values(ot):[1],backgroundColor:["#3b82f6","#10b981","#fbbf24","#ef4444","#a78bfa"],borderColor:"#fff",borderWidth:2}]},options:{...yt,plugins:{...yt.plugins,title:{display:!0,text:"Category Breakdown",font:{size:18,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:{top:10,bottom:20}}}}})),Dt){const Bt=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"}),Pt=Object.keys(ht).sort((jt,se)=>new Date(jt)-new Date(se)),zt=Pt.map(jt=>ht[jt]);Le.current.daily=new ci(Dt,{type:"line",data:{labels:Pt.length>0?Pt:[Bt],datasets:[{label:"Daily Spending",data:Pt.length>0?zt:[0],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.2)",fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"#1e3a8a"}]},options:{...yt,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Amount (₦)",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{color:"#e5e7eb"},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a"}},x:{title:{display:!0,text:"Date",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{display:!1},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a",maxTicksLimit:10,autoSkip:!0}}},plugins:{...yt.plugins,title:{display:!0,text:"Daily Spending",font:{size:18,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:{top:10,bottom:20}}}}})}if(Tt){const Bt=`${new Date().getFullYear()}-${(new Date().getMonth()+1).toString().padStart(2,"0")}`;Le.current.monthly=new ci(Tt,{type:"bar",data:{labels:Object.keys(gt).length>0?Object.keys(gt):[Bt],datasets:[{label:"Monthly Spending",data:Object.keys(gt).length>0?Object.values(gt):[0],backgroundColor:"#10b981",borderColor:"#10b981",borderWidth:1}]},options:{...yt,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Amount (₦)",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{color:"#e5e7eb"},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a"}},x:{title:{display:!0,text:"Month",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{display:!1},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a",maxTicksLimit:6,autoSkip:!0}}},plugins:{...yt.plugins,title:{display:!0,text:"Monthly Spending",font:{size:18,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:{top:10,bottom:20}}}}})}},ql=ot=>{var gt;const ht=(gt=mo.current)==null?void 0:gt.getContext("2d");if(Le.current.forecast&&Le.current.forecast.destroy(),ht){const wt=["Food","Transport","Entertainment","Bills","Other"];Le.current.forecast=new ci(ht,{type:"bar",data:{labels:wt,datasets:[{label:"Predicted Spending",data:wt.map(Dt=>{var Tt;return((Tt=ot[Dt])==null?void 0:Tt.predicted)||0}),backgroundColor:"#3b82f6",borderColor:"#3b82f6",borderWidth:1},{label:"Actual Spending",data:wt.map(Dt=>{var Tt;return((Tt=ot[Dt])==null?void 0:Tt.actual)||0}),backgroundColor:"#fbbf24",borderColor:"#fbbf24",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Amount (₦)",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{color:"#e5e7eb"},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a"}},x:{title:{display:!0,text:"Category",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{display:!1},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a",maxTicksLimit:5,autoSkip:!1}}},plugins:{legend:{position:"top",labels:{font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:15,boxWidth:20,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(30, 58, 138, 0.8)",titleFont:{size:14,family:"Arial",weight:"bold"},bodyFont:{size:12,family:"Arial"},padding:10,cornerRadius:5,callbacks:{label:Dt=>`₦${Dt.raw.toFixed(2)}`}},title:{display:!0,text:"Expense Forecast",font:{size:18,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:{top:10,bottom:20}}},animation:{duration:1e3,easing:"easeOutQuart"}}})}},vs=ot=>{var gt;const ht=(gt=hr.current)==null?void 0:gt.getContext("2d");if(Le.current.previous&&Le.current.previous.destroy(),ht){const wt=Object.keys(ot).sort((Tt,yt)=>new Date(Tt)-new Date(yt)),Dt=wt.map(Tt=>ot[Tt]);Le.current.previous=new ci(ht,{type:"line",data:{labels:wt.length>0?wt:["No Data"],datasets:[{label:"Daily Spending",data:wt.length>0?Dt:[0],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.2)",fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"#1e3a8a"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Amount (₦)",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{color:"#e5e7eb"},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a"}},x:{title:{display:!0,text:"Date",font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a"},grid:{display:!1},ticks:{font:{size:12,family:"Arial"},color:"#1e3a8a",maxTicksLimit:10,autoSkip:!0,callback:function(Tt,yt,kt){const St=new Date(wt[yt]);return yt%3===0||yt===0||yt===kt.length-1?St.toLocaleDateString("en-US",{month:"short",day:"numeric"}):null}}}},plugins:{legend:{position:"top",labels:{font:{size:14,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:15,boxWidth:20,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(30, 58, 138, 0.8)",titleFont:{size:14,family:"Arial",weight:"bold"},bodyFont:{size:12,family:"Arial"},padding:10,cornerRadius:5,callbacks:{label:Tt=>`₦${Tt.raw.toFixed(2)}`}},title:{display:!0,text:`Spending for ${Et}`,font:{size:18,family:"Arial",weight:"bold"},color:"#1e3a8a",padding:{top:10,bottom:20}}},animation:{duration:1e3,easing:"easeOutQuart"}}})}},bs=async()=>{var ot;if(!Et){xt.error("Please select a month.");return}m(!0);try{const ht=(ot=Gn.currentUser)==null?void 0:ot.uid,[gt,wt]=Et.split("-").map(Number),Dt=new Date(gt,wt-1,1).getTime(),Tt=new Date(gt,wt,0,23,59,59).getTime(),yt=ol(oi,"users",ht,"expenses"),kt=Pf(yt,ll("timestamp",">=",Dt),ll("timestamp","<=",Tt)),St=await Kc(kt);let ie=0;const Bt={},Pt={Food:0,Transport:0,Entertainment:0,Bills:0,Other:0},zt={[Et]:0};St.empty||St.forEach(tn=>{const Fe=tn.data();if(Fe.amount&&Fe.timestamp&&Fe.category){ie+=Fe.amount;const Ai=new Date(Fe.timestamp),Ri=Ai.toLocaleDateString("en-US",{month:"short",day:"numeric"}),hi=`${Ai.getFullYear()}-${(Ai.getMonth()+1).toString().padStart(2,"0")}`;Bt[Ri]=(Bt[Ri]||0)+Fe.amount,Pt[Fe.category]=(Pt[Fe.category]||0)+Fe.amount,zt[hi]=(zt[hi]||0)+Fe.amount}});const jt=Object.keys(Bt).sort((tn,Fe)=>new Date(tn)-new Date(Fe)),se={};jt.forEach((tn,Fe)=>{(Fe%3===0||Fe===0||Fe===jt.length-1)&&(se[tn]=Bt[tn])});const Fn=await Es(ie,ht);ut({total:ie,daily:se,category:Pt,monthly:zt,aiSummary:Fn}),setTimeout(()=>vs(se),100)}catch(ht){console.error("Firestore fetchPreviousData error:",ht),ht.code==="unavailable"?(Be(!0),xt.error("You are offline. Previous month data may not be available.")):xt.error("Failed to load previous month data. Check Firebase configuration.")}finally{m(!1)}},Es=async(ot,ht)=>{var gt;try{const wt=zr(oi,"users",ht),Tt=((gt=(await Nf(wt)).data())==null?void 0:gt.previousBudget)||0,yt=parseFloat(Tt);return yt===0?"No budget set for the previous month.":ot>yt?`You overspent by ₦${(ot-yt).toFixed(2)} last month. Consider cutting back on non-essentials.`:ot>yt*.9?`You were within 10% of your ₦${yt.toFixed(2)} budget last month. Try to save more.`:ot<yt*.5?`Excellent! You spent only ₦${ot.toFixed(2)} of your ₦${yt.toFixed(2)} budget last month.`:`You spent ₦${ot.toFixed(2)} of your ₦${yt.toFixed(2)} budget last month. Good job staying on track.`}catch(wt){return console.error("Firestore getPreviousMonthSuggestion error:",wt),wt.code==="unavailable"?(Be(!0),"You are offline. Previous budget data unavailable."):"Failed to load previous budget data."}},Zn=async ot=>{var ht;if(!ot||Yt){xt.error(Yt?"You are offline. Email reports cannot be sent.":"Please enter a valid email address.");return}w(!0);try{const gt="NQbcTEsLqqTxBfhk4",wt="template_6qcikwj",Dt="ocDh7Ou7OaNwwoq5A",Tt=`${new Date().getFullYear()}-${(new Date().getMonth()+1).toString().padStart(2,"0")}`;let yt=`Category Breakdown:
`;if($e!=null&&$e.category&&Object.keys($e.category).length>0)for(const[Bt,Pt]of Object.entries($e.category))yt+=`${Bt}: ₦${Pt.toFixed(2)}
`;else yt+=`No expenses recorded this month.
`;const kt=`
Your Spending Report for ${Tt}:
Total Spent: ₦${D.toFixed(2)}
${yt}
AI Suggestion: ${Ct}
Daily Advice: ${Xn}
      `.trim(),St={to_email:ot,to_name:((ht=Gn.currentUser)==null?void 0:ht.displayName)||"User",total_spent:D.toFixed(2),budget:parseFloat(F||0).toFixed(2),message:kt};console.log("Sending email with params:",St);const ie=await Jm.send(gt,wt,St);xt.success("Current month report sent to your email!"),console.log("EmailJS response:",ie)}catch(gt){console.error("EmailJS error:",gt),xt.error("Failed to send current month report: "+gt.message)}finally{w(!1)}},dr=async()=>{var ht,gt,wt,Dt,Tt,yt;if(!nt||!Et){xt.error("No data available to send.");return}const ot=(ht=Gn.currentUser)==null?void 0:ht.uid;if(!ot||Yt){xt.error(Yt?"You are offline. Email reports cannot be sent.":"User not authenticated.");return}w(!0);try{const kt="NQbcTEsLqqTxBfhk4",St="template_6qcikwj",ie="ocDh7Ou7OaNwwoq5A",Bt=zr(oi,"users",ot),Pt=await Nf(Bt);let zt=((gt=Pt.data())==null?void 0:gt.email)||((wt=Gn.currentUser)==null?void 0:wt.email)||ct;const jt=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!zt||!zt.match(jt)){xt.error("Please enter a valid email address.");return}ct&&ct!==((Dt=Pt.data())==null?void 0:Dt.email)&&await pl(zr(oi,"users",ot),{email:ct},{merge:!0});const se={to_email:zt,to_name:((Tt=Gn.currentUser)==null?void 0:Tt.displayName)||"User",total_spent:nt.total.toFixed(2),budget:parseFloat(((yt=Pt.data())==null?void 0:yt.previousBudget)||0).toFixed(2),message:`Your Spending Report for ${Et}:
Total Spent: ₦${nt.total.toFixed(2)}
Summary: ${nt.aiSummary}`};console.log("Sending previous month email with params:",se);const Fn=await Jm.send(kt,St,se);xt.success(`Report for ${Et} sent to your email!`),console.log("EmailJS response:",Fn)}catch(kt){console.error("EmailJS error:",kt),xt.error("Failed to send previous month report: "+kt.message)}finally{w(!1),vt("")}},Ts=async()=>{var ht;R(!0);const ot=(ht=Gn.currentUser)==null?void 0:ht.uid;if(!ot||Yt){xt.error(Yt?"You are offline. CSV download unavailable.":"User not authenticated.");return}try{const gt=await Kc(ol(oi,"users",ot,"expenses"));let wt=`Name,Amount,Category,Date
`;gt.forEach(kt=>{const St=kt.data();if(St.name&&St.amount&&St.category&&St.timestamp){const ie=new Date(St.timestamp).toLocaleDateString();wt+=`${St.name},${St.amount.toFixed(2)},${St.category},${ie}
`}});const Dt=new Blob([wt],{type:"text/csv;charset=utf-8;"}),Tt=URL.createObjectURL(Dt),yt=document.createElement("a");yt.href=Tt,yt.download="expenses.csv",yt.click(),URL.revokeObjectURL(Tt)}catch(gt){console.error("Firestore downloadCSV error:",gt),gt.code==="unavailable"?(Be(!0),xt.error("You are offline. CSV download will be available when you reconnect.")):xt.error("Failed to download CSV. Check Firebase configuration.")}finally{R(!1)}},da=async()=>{var ht;if(!Et){xt.error("Please select a month.");return}R(!0);const ot=(ht=Gn.currentUser)==null?void 0:ht.uid;if(!ot||Yt){xt.error(Yt?"You are offline. CSV download unavailable.":"User not authenticated.");return}try{const[gt,wt]=Et.split("-").map(Number),Dt=new Date(gt,wt-1,1).getTime(),Tt=new Date(gt,wt,0,23,59,59).getTime(),yt=ol(oi,"users",ot,"expenses"),kt=Pf(yt,ll("timestamp",">=",Dt),ll("timestamp","<=",Tt)),St=await Kc(kt);let ie=`Name,Amount,Category,Date
`;St.forEach(jt=>{const se=jt.data();if(se.name&&se.amount&&se.category&&se.timestamp){const Fn=new Date(se.timestamp).toLocaleDateString();ie+=`${se.name},${se.amount.toFixed(2)},${se.category},${Fn}
`}});const Bt=new Blob([ie],{type:"text/csv;charset=utf-8;"}),Pt=URL.createObjectURL(Bt),zt=document.createElement("a");zt.href=Pt,zt.download=`expenses_${Et}.csv`,zt.click(),URL.revokeObjectURL(Pt)}catch(gt){console.error("Firestore downloadPreviousMonthCSV error:",gt),gt.code==="unavailable"?(Be(!0),xt.error("You are offline. CSV download will be available when you reconnect.")):xt.error("Failed to download previous month CSV. Check Firebase configuration.")}finally{R(!1)}};if(t)return J.jsxs("div",{className:"loader-wrapper",children:[J.jsx("div",{className:"loader"}),J.jsx("p",{children:"Checking authentication..."})]});const Bi=parseFloat(F)>0&&D>=parseFloat(F);return J.jsxs("div",{className:"container",children:[J.jsx("div",{className:"header",children:J.jsx("button",{onClick:ys,className:"button button-danger","aria-label":"Logout",children:"Logout"})}),Yt&&J.jsx("div",{className:"offline-banner",children:J.jsx("p",{children:"You are offline. Some features may be limited until you reconnect."})}),J.jsxs("h1",{className:"title",children:["Welcome, ",j]}),i?J.jsxs("div",{className:"loader-wrapper",children:[J.jsx("div",{className:"loader"}),J.jsx("p",{children:"Loading budget..."})]}):P?J.jsxs("div",{className:"section",children:[J.jsx("h2",{children:"Set Your Monthly Budget"}),J.jsx("input",{type:"number",value:F,onChange:ot=>tt(ot.target.value),className:"input",placeholder:"Enter budget (₦)","aria-label":"Monthly budget",disabled:Yt}),J.jsx("button",{onClick:fr,className:"button button-blue",disabled:i||Yt,children:i?"Setting Budget...":Yt?"Offline":"Set Budget"})]}):J.jsx("div",{className:"section",children:J.jsx("button",{onClick:()=>$t(!0),className:"button button-danger","aria-label":"Reset budget",disabled:Yt,children:"Reset Budget"})}),J.jsxs("p",{className:"budget-info",children:["Budget: ₦",F||"0"]}),J.jsxs("div",{className:"section",children:[J.jsx("h2",{children:"Add Expense"}),J.jsx("input",{type:"text",placeholder:"Name",value:L.name,onChange:ot=>z({...L,name:ot.target.value}),className:"input",disabled:Bi||o||Yt,"aria-label":"Expense name"}),J.jsx("input",{type:"number",placeholder:"Amount",value:L.amount,onChange:ot=>z({...L,amount:ot.target.value}),className:"input",disabled:Bi||o||Yt,"aria-label":"Expense amount"}),J.jsxs("select",{value:L.category,onChange:ot=>z({...L,category:ot.target.value}),className:"input",disabled:Bi||o||Yt,"aria-label":"Expense category",children:[J.jsx("option",{value:"Food",children:"Food"}),J.jsx("option",{value:"Transport",children:"Transport"}),J.jsx("option",{value:"Entertainment",children:"Entertainment"}),J.jsx("option",{value:"Bills",children:"Bills"}),J.jsx("option",{value:"Other",children:"Other"})]}),Bi?J.jsx("p",{className:"budget-limit",children:"You have reached your budget limit"}):J.jsx("button",{onClick:yo,className:"button button-green",disabled:o||Yt,children:o?"Adding Expense...":Yt?"Offline":"Add Expense"})]}),J.jsxs("div",{className:"section",children:[J.jsx("h2",{children:"Expenses"}),o?J.jsxs("div",{className:"loader-wrapper",children:[J.jsx("div",{className:"loader"}),J.jsx("p",{children:"Loading expenses..."})]}):M.length>0?J.jsx("ul",{className:"expense-list",children:M.map(ot=>J.jsxs("li",{children:[ot.name," - ₦",ot.amount.toFixed(2)," (",ot.category,")"]},ot.id))}):J.jsx("p",{children:"No expenses recorded this month."}),J.jsx("button",{onClick:Ts,className:"button button-yellow",disabled:x||Yt,children:x?"Downloading CSV...":Yt?"Offline":"Download CSV"})]}),J.jsxs("div",{className:"section",children:[J.jsx("h2",{children:"Current Month Insights"}),J.jsx("p",{className:"suggestion",children:Ct}),J.jsx("p",{className:"advice",children:Xn}),Object.keys(Ne).map(ot=>J.jsx("p",{className:Ne[ot].startsWith("❗")?"alert-red":"alert-yellow",children:Ne[ot]},ot)),u?J.jsxs("div",{className:"loader-wrapper",children:[J.jsx("div",{className:"loader"}),J.jsx("p",{children:"Loading charts..."})]}):J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"chart-container",children:[J.jsx("h3",{children:"Category Breakdown"}),J.jsx("canvas",{ref:ms,height:"300","aria-label":"Category breakdown chart"})]}),J.jsxs("div",{className:"chart-container",children:[J.jsx("h3",{children:"Daily Spending"}),J.jsx("canvas",{ref:ur,height:"300","aria-label":"Daily spending chart"})]}),J.jsxs("div",{className:"chart-container",children:[J.jsx("h3",{children:"Monthly Spending"}),J.jsx("canvas",{ref:xn,height:"300","aria-label":"Monthly spending chart"})]}),J.jsx("button",{onClick:()=>{var ot;return Zn(((ot=Gn.currentUser)==null?void 0:ot.email)||ct)},className:"button button-green",disabled:E||Yt,"aria-label":"Send current month report",children:E?"Sending Email...":Yt?"Offline":"Send Current Month Report"})]})]}),J.jsxs("div",{className:"section",children:[J.jsx("h2",{children:"Expense Forecast"}),O||_?J.jsxs("div",{className:"loader-wrapper",children:[J.jsx("div",{className:"loader"}),J.jsx("p",{children:"Loading forecast chart..."})]}):J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"chart-container",children:J.jsx("canvas",{ref:mo,height:"300","aria-label":"Expense forecast chart"})}),Object.keys(Vt).filter(ot=>ot!=="summary").map(ot=>J.jsx("p",{className:"suggestion",children:Vt[ot].suggestion},ot)),J.jsx("p",{className:"suggestion",children:Vt.summary})]})]}),J.jsxs("div",{className:"section",children:[J.jsx("h2",{children:"Previous Month Viewer"}),J.jsx("button",{onClick:()=>pt(ot=>!ot),className:"button button-blue","aria-label":"Toggle month selector",disabled:Yt,children:lt?"Hide Month Selector":"Select Previous Month"}),lt&&J.jsxs("div",{className:"input-group",children:[J.jsx("input",{type:"month",value:Et,onChange:ot=>U(ot.target.value),className:"input","aria-label":"Select previous month",disabled:Yt}),J.jsx("button",{onClick:bs,className:"button button-green",disabled:d||Yt,children:d?"Loading Data...":Yt?"Offline":"View Month"})]}),d?J.jsxs("div",{className:"loader-wrapper",children:[J.jsx("div",{className:"loader"}),J.jsx("p",{children:"Loading previous month chart..."})]}):nt?J.jsxs("div",{className:"prev-data-container",children:[J.jsxs("p",{children:[J.jsxs("strong",{children:["Total Spent in ",Et,":"]})," ₦",nt.total.toFixed(2)]}),J.jsx("p",{children:nt.aiSummary}),J.jsx("div",{className:"chart-container",children:J.jsx("canvas",{ref:hr,height:"200","aria-label":"Previous month spending chart"})}),J.jsxs("div",{className:"input-group",children:[J.jsx("input",{type:"email",placeholder:"Enter email for report",value:ct,onChange:ot=>vt(ot.target.value),className:"input","aria-label":"Email for previous month report",disabled:Yt}),J.jsx("button",{onClick:dr,className:"button button-green",disabled:E||Yt,children:E?"Sending Email...":Yt?"Offline":"Send Report via Email"}),J.jsx("button",{onClick:da,className:"button button-yellow",disabled:x||Yt,children:x?"Downloading CSV...":Yt?"Offline":"Download CSV"})]})]}):Et&&J.jsx("div",{className:"prev-data-container",children:J.jsxs("p",{children:["No data for ",Et]})})]})]})}function VU(){return J.jsxs(h2,{children:[J.jsx(Xf,{path:"/",element:J.jsx(eV,{})}),J.jsx(Xf,{path:"/signup",element:J.jsx(nV,{})}),J.jsx(Xf,{path:"/dashboard",element:J.jsx(LU,{})})]})}const UU=bI.createRoot(document.getElementById("root"));UU.render(J.jsx(fI.StrictMode,{children:J.jsx(N2,{basename:"/Smart-Expense-Tracker-web",children:J.jsx(VU,{})})}));
